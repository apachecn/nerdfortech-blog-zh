# React ä¸­çš„ GraphQL é˜¿æ³¢ç½—å®¢æˆ·ç«¯:ä¸€æ­¥ä¸€æ­¥æ­å»º GraphQL å®¢æˆ·ç«¯ React-App

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/graphql-apollo-client-in-react-build-an-app-step-by-step-2461574f16c8?source=collection_archive---------3----------------------->

![](img/6c37d8db620e7c38cc6177b94b0c4b72.png)

åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä¸€æ­¥ä¸€æ­¥åœ°è§£é‡Šå¦‚ä½•ä½¿ç”¨ Apollo å®¢æˆ·ç«¯çš„æœ€æ–°ç‰ˆæœ¬æ„å»ºä¸€ä¸ª GraphQL React åº”ç”¨ç¨‹åºã€‚è¿™å°†æ˜¯ä¸€äº›æ–‡ç« /æ­¥éª¤çš„æ±‡ç¼–

å®Œæ•´çš„ä»£ç å¯ä»¥åœ¨

[](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/tree/master/fetch-data) [## ranyelhousieny/graph QL _ ApolloClient _ React

### https://ranyel . medium . com/graph QL-Apollo-Client-in-react-build-an-app-step-by-step-2461574 F16 c8 graph QL é˜¿æ³¢ç½—å®¢æˆ·ç«¯â€¦

github.com](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/tree/master/fetch-data) 

1.  ç¬¬ä¸€æ­¥:[è®¾ç½®ä¸»é¡¹ç›®å¹¶æŸ¥è¯¢](https://www.linkedin.com/pulse/graphql-apollo-client-react-step1-setting-up-base-rany/)[https://www . LinkedIn . com/pulse/graph QL-Apollo-client-react-step 1-setting-up-base-rany/](https://www.linkedin.com/pulse/graphql-apollo-client-react-step1-setting-up-base-rany/)

[](https://www.linkedin.com/pulse/graphql-apollo-client-react-step1-setting-up-base-rany/) [## React ä¸­çš„ GraphQL Apollo å®¢æˆ·ç«¯:æ­¥éª¤ 1-è®¾ç½®åŸºç¡€é¡¹ç›®

### åœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæˆ‘å°†è§£é‡Šå¦‚ä½•ä½¿ç”¨ Apollo å®¢æˆ·ç«¯ä¸ React ä¸­çš„ GraphQL API è¿›è¡Œäº¤äº’ã€‚æˆ‘å°†å»ºç«‹ä¸€ä¸ªâ€¦

www.linkedin.com](https://www.linkedin.com/pulse/graphql-apollo-client-react-step1-setting-up-base-rany/) 

[2**ã€‚æ­¥éª¤ 2 â€”ä½¿ç”¨æ¥è‡ª react-apollo**](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-2-query-present-rany/) çš„æŸ¥è¯¢æ¥æŸ¥è¯¢å’Œå‘ˆç°æ•°æ®:[https://www . LinkedIn . com/pulse/graph QL-Apollo-client-react-step-2-Query-present-rany/](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-2-query-present-rany/)

[](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-2-query-present-rany/) [## React ä¸­çš„ GraphQL Apollo å®¢æˆ·ç«¯:æ­¥éª¤ 2â€”â€”ä½¿ç”¨ react-apollo ä¸­çš„æŸ¥è¯¢æŸ¥è¯¢å¹¶æ˜¾ç¤ºæ•°æ®

### ä¸Šä¸€æ­¥(https://www.linkedinã€‚

www.linkedin.com](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-2-query-present-rany/) 

3.æ­¥éª¤ 3 â€”ä» GraphQL æŸ¥è¯¢ä¸­æ‰“å°åˆ—è¡¨:[https://www . LinkedIn . com/pulse/graph QL-Apollo-client-react-step-3-Query-present-rany/](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-3-query-present-rany/?published=t)

[](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-3-query-present-rany/) [## React ä¸­çš„ GraphQL Apollo å®¢æˆ·ç«¯:æ­¥éª¤ 3 -ä½¿ç”¨ Queryâ€¦æŸ¥è¯¢å¹¶æ˜¾ç¤ºæ•°æ®ä¸­çš„é¡¹ç›®åˆ—è¡¨

### åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª react åº”ç”¨ç¨‹åºï¼Œå¹¶ä» GraphQL ä¸­è·å–æ•°æ®ã€‚æˆ‘ä»¬åªå°äº†ä¸€ä¸ªå›½å®¶ã€‚

www.linkedin.com](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-3-query-present-rany/) 

[4ã€‚ç¬¬å››æ­¥:React ä¸­çš„ GraphQL é˜¿æ³¢ç½—å®¢æˆ·ç«¯:ç¬¬å››æ­¥â€”ä¼ é€’å˜é‡](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-4-passing-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0/):[https://www . LinkedIn . com/pulse/graph QL-Apollo-Client-React-Step-4-Passing-rany-elhousieny-PhD % E1 % B4 % AC % E1 % B4 % AE % E1 % B4 % B0/](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-4-passing-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0/)

[](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-4-passing-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0/) [## React ä¸­çš„ GraphQL Apollo å®¢æˆ·ç«¯:æ­¥éª¤ 4 -ä¼ é€’å˜é‡

### è¿™ä¸ªå¾ˆæœ‰æ„æ€ã€‚æˆ‘ä»¬å°†ä¼ é€’ country_idï¼Œç„¶åä½¿ç”¨æŸ¥è¯¢ GraphQL æ¥æŸ¥æ‰¾æ‹¥æœ‰è¿™ä¸ªå›½å®¶çš„â€¦

www.linkedin.com](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-4-passing-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0/) 

==================================

# æ­¥éª¤ 1-è®¾ç½®åŸºç¡€é¡¹ç›®

åœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæˆ‘å°†è§£é‡Šå¦‚ä½•ä½¿ç”¨ Apollo å®¢æˆ·ç«¯ä¸ React ä¸­çš„ GraphQL API è¿›è¡Œäº¤äº’ã€‚æˆ‘ä¼šæ­å»ºä¸€ä¸ªéå¸¸ç®€å•çš„ app(æœ€ç»ˆä»£ç å¯ä»¥åœ¨ [æ‰¾åˆ°](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/tree/master/fetch-data)[)https://github . com/ranyelhousieny/graph QL _ Apollo client _ React/tree/master/fetch-data](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/tree/master/fetch-data)ã€‚

ç”±äºè¿™æ›´ä¾§é‡äºå‰ç«¯ï¼Œæ‰€ä»¥æˆ‘å°†ä½¿ç”¨ä¸€ä¸ªå…¬å…±çš„ GraphQL API æ¥è·å–æ•°æ®(https://countries . Trevor blades . com/)ã€‚æˆ‘ä¸ä¼šè§£é‡Š GraphQL æœåŠ¡å™¨ç«¯ã€GraphQL åŸºç¡€çŸ¥è¯†æˆ– React åŸºç¡€çŸ¥è¯†ã€‚æˆ‘å‡è®¾æ‚¨äº†è§£ GraphQL å’Œ React åŸºç¡€çŸ¥è¯†ï¼Œå¹¶ä¸”çŸ¥é“å¦‚ä½•ä½¿ç”¨ create-react-app åˆ›å»ºåº”ç”¨ç¨‹åºã€‚æœ¬æ–‡å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨ Apollo å®¢æˆ·ç«¯ä» GraphQL API è·å–æ•°æ®ã€‚

![](img/f3ceaff35a597722a228281242d06c98.png)

åœ¨å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£ React å¦‚ä½•ä¸ GraphQL å’Œ Apollo äº¤äº’ã€‚é˜¿æ³¢ç½—å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»é˜¿æ³¢ç½—-å®¢æˆ·ç«¯ä¸çŸ¥é“ååº”ã€‚Apollo å®¢æˆ·ç«¯çš„å·¥ä½œæ˜¯ä¸ä¸€ä¸ª GraphQL æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œå¹¶å°†æ•°æ®å­˜å‚¨åœ¨ Apollo Store ä¸­(ç±»ä¼¼äº Redux store:)ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å°† react-apollo å®¢æˆ·ç«¯ä¸ React-Apollo çš„ ApolloProvider é“¾æ¥èµ·æ¥ã€‚ApolloProvider å°†åŒ…è£…æˆ‘ä»¬çš„ React åº”ç”¨ç¨‹åºï¼Œå¹¶å…è®¸æ‰€æœ‰å­åº”ç”¨ç¨‹åºä¸å•†åº—è¿›è¡Œäº¤äº’ã€‚å¦‚æœä½ ä»¥å‰ç”¨è¿‡ Reduxï¼Œä½ ä¼šè§‰å¾—è¿™å¾ˆç†Ÿæ‚‰ã€‚

# 1.ä½¿ç”¨ npx create-react-app <app name="">åˆ›å»ºä¸€ä¸ª react é¡¹ç›®</app>

![](img/917bf338bf2f13c4d7583d3b1e28b477.png)

æˆ–è€…æ‚¨å¯ä»¥å…‹éš†æˆ‘çš„é¡¹ç›®å¹¶è·Ÿéš

git clone[https://github . com/ranyelhousieny/graph QL _ Apollo client _ react . git](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React.git)

![](img/3cc3bcdaa790940160a0c37eee46a78c.png)

# 2.åœ¨ src/index.js ä¸Šå¯¼å…¥ Apollo React æä¾›ç¨‹åº

![](img/64e97c150d8c16d2315be85781813c0d.png)![](img/8f2b8dbabf35dca38c9e7f50542b1b7e.png)

# 3.å°† Apollo å®¢æˆ·ç«¯å¯¼å…¥ src/index.js

![](img/7aa5d9d10c2ce128b6dae767f1e63ea1.png)

# 4.å¯¼å…¥å¹¶åˆå§‹åŒ– InMemoryCache å’Œ HttpLink

![](img/7f05fd0e9d0192ed1776857aa2677414.png)![](img/8cf4996b20933378ccaeb13695f74c7a.png)

# 4.åˆ›å»ºåŸºæœ¬å®¢æˆ·ç«¯

ä» Apollo 2.0 å¼€å§‹ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨ç¼“å­˜å’Œé“¾æ¥åˆå§‹åŒ–å®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/b09ad855d0ea7cbbe249eb8ef9fec4a4.png)

# 5.å®‰è£…ä¾èµ–é¡¹

npm å®‰è£…é˜¿æ³¢ç½—-å®¢æˆ·ç«¯ååº”-é˜¿æ³¢ç½—é˜¿æ³¢ç½—-ç¼“å­˜-å†…å­˜é˜¿æ³¢ç½—-é“¾æ¥-http-ä¿å­˜

![](img/7f0c3d44513e46dd569478d59d5987ce.png)![](img/c060bc1078d6b175c91409d6782fb2db.png)

# 6.å°† React åº”ç”¨ç¨‹åºåŒ…è£…åœ¨ Apollo æä¾›ç¨‹åºä¸­

![](img/b072b6f80388aa4360553517a92ad1bf.png)

# ä¸‹é¢æ˜¯è¿„ä»Šä¸ºæ­¢çš„ [index.js](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/src/index.js) :

[https://github . com/ranyelhousieny/graph QL _ Apollo client _ React/blob/master/fetch-data/src/index . js](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/src/index.js)

![](img/0632f481bcdbea9a90647b58149ccefd.png)

æ‚¨å¯ä»¥ä½¿ç”¨ npm start å¯åŠ¨æ‚¨çš„ web åº”ç”¨ç¨‹åºï¼Œåœ¨å±å¹•ä¸Šçœ‹åˆ°æ‚¨æ­£åœ¨æ„å»ºçš„å†…å®¹ã€‚æˆ‘æŠŠ App.js ä¿®æ”¹å¦‚ä¸‹(ç›®å‰å¯é€‰)[https://github . com/ranyelhousieny/graph QL _ Apollo client _ React/blob/master/fetch-data/src/app . js](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/src/App.js)

ä½ å¯ä»¥é€šè¿‡è¿›å…¥ [https://localhost:3000](https://localhost:3000) åœ¨æµè§ˆå™¨ä¸Šçœ‹åˆ°è¾“å‡º

![](img/615df04b66073ccf978dbccc61b985d5.png)![](img/9934f0f4ec06169c4a438e0807149eab.png)

# æ·»åŠ  GraphQL æœåŠ¡å™¨çš„ URL

ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°† GraphQL æœåŠ¡å™¨çš„ URL æ·»åŠ åˆ°[package . JSON](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/package.json)[https://github . com/ranyelhousieny/graph QL _ Apollo client _ React/blob/master/fetch-data/package . JSON](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/package.json)

" proxy ":" https://countries . Trevor blades . com/"

![](img/eb48f7b34e17cbd680809efc9638eeb6.png)

# ä»[https://countries.trevorblades.com](https://countries.trevorblades.com)å¤„è·å–æŸ¥è¯¢

ç°åœ¨ï¼Œè®©æˆ‘ä»¬å»[https://countries.trevorblades.com](https://countries.trevorblades.com)å¹¶å°è¯•ä¸€ä¸ªæŸ¥è¯¢æŠŠå®ƒæ”¾å…¥ä»£ç ä¸­

![](img/959bf03ee201099b29715038a086e17e.png)

åœ¨å·¦ä¾§å°è¯•ä¸Šé¢æ˜¾ç¤ºçš„ä»¥ä¸‹æŸ¥è¯¢ï¼Œç„¶åå•å‡»ç®­å¤´åœ¨å³ä¾§æŸ¥çœ‹ç»“æœ

```
query{ country(code:"US"){ code name }}
```

# å‘ä»£ç ä¸­æ·»åŠ æŸ¥è¯¢

ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†æŸ¥è¯¢æ·»åŠ åˆ°ä»£ç ä¸­ï¼Œå¹¶å°†ç»“æœæ‰“å°åˆ°æ§åˆ¶å°

1.  å¯¼å…¥ gql

```
import gql from 'graphql-tag';
```

2.å°†æ‚¨å¤åˆ¶çš„æŸ¥è¯¢æ·»åŠ åˆ°å®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹æ‰€ç¤º(è¯·æ³¨æ„ä¸­é—´çš„ç¬¦å·`è¡¨ç¤ºæ‚¨ç¼–å†™æŸ¥è¯¢çš„ä½ç½®)

![](img/d5d2c5d2c09273a3aed2153a623c46ea.png)![](img/ca997c047e0ebfef601c5d0426f7f53b.png)

æ‚¨å¯ä»¥åœ¨æ§åˆ¶å°ä¸Šä»æµè§ˆå™¨éªŒè¯ç»“æœï¼Œå¦‚ä¸‹æ‰€ç¤º(æˆ‘å‡è®¾æ‚¨ä»ç„¶æœ‰ npm å¼€å§‹è¿è¡Œ)

![](img/22aa046796b27a49164d4717053a8085.png)![](img/b7d96fa4e547374372da09555f0bb933.png)![](img/d1af0cb7389c7c8971c5cea24d34b324.png)

# æ­¥éª¤ 2â€”â€”ä½¿ç”¨ react-apollo ä¸­çš„æŸ¥è¯¢æ¥æŸ¥è¯¢å’Œæ˜¾ç¤ºæ•°æ®

åœ¨å‰é¢çš„[æ­¥éª¤](https://www.linkedin.com/pulse/graphql-apollo-client-react-step1-setting-up-base-rany/?published=t&trackingId=GN85mLfQ0CHINZ1gkqRmyg%3D%3D)(https://www . LinkedIn . com/pulse/graphql-Apollo-client-react-step 1-setting-up-base-rany/)ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†åŸºç¡€é¡¹ç›®å¹¶å‘å‡º graph QL æŸ¥è¯¢æ¥è·å–ä¸€ä¸ªå›½å®¶ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘åœ¨ index.js ä¸­å®ç°äº†æ‰€æœ‰å†…å®¹ï¼Œå¹¶å°†ç»“æœæ‰“å°åˆ°æ§åˆ¶å°ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨æµè§ˆå™¨ä¸Šå‘ˆç°æŸ¥è¯¢ç»“æœã€‚

# 1.å°†æŸ¥è¯¢æ·»åŠ åˆ° App.js ä¸­çš„å…¨å±€å˜é‡

![](img/85bb723cb93e4ae329626418e4435770.png)

# 2.å°†ç»“æœæ‰“å°åˆ°å±å¹•ä¸Š

æˆ‘ä»¬å°†åˆ©ç”¨æ¥è‡ª react-apollo çš„æŸ¥è¯¢

ä»â€œreact-apolloâ€å¯¼å…¥{ Query }ï¼›

å®Œæ•´ä»£ç å¯ä»¥åœ¨[è¿™é‡Œæ‰¾åˆ°](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/src/App.js)[https://github . com/ranyelhousieny/graph QL _ Apollo client _ React/blob/master/fetch-data/src/app . js](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/src/App.js)

![](img/b227d8d737fa8b65fc8576d776c4cab9.png)

# æ­¥éª¤ 3 â€”ä½¿ç”¨æ¥è‡ª react-apollo å’Œ map çš„æŸ¥è¯¢ï¼ŒæŸ¥è¯¢å¹¶æ˜¾ç¤ºæ•°æ®ä¸­çš„é¡¹ç›®åˆ—è¡¨

åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª react åº”ç”¨ç¨‹åºï¼Œå¹¶ä» GraphQL ä¸­è·å–æ•°æ®ã€‚æˆ‘ä»¬åªå°äº†ä¸€ä¸ªå›½å®¶ã€‚

1.  [https://www . LinkedIn . com/pulse/graph QL-Apollo-client-react-step 1-setting-up-base-rany/](https://www.linkedin.com/pulse/graphql-apollo-client-react-step1-setting-up-base-rany/)
2.  [https://www . LinkedIn . com/pulse/graph QL-Apollo-client-react-step-2-query-present-rany/](https://www.linkedin.com/pulse/graphql-apollo-client-react-step-2-query-present-rany/)

è®©æˆ‘ä»¬æ‰“å°ä¸€ä¸ªå¸¦æœ‰â€œè¯¦ç»†â€é“¾æ¥çš„å›½å®¶åˆ—è¡¨(æˆ‘è¿˜æ²¡æœ‰ä½¿ç”¨ä»»ä½• cssï¼Œæ‰€ä»¥å®ƒå¾ˆç®€å•)ã€‚ä»£ç ä½äº:[https://github . com/ranyelhousieny/graph QL _ Apollo client _ React/blob/master/fetch-data/src/components/countries list . jsx](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/src/components/CountriesList.jsx)

æœ€ç»ˆé¡µé¢å°†å¦‚ä¸‹æ‰€ç¤º:

![](img/6c24a37b8b1f6c3293895288b57ec8bd.png)

# 1.è¯¥æŸ¥è¯¢æ˜¯ä»ç½‘ç«™ç›´æ¥å¤åˆ¶çš„

![](img/f846ea9a783d01fb7f97cfe460d93366.png)

# 2.å›½å®¶åˆ—è¡¨ç»„ä»¶

è®©æˆ‘ä»¬åœ¨ components æ–‡ä»¶å¤¹ä¸‹ä¸º countries åˆ—è¡¨åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶ï¼Œå¹¶åƒå‰é¢ä¸€æ ·æ·»åŠ æŸ¥è¯¢

![](img/4da724632c9767c82fd17976fed6d631.png)

å”¯ä¸€çš„æ–°ä¸œè¥¿æ˜¯æˆ‘ä»¬å°†æ¥æ”¶ã€æ’åˆ—å’Œä½¿ç”¨ map æ¥æ‰“å°æ¯ä¸ªé¡¹ç›®

![](img/b2a70f3f125876774b793815b17275df.png)

æˆ‘ä»¬å°†ä» App.js è°ƒç”¨è¿™ä¸ªç»„ä»¶

![](img/0fcd814ae5475f793cef7ed0f73691e6.png)

# æ­¥éª¤ 4 â€”ä¼ é€’å˜é‡

# é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªè·¯ç”±åˆ‡æ¢åˆ°ä¸€ä¸ªæ–°çš„é¡µé¢çš„ç»†èŠ‚

```
index.jsimport { BrowserRouter, Route } from 'react-router-dom';....ReactDOM.render(
  <ApolloProvider client={ client }>
    <BrowserRouter>
      <Route exact path='/' component={ App } />
      <Route exact path='/country/:country_id' component={ Country} />
    </BrowserRouter>
  </ApolloProvider>,
  document.getElementById('root')
```

ç„¶ååœ¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªå›½å®¶/åœ°åŒºä¸‹æ·»åŠ è·¯çº¿(CountriesList.jsx)

```
<Link to={ `/country/${country.code}` } >Details</Link>
```

åˆ›å»ºä¸€ä¸ªæ–°çš„åŠŸèƒ½ç»„ä»¶ Country.jsx å¹¶å¯¼å…¥ gqlï¼ŒæŸ¥è¯¢åŒä¸Š

```
import React from 'react'; import gql from 'graphql-tag'; import { Query } from 'react-apollo';
```

æˆ‘ä»¬å°†å›½å®¶ä»£ç ä½œä¸ºå‚æ•°æ¥æ”¶ã€‚è®©æˆ‘ä»¬æŠŠå®ƒæ‰“å°åˆ°æ§åˆ¶å°ä¸Šï¼Œçœ‹çœ‹å®ƒæ˜¯ä»€ä¹ˆæ ·å­

```
const Country = ( props ) => {
    const { country_id }  = props.match.params
    console.log( "props", props, " Country Id = ", country_id );
```

![](img/97652f616428f059591edd1c952ba786.png)

æ­£å¦‚æ‚¨åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…·æœ‰å¦ä¸€ä¸ªåä¸ºâ€œmatchâ€çš„å¯¹è±¡çš„å¯¹è±¡ã€‚å†…éƒ¨åŒ¹é…å¦ä¸€ä¸ªåä¸ºâ€œparamsâ€çš„å¯¹è±¡ï¼Œå®ƒå…·æœ‰æˆ‘ä»¬è¦å¯»æ‰¾çš„å˜é‡â€œcountry_idâ€

è®©æˆ‘ä»¬æŒ‰å¦‚ä¸‹æ–¹å¼æå– country_id:

```
const { country_id }  = props.match.params
```

ç°åœ¨æˆ‘ä»¬éœ€è¦å°†å®ƒæ·»åŠ åˆ°æŸ¥è¯¢ä¸­ã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œè®©æˆ‘ä»¬å…ˆåœ¨æœåŠ¡å™¨ä¸Šè¯•è¯•ï¼Œç„¶åä»é‚£é‡Œå¤åˆ¶(https://countries.trevorblades.com/)

![](img/aa322781f56203712a63e9c19d37a2cd.png)

æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬åœ¨æŸ¥è¯¢æ—è¾¹æ·»åŠ äº†ä¸€ä¸ªå¼ºåˆ¶å˜é‡â€œ$idâ€ã€‚GraphQL æŸ¥è¯¢ä¸­çš„æ‰€æœ‰å˜é‡éƒ½ä»¥$å¼€å¤´ã€‚å®ƒçš„ç±»å‹æ˜¯ ID å’Œï¼æ—è¾¹è¡¨ç¤ºå®ƒä¸èƒ½ä¸ºç©º

```
query($id: ID!){
```

æ­¤å¤–ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä»£ç æ¥æ ‡è¯†å“ªä¸ªå›½å®¶ï¼Œæˆ‘ä»¬å°†ä»å˜é‡$id ä¸­è·å–å®ƒ

```
country(code:$id){
```

æ³¨æ„åº•éƒ¨çš„å˜é‡ï¼Œæˆ‘ä»¬åœ¨é‚£é‡Œä¼ é€’è¿™ä¸ªå˜é‡çš„å€¼

```
{
  "id": "US"
}
```

å¤åˆ¶æŸ¥è¯¢å¹¶å°†å…¶æ·»åŠ åˆ°ä»£ç ä¸­

```
const QUERY = gql `query ($country_id: ID!) {
        country(code:$country_id){
            code
            name
            native
        }}`
```

ç°åœ¨ï¼Œæ‚¨éœ€è¦åœ¨æŸ¥è¯¢ä¸­å°†å®ƒä½œä¸ºå˜é‡ä¼ é€’

```
<Query query={ QUERY } variables={ { country_id } }>
```

![](img/21416e9b5ea65e6b89db45e143cd4192.png)

ä¸‹é¢æ˜¯å®Œæ•´çš„æ–‡ä»¶[https://github . com/ranyelhousieny/graph QL _ Apollo client _ React/blob/master/fetch-data/src/components/country . jsx](https://github.com/ranyelhousieny/GraphQL_ApolloClient_React/blob/master/fetch-data/src/components/Country.jsx)

![](img/282b8935e8cb049acc5f98e4a68d8a77.png)

è¿™æ˜¯æµè§ˆå™¨ä¸Šçš„è¾“å‡º

![](img/7d8a30376531a83d4c05f1d7ccf080f6.png)

ä½œè€…:å…°å°¼Â·åŸƒå°”è±ªæ–¯å°¼

[](https://www.linkedin.com/in/ranyelhousieny/) [## å…°å°¼Â·åŸƒå°”è±ªæ–¯å°¼ï¼ŒPhDá´¬á´®á´° -è½¯ä»¶å·¥ç¨‹é«˜çº§ç»ç†- Zulily | LinkedIn

### ğ™ˆğ™ğ™˜ğ™§ğ™¤ğ™¨ğ™šğ™§ğ™«ğ™ğ™˜ğ™šğ™¨è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆğ˜¼ğ™’ğ™ğ™ğ™¤ğ™¡ğ™ªğ™©ğ™ğ™¤ğ™£ğ™¨ğ˜¼ğ™§ğ™˜ğ™ğ™ğ™©ğ™šğ™˜ğ™©ğ˜¾ğ™šğ™§ğ™©ğ™ğ™›ğ™ğ™šğ™™â€¦

www.linkedin.com](https://www.linkedin.com/in/ranyelhousieny/) [](https://rany.elhousieny.com) [## å…°å°¼Â·åŸƒå°”è±ªæ–¯å°¼ç®€å†

### ä½¿ç”¨ MongoDBï¼ŒElastic Searchï¼ŒAWSï¼ŒReactï¼ŒCSS3ï¼Œhtml 5â€¦â€¦

rany.elhousieny.com](https://rany.elhousieny.com)