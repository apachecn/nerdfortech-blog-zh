<html>
<head>
<title>DefaultValues- Create Default Values Out of Thin Air â€” Exploring-purescript-modules #4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DefaultValues-å‡­ç©ºåˆ›å»ºé»˜è®¤å€¼-Exploring-pure script-modules # 4</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/defaultvalues-create-default-values-out-of-thin-air-exploring-purescript-modules-4-a80f1210d06b?source=collection_archive---------7-----------------------#2022-10-23">https://medium.com/nerd-for-tech/defaultvalues-create-default-values-out-of-thin-air-exploring-purescript-modules-4-a80f1210d06b?source=collection_archive---------7-----------------------#2022-10-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fc8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‚¨æ˜¯å¦æ›¾ç»æƒ³è¦åˆ›å»ºå ä½ç¬¦å€¼ï¼Œæ¯”å¦‚ä¸€ä¸ªå¤§è®°å½•ï¼Œå› æ­¤æ‚¨åˆ›å»ºäº†ä¸€ä¸ªä¿å­˜è™šæ‹Ÿå€¼çš„å˜é‡ï¼Œå¹¶å°†å…¶ç”¨äº<code class="du jd je jf jg b">fromMaybe</code>æˆ–è§£ç å¤±è´¥ç­‰ï¼Ÿ</p><p id="c322" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬å‡è®¾æ‚¨æœ‰ä¸€ä¸ªè®°å½•ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªäººçš„ä¿¡æ¯ï¼Œ</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="5b7e" class="jp jq hi jg b fi jr js l jt ju">type Person = <br/>      { name :: String<br/>      , age :: Int <br/>      , height :: Number <br/>      , ....<br/>      }</span></pre><p id="8465" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å‡è®¾æ‚¨æƒ³ä¸ºæ‚¨çš„è¡¨å•ç»„ä»¶åˆ›å»ºä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œä¸Šé¢çš„æ‰€æœ‰ç»†èŠ‚éƒ½å°†è¢«å¡«å……ï¼Œé‚£ä¹ˆåˆå§‹çŠ¶æ€ä¼šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="016e" class="jp jq hi jg b fi jr js l jt ju">initialState :: Person<br/>initialState = <br/>      { name : ""<br/>      , age : 0<br/>      , height : 0.0<br/>      , ....<br/>      }</span></pre><blockquote class="jv jw jx"><p id="4c11" class="if ig jy ih b ii ij ik il im in io ip jz ir is it ka iv iw ix kb iz ja jb jc hb bi translated">æ³¨æ„:ç†æƒ³æƒ…å†µä¸‹ï¼Œå®ƒä»¬åº”è¯¥ç”¨ Maybe ç±»å‹åŒ…è£…ï¼Œä½†å‡ºäºè§£é‡Šç›®çš„ï¼Œè¯·åŸè°…æˆ‘ã€‚</p></blockquote><p id="9c18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«å¤§çº¦ 5-10 ä¸ªå­—æ®µçš„è™šæ‹Ÿ/å ä½ç¬¦å€¼çš„è®°å½•ï¼Œä½†æ˜¯å¦‚æœå­—æ®µçš„æ•°é‡è¶…è¿‡ 10 æˆ– 20 æˆ–æ›´å¤šå‘¢ï¼Ÿæˆ‘ä»¬å¿…é¡»ç¼–å†™è¿™äº›æ ·æ¿ä»£ç æ¥åˆ›å»ºè™šæ‹Ÿå€¼å—ï¼Ÿå¦‚æœæŸä¸ªåŒ…åªç»™æˆ‘ä»¬ç”¨é»˜è®¤å€¼å¡«å……çš„å€¼ä¸æ˜¯æ›´å¥½å—ï¼Ÿè¿™éš¾é“ä¸ä¼šèŠ‚çœå¼€å‘äººå‘˜å¤§é‡æ—¶é—´å—ï¼Ÿ</p><p id="d73e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ‰æ²¡æœ‰ä»€ä¹ˆåŒ…å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿæ˜¯çš„ï¼Œæœ‰ä¸€ä¸ªåä¸º<a class="ae kc" href="https://pursuit.purescript.org/packages/purescript-default-values/1.0.1" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">pure script-default-values</strong></a>çš„åŒ…ï¼Œå®ƒå°±æ˜¯ç”¨æ¥åˆ›å»ºé»˜è®¤å€¼çš„ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­æ¢è®¨å¦‚ä½•ä½¿ç”¨è¿™ä¸ªåŒ…ã€‚</p><figure class="jh ji jj jk fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es kd"><img src="../Images/8a25fd26e571b1aa882dd04584f73a0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Co1l-6P_kyTdRC3ybiJ2Q.jpeg"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated"><a class="ae kc" href="https://unsplash.com/@jhaland?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">çº¦æ ¹Â·å“ˆå…°</a>åœ¨<a class="ae kc" href="https://unsplash.com/s/photos/twins?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><p id="d951" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ¨¡å—ï¼Œå®ƒæœ‰ä¸€ä¸ªåä¸º<code class="du jd je jf jg b">DefaultValue</code>çš„ç±»å‹ç±»ï¼Œè¯¥ç±»å‹ç±»æœ‰ä¸€ä¸ªåä¸º<code class="du jd je jf jg b">defaultValue</code>çš„æ–¹æ³•ï¼Œè°ƒç”¨è¿™ä¸ªç‰¹å®šçš„æ–¹æ³•å°†ä¸ºæˆ‘ä»¬æä¾›è¯¥ç‰¹å®šç±»å‹çš„é»˜è®¤å€¼ã€‚</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="9499" class="jp jq hi jg b fi jr js l jt ju">myDefaultInt :: Int<br/>myDefaultInt = defaultValue </span><span id="6721" class="jp jq hi jg b fi kw js l jt ju">myDefaultString :: String<br/>myDefaultString = defaultValue</span><span id="1b33" class="jp jq hi jg b fi kw js l jt ju">&gt;&gt;&gt; myDefaultInt<br/>&gt;&gt;&gt; 0</span><span id="15ba" class="jp jq hi jg b fi kw js l jt ju">&gt;&gt;&gt; myDefaultString<br/>&gt;&gt;&gt; ""</span></pre><p id="061c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨è®©æˆ‘ä»¬å‡è®¾æ‚¨æœ‰ä¸€ä¸ª<code class="du jd je jf jg b">Maybe Int</code>å€¼ï¼Œå¹¶ä¸”æ‚¨æ­£åœ¨ä½¿ç”¨ fromMaybe ä» Maybe åŒ…è£…å™¨ä¸­è·å–å®é™…çš„æ•´æ•°ã€‚æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œæˆ‘ä»¬ä¼šç»™ 0 ä½œä¸ºä¸‡ä¸€ä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿæ—¶çš„åå¤‡ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç <code class="du jd je jf jg b">0</code>æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼Œ</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="44a4" class="jp jq hi jg b fi jr js l jt ju">&gt;&gt;&gt; fromMaybe defaultValue (Just 100)<br/>&gt;&gt;&gt; 100</span><span id="0228" class="jp jq hi jg b fi kw js l jt ju">&gt;&gt;&gt; fromMaybe defaultValue (Nothing :: Maybe Int)<br/>&gt;&gt;&gt; 0</span></pre><p id="f9eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jy">æ³¨æ„:å¦‚æœä½¿ç”¨çš„æ˜¯ replï¼Œåˆ™éœ€è¦ç±»å‹æ³¨é‡Š</em> <code class="du jd je jf jg b"><em class="jy">Nothing</em></code> <em class="jy">ï¼Œå¦åˆ™ç¼–è¯‘å™¨æ— æ³•æ¨æ–­ç±»å‹ã€‚</em></p><p id="6a94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å½“æ¶‰åŠåˆ° Intã€Stringã€Number ç­‰åŸºæœ¬ç±»å‹æ—¶ï¼Œæä¾›é»˜è®¤å€¼å¹¶ä¸éº»çƒ¦ã€‚ä½†æ˜¯è¿™ä¸ªåŒ…åœ¨å¤„ç†å¤§é‡åµŒå¥—çš„è®°å½•æ—¶éå¸¸å‡ºè‰²ã€‚</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="2d82" class="jp jq hi jg b fi jr js l jt ju">type PersonInfo = <br/>      { name :: String<br/>      , age :: Int <br/>      , height :: Number<br/>      , father :: Person <br/>      , mother :: Person<br/>      , degrees :: Array String<br/>      , address : <br/>            { city :: String<br/>            , pincode :: Int<br/>            , street : <br/>                 { line1 :: String  <br/>                 , line2 :: String<br/>                 , ....<br/>                 }<br/>            }<br/>      , ..... <br/>      }</span></pre><p id="2a1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœä½ è¯•å›¾å°†ä¸€ä¸ª<code class="du jd je jf jg b">foreign</code>è§£ç æˆä¸Šè¿°ç±»å‹ï¼Œä½ å¾ˆå¯èƒ½ä¼šä½¿ç”¨<code class="du jd je jf jg b"><a class="ae kc" href="https://pursuit.purescript.org/packages/purescript-foreign-generic/10.0.0/docs/Foreign.Generic.Class#v:decode" rel="noopener ugc nofollow" target="_blank">decode</a></code>ã€‚å¦‚æœæ‚¨æ— è®ºå¦‚ä½•éƒ½è¦è¿”å›ä¸Šè¿°ç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆåœ¨å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œæ‚¨æ˜¯å¦å¿…é¡»åˆ›å»ºä¸€ä¸ªæ‰€æœ‰å­—æ®µéƒ½ç”¨ç©ºå€¼å¡«å……çš„è™šæ‹Ÿè®°å½•ï¼Ÿç»å¯¹ä¸ç”¨ï¼Œä½ å¯ä»¥ç›´æ¥ç”¨<code class="du jd je jf jg b">defaultValue</code></p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="7cbe" class="jp jq hi jg b fi jr js l jt ju">decodePerson :: Foreign -&gt; PersonInfo<br/>decodePerson fgn = case decode fgn of <br/>               Right person -&gt; person <br/>               Left _ -&gt; defaultValue</span></pre><p id="f678" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å½“è§£ç å¤±è´¥æ—¶ï¼Œ<code class="du jd je jf jg b">defaultValue</code>å°†ä¸ºæ‚¨æä¾›æ‰€æœ‰å­—æ®µéƒ½å¡«å……æœ‰è™šæ‹Ÿå€¼çš„è®°å½•ã€‚</p><p id="a54d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³ä¸ºè‡ªå®šä¹‰åˆ›å»ºçš„ç±»å‹æä¾›é»˜è®¤å€¼ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="b252" class="jp jq hi jg b fi jr js l jt ju">data Color = RED <br/>           | YELLOW<br/>           | GREEN</span></pre><p id="c9e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¦åœ¨è¿™ä¸ªç±»å‹ä¸Šä½¿ç”¨<code class="du jd je jf jg b">defaultValue</code>ï¼Œæ‚¨åªéœ€ä¸ºè¿™ä¸ªç‰¹å®šç±»å‹åˆ›å»ºä¸€ä¸ª<code class="du jd je jf jg b">DefaultValue</code>å®ä¾‹ã€‚</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="c9e5" class="jp jq hi jg b fi jr js l jt ju">instance defaultColor :: DefaultValue Color where <br/>    defaultValue = GREEN</span><span id="764e" class="jp jq hi jg b fi kw js l jt ju">&gt;&gt;&gt; defaultValue :: Color<br/>&gt;&gt;&gt; GREEN</span></pre></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><p id="efc3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">å¥–åŠ±æç¤º</strong></p><p id="e4f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºå·²ç»åœ¨æ­¤æ¨¡å—ä¸­å®šä¹‰çš„ç±»å‹æä¾›ä¸åŒçš„é»˜è®¤å€¼ã€‚</p><p id="f41d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„<code class="du jd je jf jg b">age</code>å­—æ®µçš„é»˜è®¤å€¼ä¸º 18ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ª Int defaultValueï¼Œå°†äº§ç”Ÿ<code class="du jd je jf jg b">0</code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°† Int å°è£…åœ¨ newtype ä¸­ï¼Œå¹¶ä¸ºå®ƒæä¾›æˆ‘ä»¬è‡ªå·±çš„ DefaultValue å®ç°ã€‚</p><pre class="jh ji jj jk fd jl jg jm jn aw jo bi"><span id="fd6e" class="jp jq hi jg b fi jr js l jt ju">newtype Age = Age Int<br/>instance defaultAge :: DefaultValue Age where <br/>    defaultValue = 18</span><span id="afa8" class="jp jq hi jg b fi kw js l jt ju">&gt;&gt;&gt; defaultValue :: Age<br/>&gt;&gt;&gt; 18</span></pre></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><p id="5c83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¹¶å‘ç°è¿™æ˜¯æœ‰å¸®åŠ©çš„ï¼Œè®©æˆ‘çŸ¥é“å®ƒé¼“æŒğŸ‘è¿˜æ˜¯é€šè¿‡è¯„è®ºã€‚</p></div></div>    
</body>
</html>