<html>
<head>
<title>ActivityResult API Androidâ€¦</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ´»åŠ¨ç»“æœAPI Androidâ€¦</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/activityresult-api-android-87308971c277?source=collection_archive---------0-----------------------#2020-12-05">https://medium.com/nerd-for-tech/activityresult-api-android-87308971c277?source=collection_archive---------0-----------------------#2020-12-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e4e8c2c31937a3b44f4a5d43650fd8a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GN-IA_pdjhvfKPSfpk_u9A.png"/></div></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="3351" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">ä»Šå¤©æˆ‘ä»¬å°†å­¦ä¹ <strong class="iz hj"> ActivityResult API </strong>ï¼Œå®ƒè®©Androidå¼€å‘äººå‘˜æ›´å®¹æ˜“ç®¡ç†æƒé™å’Œæ´»åŠ¨é—´é€šä¿¡ã€‚</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><ul class=""><li id="6e9b" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">ç›®å‰ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ¥è‡ª<strong class="iz hj">å­æ´»åŠ¨æˆ–ç”±ä¸»æœºæ´»åŠ¨</strong> yå¯åŠ¨çš„å¦ä¸€ä¸ªæ´»åŠ¨ <strong class="iz hj">çš„æ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong class="iz hj"> startActivityForResult </strong>å’Œ<strong class="iz hj"> onActivityResult </strong></strong></li></ul><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="a3c6" class="kn ko hi kj b fi kp kq l kr ks">// start activity <br/>startActivityForResult(intent,requestCode)</span><span id="90f8" class="kn ko hi kj b fi kt kq l kr ks">// get the result<br/>override fun onActivityResult(<em class="ku">requestCode</em>: Int, <em class="ku">resultCode</em>: Int, <em class="ku">data</em>: Intent?) {<br/>    super.onActivityResult(<em class="ku">requestCode</em>, <em class="ku">resultCode</em>, <em class="ku">data</em>)<br/>}</span></pre><ul class=""><li id="0864" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">ç¬¬äºŒä¸ªç”¨ä¾‹æ˜¯<strong class="iz hj">æƒé™</strong>ï¼Œå¦‚æœä½ æ›¾ç»å®ç°è¿‡è¯·æ±‚æƒé™exã€‚è®¿é—®åª’ä½“æ–‡ä»¶ç­‰ã€‚ä½ çŒœå¯¹äº†ã€‚</li></ul><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="b856" class="kn ko hi kj b fi kp kq l kr ks">// request for permisison<br/>requestPermissions(<em class="ku">arrayOf</em>(android.Manifest.permission.<em class="ku">READ_CALENDAR</em>))</span><span id="4a51" class="kn ko hi kj b fi kt kq l kr ks">// manage the result <br/>override fun onRequestPermissionsResult(<br/>    <em class="ku">requestCode</em>: Int,<br/>    <em class="ku">permissions</em>: Array&lt;out String&gt;,<br/>    <em class="ku">grantResults</em>: IntArray<br/>) {<br/>    super.onRequestPermissionsResult(<em class="ku">requestCode</em>, <em class="ku">permissions</em>, <em class="ku">grantResults</em>)<br/>}</span></pre></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="6b25" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">ç°åœ¨æˆ‘ä»¬å°†äº†è§£ä¸Šè¿°ç”¨ä¾‹æ˜¯å¦‚ä½•ğŸ‘†ä½¿ç”¨ActivityResult API </strong>å®ç°å˜å¾—æ›´åŠ å®¹æ˜“</p><p id="49af" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">é¦–å…ˆè¦åšçš„äº‹æƒ…:</strong></p><ul class=""><li id="c597" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated"><strong class="iz hj">ä¾èµ–å…³ç³»:</strong>æ·»åŠ ğŸ‘‡åœ¨ä½ çš„<strong class="iz hj">åº”ç”¨çº§build.gradleæ–‡ä»¶</strong>ä¸­çš„<strong class="iz hj"> 2ä¾èµ–å…³ç³»</strong>ä¹‹å</li></ul><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="eccc" class="kn ko hi kj b fi kp kq l kr ks">// check the latest version @Android released notes<br/>implementation "androidx.activity:activity-ktx:1.2.0-beta02"<br/>implementation 'androidx.fragment:fragment-ktx:1.3.0-beta02'</span></pre><blockquote class="kv kw kx"><p id="89bf" class="ix iy ku iz b ja jb jc jd je jf jg jh ky jj jk jl kz jn jo jp la jr js jt ju hb bi translated"><strong class="iz hj">è¯·æ±‚æƒé™</strong>:è¯¥APIæä¾›äº†<strong class="iz hj"> 2ç§æ–¹å¼</strong>è¯·æ±‚æƒé™ã€‚</p></blockquote><p id="be21" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">æ´»åŠ¨ç»“æœåˆåŒã€‚RequestPermission()) : </strong>å¦‚æœä½ æƒ³è¯·æ±‚å•ä¸ªæƒé™ï¼Œè¿™ä¸ª<strong class="iz hj">å¥‘çº¦</strong>ä¼šä¸ºä½ åš<strong class="iz hj">çš„å·¥ä½œ</strong>ã€‚</p><ul class=""><li id="659c" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">ä½¿ç”¨<strong class="iz hj">è¯·æ±‚è®¸å¯åˆåŒ</strong>åˆ›å»º<strong class="iz hj">activity request launcher</strong></li></ul><p id="af53" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">Lambdaåœ¨ä¸‹é¢çš„ä»£ç ä¸­ğŸ‘‡å°†åœ¨è¯·æ±‚å®Œæˆæ—¶æ‰§è¡Œï¼Œæ‚¨å¯ä»¥è°ƒç”¨å®ƒ<strong class="iz hj"> onRequestPermissionsResultã€‚</strong></p><blockquote class="kv kw kx"><p id="fb69" class="ix iy ku iz b ja jb jc jd je jf jg jh ky jj jk jl kz jn jo jp la jr js jt ju hb bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ ¹æ®æ˜¯å¦æˆäºˆæƒé™ï¼Œå®ƒè¿”å›å¸ƒå°”å€¼<strong class="iz hj"/></p></blockquote><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/3ba4119047be5eef7c9b7d9ef28bd922.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uXGUkqgG4wxV3M3Z6bftuQ.png"/></div></div></figure><ul class=""><li id="2dec" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">å¥½äº†ï¼Œä½ å¯ä»¥å»ç”³è¯·ä»»ä½•è®¸å¯äº†ï¼Œå®ƒä¼šä¸ºä½ å®Œæˆå·¥ä½œ</li></ul><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/52c1ecbbd750ee0c042247b81d5315a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wbto_v66_hHyuScGACG1Kw.png"/></div></div></figure><ul class=""><li id="6998" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">APIæä¾›äº†è®¸å¤šå…¶ä»–é¢„æ„å»ºçš„å¥‘çº¦ï¼Œæ‚¨å¯ä»¥åƒ<strong class="iz hj">requestpermissionä¸€æ ·ç›´æ¥ä½¿ç”¨ã€‚</strong>æŸ¥çœ‹å‚è€ƒèµ„æ–™éƒ¨åˆ†ï¼Œäº†è§£æ›´å¤šä¿¡æ¯ã€‚</li></ul><p id="1860" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">å¦‚æœä½ æƒ³è¯·æ±‚å¤šä¸ªæƒé™ä½¿ç”¨ä¸‹é¢çš„å¥‘çº¦:</strong></p><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/046a7e3aad2352010197ae2c8738325a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JUovfPgyxYwzL3ZBqVleZw.png"/></div></div></figure><p id="aa96" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">æ­¤å¤„<strong class="iz hj">ç»“æœ</strong>ğŸ‘†å±äºç±»å‹<strong class="iz hj">æ˜ å°„&lt;å­—ç¬¦ä¸²ã€å¸ƒå°”&gt;ã€</strong>ï¼Œå…¶å…·æœ‰ä½œä¸ºå…³é”®å­—çš„<strong class="iz hj">æƒé™åç§°å’ŒåŸºäºæ˜¯å¦æˆäºˆæƒé™çš„<strong class="iz hj">å€¼</strong></strong></p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="4670" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">ç°åœ¨æˆ‘ä»¬å°†äº†è§£å¦‚ä½•ä½¿ç”¨è¯¥APIä»å­æ´»åŠ¨ä¸­è·å–æ•°æ®ã€‚</strong></p><ul class=""><li id="b9b8" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">æˆ‘ä»¬å°†åˆ›å»º<strong class="iz hj">è‡ªå®šä¹‰å¥‘çº¦</strong>ï¼Œè¯¥å¥‘çº¦<strong class="iz hj">æ‰©å±•</strong>æ´»åŠ¨<strong class="iz hj">ç»“æœå¥‘çº¦&lt;è¾“å…¥ã€è¾“å‡º&gt; () </strong></li></ul><p id="681b" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">è¾“å…¥</strong>:å¦‚æœéœ€è¦å‘é€ä¸€äº›æ•°æ®</p><p id="4234" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">è¾“å‡º</strong> : <strong class="iz hj">ç»“æœ</strong>æ‚¨æœŸæœ›ä»æ‚¨ä¸ºç»“æœè€Œå¼€å§‹çš„æ´»åŠ¨ä¸­å¾—åˆ°çš„ç»“æœ</p><ul class=""><li id="30c9" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated">è¿™é‡ŒğŸ‘‡æˆ‘ä»¬å·²ç»åˆ›å»ºäº†è‡ªå®šä¹‰å¥‘çº¦ï¼Œå®ƒå°†<strong class="iz hj"> Intä½œä¸ºè¾“å…¥</strong>ï¼Œå¹¶ç»™æˆ‘ä»¬<strong class="iz hj">å­—ç¬¦ä¸²</strong>ç±»å‹çš„<strong class="iz hj">ç»“æœ</strong></li></ul><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/f42edd6ffba47481245998af25123b6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l3b4-fFWTjtXoZPo0nUH2Q.png"/></div></div></figure><ul class=""><li id="bd79" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated"><strong class="iz hj">æˆ‘ä»¬éœ€è¦è¦†ç›–ä¸¤ä¸ªæ–¹æ³•:</strong></li></ul><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="1053" class="kn ko hi kj b fi kp kq l kr ks">// here we handle the result</span><span id="91d3" class="kn ko hi kj b fi kt kq l kr ks">parseResult(<em class="ku">resultCode</em>: Int, <em class="ku">intent</em>: Intent?): String?  // it's the Output type that we have defined for our contract<br/></span><span id="2917" class="kn ko hi kj b fi kt kq l kr ks">// this method creates the Intent that we defined, input:Int? It's the input type that we have defined for our contract</span><span id="2998" class="kn ko hi kj b fi kt kq l kr ks">createIntent(<em class="ku">context</em>: Context, <em class="ku">input</em>: Int?): Intent</span></pre><ul class=""><li id="249c" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated"><strong class="iz hj">è®©æˆ‘ä»¬ç”¨è¿™ä¸ªå¥‘çº¦:</strong></li></ul><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/70dfddf78192a6361b93b840f35985c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hWZXZ0QnQROmnGPy0tf-tg.png"/></div></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><ul class=""><li id="d6a0" class="jv jw hi iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd bi translated"><strong class="iz hj">è¿™æ˜¯æœ¬æ–‡çš„Githubå›è´­:</strong></li></ul><div class="lf lg ez fb lh li"><a href="https://github.com/navczydev/ActivityContractsSample" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">navczydev/ActivityContractsSample</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">ActivityResult API sample GitHubæ˜¯5000å¤šä¸‡å¼€å‘äººå‘˜çš„å®¶å›­ï¼Œä»–ä»¬å…±åŒå·¥ä½œæ¥æ‰˜ç®¡å’Œå®¡æŸ¥ä»£ç ã€ç®¡ç†â€¦</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">github.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw io li"/></div></div></a></div></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h2 id="de0c" class="kn ko hi bd lx ly lz ma mb mc md me mf ji mg mh mi jm mj mk ml jq mm mn mo mp bi translated"><strong class="ak">ğŸ‘ğŸ‘å¿«ä¹ç¼–ç æˆ‘å¸Œæœ›ä½ ä»Šå¤©å­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ğŸ‘ğŸ‘</strong></h2></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="e0b0" class="mq ko hi bd lx mr ms mt mb mu mv mw mf mx my mz mi na nb nc ml nd ne nf mo ng bi translated">ä¿æŒè”ç³»</h1><div class="lf lg ez fb lh li"><a href="https://www.linkedin.com/in/navczydev/" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">Nav Singh -ä¸­çº§ç§»åŠ¨è½¯ä»¶å·¥ç¨‹å¸ˆ-å®åˆ©| LinkedIn</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">åœ¨ä¸–ç•Œä¸Šæœ€å¤§çš„èŒä¸šç¤¾åŒºLinkedInä¸ŠæŸ¥çœ‹Nav Singhçš„ä¸ªäººèµ„æ–™ã€‚Navåˆ—å‡ºäº†6ä¸ªèŒä½â€¦</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">www.linkedin.com</p></div></div></div></a></div><p id="7331" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><a class="ae nh" href="https://twitter.com/navczydev" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hj">æ¨ç‰¹</strong> </a></p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="c292" class="mq ko hi bd lx mr ms mt mb mu mv mw mf mx my mz mi na nb nc ml nd ne nf mo ng bi translated">å‚è€ƒ</h1><ul class=""><li id="5a68" class="jv jw hi iz b ja ni je nj ji nk jm nl jq nm ju ka kb kc kd bi translated"><a class="ae nh" href="https://developer.android.com/reference/androidx/activity/result/ActivityResult" rel="noopener ugc nofollow" target="_blank">https://developer . Android . com/reference/androidx/activity/result/activity result</a></li><li id="a7d1" class="jv jw hi iz b ja nn je no ji np jm nq jq nr ju ka kb kc kd bi translated"><a class="ae nh" href="https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts" rel="noopener ugc nofollow" target="_blank">https://developer . Android . com/reference/androidx/activity/result/contract/ActivityResultContracts</a></li></ul><div class="lf lg ez fb lh li"><a href="https://android-developers.googleblog.com/2020/07/jetpack-activityresult.html" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">ä½¿ç”¨Jetpack ActivityResultæ”¹å–„æ´»åŠ¨é—´çš„äº¤æµ</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">æ— è®ºæ‚¨æ˜¯è¯·æ±‚è®¸å¯ï¼Œä»ç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨ä¸­é€‰æ‹©æ–‡ä»¶ï¼Œè¿˜æ˜¯æœŸæœ›ä»ç¬¬ä¸‰æ–¹è·å¾—æ•°æ®â€¦</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">android-developers.googleblog.com</p></div></div><div class="lr l"><div class="ns l lt lu lv lr lw io li"/></div></div></a></div></div></div>    
</body>
</html>