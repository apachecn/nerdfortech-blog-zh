# Heroku cloud ä¸ŠæŒç»­éƒ¨ç½²çš„ Spring åº”ç”¨ç¨‹åº

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/spring-app-on-heroku-cloud-with-continuous-deployment-328ff8fbfe7a?source=collection_archive---------13----------------------->

å¿«é€Ÿé˜…è¯»ğŸ“–åœ¨äº’è”ç½‘ä¸Šå‘å¸ƒç½‘ç»œåº”ç”¨ğŸŒã€‚å®¹æ˜“ï¼Œæ²¡æœ‰å‹å€’æ€§çš„æœåŠ¡ğŸ¤–æ¯”å¦‚ AWS æˆ–è€…è°·æ­Œäº‘ã€‚

![](img/001b4060efc316d8726fe37b2d0dfdcb.png)

Heroku â˜ï¸æ˜¯ä¸€ä¸ªåŸºäº Salesforce çš„**å¹³å°å³æœåŠ¡**ï¼Œå®ƒç®€åŒ–äº†**è½¯ä»¶å‘å¸ƒ**çš„ç—›è‹¦éƒ¨åˆ†â€”â€”æ„å»ºã€æœåŠ¡å™¨ã€è´Ÿè½½å¹³è¡¡ã€æ—¥å¿—ã€ç›‘æ§å’Œéƒ¨ç½²**ï¼Œè®©å¼€å‘äººå‘˜å°†**ä¸“æ³¨äº**ç¼–ç **ğŸ’»ã€‚

> è¯·åœ¨ [Heroku docs](https://www.heroku.com/dynos) é˜…è¯»ç›¸å…³å†…å®¹ã€‚

åº”ç”¨ç¨‹åºæ‰˜ç®¡åœ¨ Heroku çš„äº‘ä¸Šï¼Œåœ¨ç±»ä¼¼ docker çš„ä¸“æœ‰å®¹å™¨ dynos ä¸­ã€‚

> Heroku æ˜¯æŠ€æœ¯æ ˆä¸å¯çŸ¥çš„ï¼Œå®ƒæ”¯æŒ Pythonï¼Œnodeï¼ŒPHP å’Œå…¶ä»–å‡ ä¸ªæ ˆã€‚

ä¸‹é¢çš„æ–‡ç« éœ€è¦å¯¹ GitHubã€Spring Boot å’Œ Maven æœ‰åŸºæœ¬çš„äº†è§£ã€‚

# **GitHub è®¾ç½®**

é¦–å…ˆï¼Œä½ éœ€è¦ spring åº”ç”¨ç¨‹åºğŸƒGitHub å­˜å‚¨åº“ä¸­çš„ä»£ç åº“ã€‚æˆ‘ä»¥ä¸‹é¢çš„å›è´­ä¸ºä¾‹ã€‚

çŸ¥è¯†åº“:[https://github.com/arjunchakri/sherlock-heroku-poc](https://github.com/arjunchakri/sherlock-heroku-poc)

è®¾ç½®æ‚¨çš„ spring åº”ç”¨ç¨‹åºä»£ç ï¼Œå¹¶åœ¨ pom.xml ä¸­å£°æ˜[spring-boot-maven-plugin](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/)ï¼Œä»¥ä¾¿åœ¨æ„å»ºåç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶ã€‚(ä½¿ç”¨â€œmvn å¹²å‡€åŒ…â€)

O éœ€è¦è¯´æ˜çš„ä¸€ä»¶é‡è¦äº‹æƒ…æ˜¯ä½ çš„åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹**ã€‚Heroku infrastructure åœ¨æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•ä¸­å¯»æ‰¾ä¸€ä¸ªâ€œProcfileâ€æ–‡ä»¶ã€‚**

```
web: java -Dserver.port=$PORT $JAVA_OPTS -jar target/herokupoc-*.jar
```

*   è¿™æ˜¯åœ¨ Heroku cloud ä¸­ä½¿ç”¨åŒ…ç›®æ ‡æ„å»ºé¡¹ç›®åï¼Œåº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚
*   æ ¹æ®é¡¹ç›®çš„å·¥ä»¶ IDï¼Œç¼–è¾‘ä¸Šé¢çš„äºŒè¿›åˆ¶åç§°ã€‚
*   åœ¨éƒ¨ç½²æœŸé—´ï¼Œç«¯å£å°†è¢«è®¾ç½®ä¸ºåŠ¨æ€ç«¯å£å·ã€‚

ä¸€æ—¦ spring æœåŠ¡å™¨ä»æœ¬åœ°æ„å»ºçš„ jar æˆåŠŸè¿è¡Œï¼Œå°±å°†ä»£ç æ¨é€åˆ°æ‚¨çš„ git å­˜å‚¨åº“ã€‚

# Heroku è®¾ç½®

ç°åœ¨ä»£ç åº“å·²ç»å‡†å¤‡å¥½äº†ï¼Œè®©æˆ‘ä»¬åœ¨ Heroku ä¸Šè®¾ç½®ä¸€äº›ä¸œè¥¿ã€‚å¦‚å‰æ‰€è¿°ï¼ŒHeroku

> Heroku ç›®å‰æœ‰ä¸€ä¸ª[è‡ªç”±å±‚](https://www.heroku.com/pricing)ğŸä½¿ç”¨æœ‰é™ã€‚åº”ç”¨ç¨‹åºåœ¨ 30 åˆ†é’Ÿä¸æ´»åŠ¨åè¿›å…¥ç¡çœ çŠ¶æ€(ä¸€æ—¦è¢«è°ƒç”¨ï¼Œå¤§çº¦éœ€è¦ 30 ç§’æ‰èƒ½ä¸Šçº¿)ï¼Œå¹¶ä¸”åªæœ‰æœ‰é™çš„åŠ¨æ€æ—¶é—´ã€‚
> 
> ä¿è´¹ç­‰çº§**ğŸ’°**æä¾›æ›´å¤šåŠŸèƒ½ï¼Œä½¿åº”ç”¨ç¨‹åºç”Ÿäº§å°±ç»ªï¼Œæ‰©å±•ã€ç›‘æ§ã€è®°å½•å’Œæå‡æœåŠ¡å™¨å†…å­˜å’Œ CPUã€‚

åœ¨ https://www.heroku.com/[æ³¨å†Œæ–°è´¦æˆ·](https://www.heroku.com/)

æ‚¨ç°åœ¨å°†çœ‹åˆ° **Heroku ä»ªè¡¨æ¿**ï¼Œå‘å¸ƒç”µå­é‚®ä»¶éªŒè¯å’Œåè®®ã€‚é€‰æ‹©**æ–°å»º** - >æ–°å»ºä¸€ä¸ª appã€‚

![](img/75b1b3174c61b2c2b4f9c19f4ddf8957.png)

Heroku åº”ç”¨ä»ªè¡¨æ¿

è¯·è°¨æ…é€‰æ‹©åº”ç”¨ç¨‹åºåç§°ï¼Œå› ä¸ºå®ƒå°†æ˜¯è¯¥åº”ç”¨ç¨‹åºçš„å…¬å…± URLã€‚

```
**appname**.herokuapp.com
```

é€‰æ‹©å”¯ä¸€çš„åº”ç”¨ç¨‹åºåç§°åï¼Œä»éƒ¨ç½²éƒ¨åˆ†è¿æ¥æ‚¨çš„ GitHub å¸æˆ·ã€‚ç„¶åè¿æ¥æ‚¨çš„å­˜å‚¨åº“ã€‚

![](img/d7491a168fbf4d8908dca60a7f2bebdb.png)

Heroku åº”ç”¨ä»ªè¡¨æ¿â€”éƒ¨ç½²é€‰é¡¹å¡

ç¬¬ä¸€æ¬¡ï¼Œç‚¹å‡»â€œéƒ¨ç½²åˆ†æ”¯â€æŒ‰é’®ï¼ŒHeroku æ£€æŸ¥æ‚¨çš„ä»£ç ï¼Œè¿è¡Œ Maven buildï¼Œå¹¶å‘å¸ƒæ‚¨çš„åº”ç”¨ç¨‹åºã€‚

ç¡®ä¿å¯ç”¨è‡ªåŠ¨éƒ¨ç½²é€‰é¡¹ğŸ”„â€”éå¸¸é€‚åˆå¯ç”¨äº†**è¿ç»­éƒ¨ç½²**çš„æš‚å­˜ç¯å¢ƒã€‚

> æŒç»­éƒ¨ç½²ï¼Ÿä½ æ¨é€åˆ° Git åº“çš„ä»»ä½•ä»£ç æ›´æ”¹éƒ½ä¼šè§¦å‘ä¸€ä¸ªæ–°çš„æ„å»ºå¹¶é‡æ–°éƒ¨ç½²åº”ç”¨ã€‚

![](img/2f80ab4674f0da9a0f31aa100892894e.png)

æ‚¨å¯ä»¥ä»â€œè®¾ç½®â€é€‰é¡¹å¡->åŸŸä¸­æŸ¥çœ‹æ‚¨çš„åº”ç”¨ç¨‹åºçš„å…¬å…± URLã€‚

[https://sherlock-test.herokuapp.com/](https://sherlock-test.herokuapp.com/)

![](img/e7f9445d06f68a4f90f6f8c8394314a7.png)

å¥¥æ‹‰ï¼Œä½ çš„åº”ç”¨ç¨‹åºç°å·²ä¸Šçº¿ğŸ‰ï¼ï¼
æ­¤å¤–ï¼Œå¯¹æ‚¨çš„å­˜å‚¨åº“çš„ä»£ç æ›´æ”¹å°†åœ¨å‡ åˆ†é’Ÿå†…ç”Ÿæ•ˆï¼ï¼