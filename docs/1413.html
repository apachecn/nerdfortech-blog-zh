<html>
<head>
<title>How long is an SMS? And how to best handle the UX.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä¸€æ¡çŸ­ä¿¡æœ‰å¤šé•¿ï¼Ÿä»¥åŠå¦‚ä½•æœ€å¥½åœ°å¤„ç†UXã€‚</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/how-long-is-an-sms-and-how-to-best-handle-the-ux-88a75e161f43?source=collection_archive---------10-----------------------#2021-03-17">https://medium.com/nerd-for-tech/how-long-is-an-sms-and-how-to-best-handle-the-ux-88a75e161f43?source=collection_archive---------10-----------------------#2021-03-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d096" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™æ˜¯å¦ä¸€ä¸ªæœ‰è¶£çš„æŒ‘æˆ˜ï¼Œæˆ‘æœ€è¿‘é‡æ„äº†ä¸€ä¸ªå®¢æˆ·çš„çŸ­ä¿¡æœåŠ¡ï¼Œé‡åˆ°äº†ä¸å°‘é—®é¢˜ã€‚(å“¦ï¼Œé¡ºä¾¿è¯´ä¸€å¥ï¼ŒSMSæ˜¯ä½ é€šå¸¸åœ¨æ‰‹æœºä¸Šå‘é€çš„æ–‡æœ¬æ¶ˆæ¯â€”â€”å¯èƒ½ä¸ä¼šè€ƒè™‘å®ƒçš„é•¿åº¦ğŸ˜‰)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/7cb9e7fcb73e3d81c8b7d866dce3d8b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D9SW8JZYstL3FYnYbNMBDw.jpeg"/></div></div></figure><p id="bd85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">å…³äºçŸ­ä¿¡é•¿åº¦çš„ä¸€äº›èƒŒæ™¯ä¿¡æ¯</strong></p><p id="3808" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸€æ¡æ ‡å‡†çŸ­ä¿¡æœ€å¤šå¯ä»¥å®¹çº³160ä¸ªå­—ç¬¦ã€‚å¦‚æœä½ è¾“å…¥161ä¸ªå­—ç¬¦ï¼Œä»æŠ€æœ¯ä¸Šè®²ï¼Œä½ å°†å‘é€2æ¡çŸ­ä¿¡ï¼Œä½†è¿™äº›çŸ­ä¿¡å°†æ— ç¼è¿æ¥ï¼Œå› æ­¤æ¥æ”¶è€…ä¼šå°†å…¶è§†ä¸ºä¸€æ¡çŸ­ä¿¡ã€‚è¿™å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†æœ‰è¶£çš„åœ°æ–¹å°±åœ¨è¿™é‡ŒğŸ™ƒ</p><p id="0160" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™å–å†³äºâ€¦å‡ ä»¶äº‹ã€‚</p><p id="dca7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åƒä¸€äº›çŸ­ä¿¡æä¾›å•†ä¿ç•™å­—ç¬¦/å­—èŠ‚ç”¨äºæ‹¼æ¥å¤šæ¡çŸ­ä¿¡ï¼Œå› æ­¤æ¯æ¡æ ‡å‡†çŸ­ä¿¡åªéœ€è¦153ä¸ªå­—ç¬¦â€¦</p><p id="9470" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœä½ ç”¨è¥¿ç­ç‰™è¯­å†™ä½ çš„æƒ…ä¹¦ï¼Œä½ å¯èƒ½æœ€å¤šæœ‰155ä¸ªå­—ç¬¦â€”â€”å‡å»ä¸€äº›å…¶ä»–çš„ä¸œè¥¿â€¦</p><p id="eba5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœæ‚¨é€‰æ‹©æ’å…¥ä¸€ä¸ªğŸ’•ä½ çš„èå£«æ¯”äºšæ‰èƒ½å°†ä¸å¾—ä¸åœ¨ä»…ä»…70ä¸ªå­—ç¬¦ä¸­æ˜¾éœ²å‡ºæ¥ğŸ¤”</p><p id="edaa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é—®é¢˜æ˜¯ï¼Œç”¨æˆ·ä¸èƒ½ç›´æ¥çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚å› æ­¤ï¼Œå¦‚æœå”ç’œ(åœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯è‹±å›½äºº)ç”¨159ä¸ªå­—ç¬¦(1æ¡çŸ­ä¿¡)å‘é€ä»–çš„çˆ±ï¼Œå¹¶ä»¥ä¸€ä¸ªæ¼‚äº®çš„ç»“å°¾ğŸ’•ä»–ç°åœ¨å°†è¢«æ”¶å–3æ¡çŸ­ä¿¡å…±160å°â€œä¿¡â€çš„è´¹ç”¨ã€‚</p><p id="0c20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">æä»€ä¹ˆé¬¼ï¼Ÿä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</strong></p><p id="8e6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å½“ä½ ä½¿ç”¨çš„æ™ºèƒ½æ‰‹æœºä¸å…·å¤‡åŒ…å«çŸ­ä¿¡çš„æ˜‚è´µæœåŠ¡ï¼Œè€Œæ˜¯éœ€è¦ä¸€ä¸ªAPIæ¥å‘æˆç™¾ä¸Šåƒçš„çŸ­ä¿¡æ¥æ”¶è€…å‘é€çŸ­ä¿¡æ—¶ï¼Œä½ å°†ä¸å¾—ä¸ä¸ºæ¯æ¡çŸ­ä¿¡ä»˜è´¹ã€‚å¤§é‡çš„è¿™äº›å¹¶ä¸ä¾¿å®œã€‚æ‰€ä»¥ä½ åŸºæœ¬ä¸Šæƒ³é¿å…ä¸ºæ¯æ¡çŸ­ä¿¡æ”¯ä»˜2æˆ–3æ¡çŸ­ä¿¡çš„è´¹ç”¨ã€‚</p><p id="3f3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é¦–å…ˆï¼Œä½ å°†ä¸å¾—ä¸çœ‹çœ‹ä½ çš„çŸ­ä¿¡APIï¼Œçœ‹çœ‹ä»–ä»¬æœ‰ä»€ä¹ˆç¼ºé™·æˆ–ä¸åŒ…æ‹¬ã€‚</p><p id="b617" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç¬¬äºŒï¼Œä½ å¿…é¡»å†³å®šå¦‚ä½•å¤„ç†è¿™ä¸ªUXã€‚</p><p id="8478" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">ç®€å•æ˜“è¡Œçš„è§£å†³æ–¹æ¡ˆ</strong></p><p id="2c1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">"æˆ‘ä¸åœ¨ä¹ï¼Œæˆ‘ä¼šæ”¯ä»˜é¢å¤–çš„è´¹ç”¨."</p><p id="d8a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">å‡ ä¹ä¸€æ ·ç®€å•çš„è§£å†³æ–¹æ¡ˆ</strong></p><p id="0e19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">â€œæˆ‘åªéœ€â€˜è¯¢é—®â€™APIï¼Œç„¶ååœ¨1æ¡çŸ­ä¿¡ååˆ é™¤æ–‡æœ¬â€</p><p id="392b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">è¶£å‘³è§£å†³æ–¹æ¡ˆ(å¸¦æ›´å¥½çš„UX) </strong></p><p id="d2cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">èŒƒå›´:æˆ‘ä»¬å¸Œæœ›å®æ—¶é€šçŸ¥ç”¨æˆ·ï¼Œè€Œä¸ä¼šæœ‰å¤ªå¤šçš„éº»çƒ¦ã€‚</p><p id="ec3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å…è´£å£°æ˜:æ‚¨å¯ä»¥é€šè¿‡ä¸ºæ¯ä¸ªå­—ç¬¦è¯·æ±‚SMS APIæ¥è§£å†³ä»¥ä¸‹é—®é¢˜ã€‚ä½†é‚£æœ‰ä»€ä¹ˆå¥½ç©çš„ğŸ¤­</p><p id="4c13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jp">å…è®¸160 charæ ‡å‡†çŸ­ä¿¡ã€‚</em> </strong> <br/>è¿™æ„å‘³ç€â€œä»…â€ä½¿ç”¨+128å­—ç¬¦çš„æ ‡å‡†GSM-7å­—ç¬¦é›†ã€‚</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="0f03" class="jv jw hi jr b fi jx jy l jz ka">this.gsm7 = ['@', 'Â£', '$', 'Â¥', 'Ã¨', 'Ã©', 'Ã¹', 'Ã¬', 'Ã²', 'Ã‡', 'Ã˜', 'Ã¸', 'Ã…', 'Ã¥', 'Î”', '_', 'Î¦', 'Î“', 'Î›', 'Î©', 'Î ', 'Î¨', 'Î£', 'Î˜', 'Î', '^', '{', '}', '\\', '[', '~', ']', '|', 'â‚¬', 'Ã†', 'Ã¦', 'ÃŸ', 'Ã‰', '!', '"', '#', 'Â¤', '%', '&amp;', '\'', '(', ')', '*', '+', ',', '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '&lt;', '=', '&gt;', '?', 'Â¡', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'Ã„', 'Ã–', 'Ã‘', 'Ãœ', 'Â§', 'Â¿', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'Ã¤', 'Ã¶', 'Ã±', 'Ã¼', 'Ã ', ' ']</span></pre><p id="0000" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ ‡å‡†GSM-7ä¸ŠSMSçš„é•¿åº¦ã€‚<br/>è¿™é‡Œæˆ‘ä»¬å–æ¶ˆæ¯å­—æ®µï¼Œæ¯æ¬¡ä¿®æ”¹æ—¶ï¼Œæˆ‘ä»¬æ£€æŸ¥gsm7æ•°ç»„ä¸­çš„æ•´ä¸ªå­—ç¬¦ä¸²ã€‚è¿™åœ¨æ·»åŠ å’Œåˆ é™¤å­—æ®µä¸­çš„å­—ç¬¦æ—¶æœ‰æ•ˆã€‚</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="ae1b" class="jv jw hi jr b fi jx jy l jz ka">gsm7: string[];</span><span id="4946" class="jv jw hi jr b fi kb jy l jz ka">onValueChanges(): void {<br/>  this.message.valueChanges.pipe(<br/>    tap((value: string) =&gt; {<br/>      [...value].forEach((char: string) =&gt; {<br/>        if (this.gsm7.find(element =&gt; element === char)) {<br/>          this.maxAllowed = 160;<br/>        }<br/>      });<br/>    }),<br/>  ).subscribe();<br/>}</span></pre><p id="8dee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jp">å…è®¸éæ ‡å‡†çŸ­ä¿¡ã€‚</em>T19ã€‘</strong></p><p id="5b16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬å¿…é¡»å†³å®šå¦‚ä½•å¤„ç†gsm7æ•°ç»„ä¹‹å¤–çš„æ¶ˆæ¯å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å¯ä»¥å»æ‰€æœ‰çš„ç»†èŠ‚ï¼Œå¹¶æ‰¾å‡ºç©¶ç«Ÿæ˜¯å“ªäº›å­—ç¬¦å¯¼è‡´æ¯æ¡çŸ­ä¿¡å­—ç¬¦è¾ƒå°‘ï¼Œä½†æˆ‘å†³å®šå¦‚ä¸‹ã€‚</p><p id="b621" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å½“å¤„ç†gsm7ä¹‹å¤–çš„2å­—èŠ‚å­—ç¬¦(å³ä¸€äº›è¥¿ç­ç‰™å­—ç¬¦ï¼Œå¦‚Ãº)æ—¶ï¼Œæˆ‘ä»¬æœ‰æœ€å¤§145â€“155ä¸ªå­—ç¬¦èŒƒå›´å†…çš„æ¶ˆæ¯ï¼Œè€Œåœ¨gsm7ä¹‹å¤–ï¼Œæˆ‘ä»¬æœ‰æœ€å¤§70ä¸ªå­—ç¬¦å’Œ4å­—èŠ‚å­—ç¬¦(è¡¨æƒ…ç¬¦å·ç­‰)çš„æ¶ˆæ¯ã€‚</p><p id="7815" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å› æ­¤ï¼Œæˆ‘æµ‹é‡4å­—èŠ‚å­—ç¬¦</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="9b65" class="jv jw hi jr b fi jx jy l jz ka">(new Blob([char]).size === 4)</span></pre><p id="76c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¹¶å°†è¿™äº›æ¶ˆæ¯çš„æœ€å¤§é•¿åº¦è®¾ç½®ä¸º70ï¼Œå¦åˆ™æˆ‘ä¼šå°†å›ºå®šé•¿åº¦è®¾ç½®ä¸º140ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="b981" class="jv jw hi jr b fi jx jy l jz ka">gsm7: string[];</span><span id="21b9" class="jv jw hi jr b fi kb jy l jz ka">onValueChanges(): void {<br/>  this.message.valueChanges.pipe(<br/>    tap((value: string) =&gt; {<br/>      this.maxAllowed = 160;<br/>      [...value].forEach((char: string) =&gt; {<br/>        if (!this.gsm7.find(element =&gt; element === char)) {<br/>          if (new Blob([char]).size === 4) {<br/>            this.maxAllowed = 70;<br/>          } else if (this.maxAllowed &gt;= 140) {<br/>            this.maxAllowed = 140;<br/>          }<br/>        }<br/>      });<br/>    }),<br/>  ).subscribe();<br/>}</span></pre><p id="28a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½ ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ï¼Œå…è®¸140ä¸ªå­—ç¬¦çš„è¡¨æƒ…ä¿¡æ¯ï¼Œå¹¶æç¤ºç”¨æˆ·ç¡®è®¤ä»–ä»¬æƒ³ç»™æ¯ä¸ªæ”¶ä»¶äººå‘é€2æ¡ä¿¡æ¯ã€‚</p><p id="784c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨æˆ‘çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œå¦‚æœä»–ä»¬æœ‰å¾ˆå¤š2å­—èŠ‚å­—ç¬¦ï¼Œä»–ä»¬å¯èƒ½åœ¨å¾ˆå°‘çš„æƒ…å†µä¸‹å‘é€2æ¡æ¶ˆæ¯ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œä»–ä»¬å°†æ€»æ˜¯åªå‘é€1æ¡æ¶ˆæ¯ã€‚è¿™é‡Œçš„å¦ä¸€ä¸ªæƒè¡¡æ˜¯140ä¸ªå­—ç¬¦çš„é™åˆ¶ï¼Œæœ‰æ—¶ä»–ä»¬å¯ä»¥å‘é€ç¨å¾®å¤šä¸€ç‚¹çš„å­—ç¬¦(å®é™…ä¸Šä»ä¸è¶…è¿‡154ä¸ªå­—ç¬¦)ã€‚</p><p id="5eba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jp">ç•Œé¢ä¸­çš„ä¿¡æ¯</em> </strong></p><p id="c771" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘æƒ³åœ¨æœ€å¤§é•¿åº¦å‡å°‘æ—¶é€šçŸ¥ç”¨æˆ·ï¼Œæ‰€ä»¥å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œæˆ‘ä¼šæ’å…¥ä¸€ä¸ªé€šçŸ¥å›¾æ ‡å’Œè§£é‡Šæ–‡æœ¬ã€‚<br/>æ³¨æ„ï¼Œä¸€ä¸ª4å­—èŠ‚çš„å­—ç¬¦ç®—ä½œä¸¤ä¸ª1å­—èŠ‚çš„å­—ç¬¦ã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kc"><img src="../Images/e7ce18fc6e48d2e390c037f7bf396157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ahdCkmvBpljZR6xGdlbpw.png"/></div></div></figure><p id="59b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jp">æˆ‘çš„è§£å†³æ–¹æ¡ˆä¸­çš„æœ€ç»ˆä»£ç </em> </strong></p><p id="5eb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ­¤å¤„æœªæ˜¾ç¤ºå¯¼å…¥å’Œè¡¨å•ã€‚</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="e1ba" class="jv jw hi jr b fi jx jy l jz ka">template: `<br/>...<br/>&lt;mat-form-field fxFlex&gt;<br/>  &lt;mat-label i18n&gt;Your message&lt;/mat-label&gt;</span><span id="3f1c" class="jv jw hi jr b fi kb jy l jz ka">  &lt;textarea matInput #message maxlength="{{ maxAllowed }}" rows="5" required formControlName="message"&gt;&lt;/textarea&gt;</span><span id="623c" class="jv jw hi jr b fi kb jy l jz ka">  &lt;mat-hint&gt;&lt;span i18n&gt;Max&lt;/span&gt;&lt;span&gt; {{ maxAllowed }} &lt;/span&gt;&lt;span i18n&gt;characters&lt;/span&gt;: {{ message.value.length }} / {{ maxAllowed }}&lt;/mat-hint&gt;</span><span id="2341" class="jv jw hi jr b fi kb jy l jz ka">&lt;/mat-form-field&gt;</span><span id="bc13" class="jv jw hi jr b fi kb jy l jz ka">&lt;div *ngIf="maxAllowed === 140"&gt;<br/>  &lt;mat-icon color="warn" aria-hidden="false" aria-label="Warning for short message"&gt; notification_important &lt;/mat-icon&gt; &lt;span style="font-size: small"&gt;&lt;strong i18n&gt;You are using special characters and can max send 140 characters in total&lt;/strong&gt;&lt;/span&gt;<br/>&lt;/div&gt;</span><span id="21a9" class="jv jw hi jr b fi kb jy l jz ka">&lt;div *ngIf="maxAllowed === 70"&gt;<br/>  &lt;mat-icon color="warn" aria-hidden="false" aria-label="Warning for shortest message"&gt; notification_important &lt;/mat-icon&gt; &lt;span style="font-size: small"&gt;&lt;strong i18n&gt;You are using special characters, probably emoji ğŸ˜, and can max send 70 characters in total - Note that one emoji counts as two characters&lt;/strong&gt;&lt;/span&gt;<br/>&lt;/div&gt;</span><span id="c641" class="jv jw hi jr b fi kb jy l jz ka">&lt;div fxFlex="16px"&gt;&lt;/div&gt;</span><span id="aa08" class="jv jw hi jr b fi kb jy l jz ka">&lt;button mat-flat-button type="submit" color="primary" fxFlex class="mat-body uppercase" [disabled]="smsForm.invalid || avoidDoubleClick" i18n&gt;Send SMS&amp;#x2026;&lt;/button&gt;<br/>...<br/>`</span><span id="dac9" class="jv jw hi jr b fi kb jy l jz ka">export class SmsCardComponent implements OnInit, OnDestroy {<br/>  gsm7: string[];<br/>  maxAllowed: number;<br/>  messageLengthObservable: Subscription;</span><span id="9e3c" class="jv jw hi jr b fi kb jy l jz ka">  // eslint-disable-next-line max-len<br/>  this.gsm7 = ['@', 'Â£', '$', 'Â¥', 'Ã¨', 'Ã©', 'Ã¹', 'Ã¬', 'Ã²', 'Ã‡', 'Ã˜', 'Ã¸', 'Ã…', 'Ã¥', 'Î”', '_', 'Î¦', 'Î“', 'Î›', 'Î©', 'Î ', 'Î¨', 'Î£', 'Î˜', 'Î', '^', '{', '}', '\\', '[', '~', ']', '|', 'â‚¬', 'Ã†', 'Ã¦', 'ÃŸ', 'Ã‰', '!', '"', '#', 'Â¤', '%', '&amp;', '\'', '(', ')', '*', '+', ',', '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '&lt;', '=', '&gt;', '?', 'Â¡', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'Ã„', 'Ã–', 'Ã‘', 'Ãœ', 'Â§', 'Â¿', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'Ã¤', 'Ã¶', 'Ã±', 'Ã¼', 'Ã ', ' '];</span><span id="ae13" class="jv jw hi jr b fi kb jy l jz ka">  constructor() { this.maxAllowed = 160; }<br/>  get message() { return this.smsForm.get('message'); }</span><span id="d8db" class="jv jw hi jr b fi kb jy l jz ka">  ngOnInit(): void { this.onValueChanges(); }</span><span id="456a" class="jv jw hi jr b fi kb jy l jz ka">  ngOnDestroy() {<br/>    // unsubscribing to avoid memory leak<br/>    this.messageLengthObservable.unsubscribe();<br/>  }</span><span id="eee2" class="jv jw hi jr b fi kb jy l jz ka">  onValueChanges(): void {<br/>    this.messageLengthObservable = this.message.valueChanges.pipe(<br/>      tap((value: string) =&gt; {<br/>        this.maxAllowed = 160;<br/>        [...value].forEach((char: string) =&gt; {<br/>          if (!this.gsm7.find(element =&gt; element === char)) {<br/>            if (new Blob([char]).size === 4) {<br/>              this.maxAllowed = 70;<br/>            } else if (this.maxAllowed &gt;= 140) {<br/>              this.maxAllowed = 140;<br/>            }<br/>          }<br/>        });<br/>      }),<br/>    ).subscribe();<br/>  }</span></pre><p id="4306" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘å¸Œæœ›è¿™èƒ½æ¿€å‘ä½ å¯¹çŸ­ä¿¡å’Œéšä¹‹è€Œæ¥çš„UXçš„åˆ›é€ åŠ›ã€‚</p><p id="17d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç©å¾—å¼€å¿ƒğŸ¤—</p></div></div>    
</body>
</html>