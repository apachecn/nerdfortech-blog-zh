# ä½¿ç”¨ Config åœ¨ Cypress ä¸­å®šä¹‰ç»å¯¹è·¯å¾„

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/using-config-to-define-absolute-paths-in-cypress-a6a4f490f6a4?source=collection_archive---------3----------------------->

## å½“ç„¶ï¼Œç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„(import/require)å„æœ‰åˆ©å¼Šâ€”â€”ä½†å°±ä¸ªäººè€Œè¨€ï¼Œæˆ‘æ›´å–œæ¬¢ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå› ä¸ºå®ƒæä¾›äº†æ›´å¤šçš„å¯è¯»æ€§å’Œå¯é‡æ„æ€§(ä¾‹å¦‚ï¼Œå°†æ–‡ä»¶ç§»åŠ¨åˆ°ä¸åŒçš„æ–‡ä»¶å¤¹ç»“æ„)

å°±æˆ‘è®°å¿†æ‰€åŠï¼Œæˆ‘ä»æ¥æ²¡æœ‰åœ¨ç¼–ç æ—¶(ç‰¹åˆ«æ˜¯åœ¨ C#ä¸­)è¿‡å¤šåœ°å¤„ç†è¿‡`import`æˆ–`require`ï¼Œå› ä¸ºå®ƒè‚¯å®šä½¿ç”¨äº†åç§°ç©ºé—´å¯¼å…¥ã€‚åç§°ç©ºé—´æœ¬èº«åæ˜ äº†è¦ä½¿ç”¨(æˆ–åœ¨è¿™ç§æƒ…å†µä¸‹å¯¼å…¥)çš„æ–‡ä»¶çš„æ–‡ä»¶å¤¹ç»“æ„æˆ–è·¯å¾„ã€‚

å¦‚æœä½ ä¸€ç›´åœ¨ç”¨ [Cypress](https://www.cypress.io/) å’Œ TypeScript ç¼–å†™ä»£ç æ¥åˆ›å»ºè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œé‚£ä¹ˆä½ å°±æœ‰æœºä¼šä½¿ç”¨è®¾è®¡æ¨¡å¼ã€‚æˆ‘ä½¿ç”¨é¡µé¢å¯¹è±¡æ¨¡å‹(POM)è®¾è®¡æ¨¡å¼æ¥å®šä¹‰é¡µé¢ä¸­çš„å…ƒç´ å’Œå…ƒç´ åŠ¨ä½œ(å³`click()`å’Œ`type()`)ã€‚éšç€ä»£ç åº“çš„å¢é•¿ï¼Œæˆ‘æ„è¯†åˆ°æˆ‘è¶Šæ¥è¶Šå¤šåœ°ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¥å¯¼å…¥æˆ–éœ€è¦ POM æˆ– fixture æ–‡ä»¶ã€‚æœ‰æ—¶ï¼Œç”±äºè¿æ¥çš„æµ‹è¯•æµå’Œæ–­è¨€ï¼Œåœ¨å•ä¸ª`describe`ä¸­éœ€è¦å‡ ä¸ª POM å’Œ fixturesã€‚

ä¸è¿‡ä½¿ç”¨`'~/'`åº”è¯¥å¾ˆå®¹æ˜“ã€‚ä½†æ˜¯æˆ‘è®¤ä¸º JavaScript/TypeScript ä¸ä¼šé‚£æ ·åšï¼Œå› ä¸ºå®ƒä¼šç»™ä½ ä¸€ä¸ªé”™è¯¯ã€‚

> æ‰¾ä¸åˆ°æ¨¡å—â€œ~/path/to/POMâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜ã€‚

æˆ‘åœ¨ Cypress çœ‹è¿‡çš„å‡ ç¯‡å…³äºç»å¯¹è·¯å¾„çš„åšæ–‡ç¡®å®è¿‡æ—¶äº†ã€‚æœ€å¥½çš„æœ‰è§£å†³æ–¹æ¡ˆçš„åœ¨ [GitHub](https://github.com/cypress-io/cypress/issues/3262) é‡Œã€‚ä½†æ˜¯ï¼Œå‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆ(ä½¿ç”¨@cypress/webpack-preprocessor å’Œ CypressFileKindPlugin)å¯¹æˆ‘ä¸èµ·ä½œç”¨ã€‚å³ä½¿å®ƒèƒ½å·¥ä½œï¼Œè§£å†³æ–¹æ¡ˆå¯¹æˆ‘æ¥è¯´ä¹Ÿå¤ªå¤æ‚äº†ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½¿ç”¨ webpack-preprocessorï¼Œå› ä¸ºæˆ‘å¿…é¡»å®‰è£… 4 ä¸ªé¢å¤–çš„ä¾èµ–é¡¹(@babel/coreï¼Œ@babel/preset-envï¼Œbabel-loader å’Œ webpack)ï¼Œè€Œæˆ‘å¯èƒ½æ ¹æœ¬ä¸ä¼šä½¿ç”¨å®ƒä»¬ã€‚

marklawlor çš„ç¬¬ä¸‰ä¸ªè§£å†³æ–¹æ¡ˆä¸ä»…æœ‰æ•ˆï¼Œè€Œä¸”æ˜¯æœ€ç®€å•çš„ã€‚éå¸¸æ„Ÿè°¢ä»–ï¼ğŸ˜„

æ‰€ä»¥ï¼Œè¿™é‡Œæ˜¯æˆ‘ç»“åˆä½¿ç”¨ä»–çš„è§£å†³æ–¹æ¡ˆå’Œ flybayer çš„æ€»ç»“

*   `npm install --save-dev tsconfig-paths`
*   åœ¨é¡¹ç›®`tsconfig.json`çš„æ ¹æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶

![](img/c44e34c1b9843b1f51d1f7fdf89ea0df.png)

tsconfig.json

*   é€šè¿‡æ·»åŠ `extends`å’Œ`baseUrl`æ›´æ–° cypress æ–‡ä»¶å¤¹ä¸­çš„`tsconfig.json`æ–‡ä»¶

![](img/7e9ad5c45fb92dd33c8ce104e4aa5b9e.png)

cypress/tsconfig.json

*   æ›´æ–°æ’ä»¶æ–‡ä»¶çš„`index.ts`

![](img/d8f7c45e5946eb6edd5a6253358e4c63.png)

èµ›æ™®æ‹‰æ–¯/æ’ä»¶/ç´¢å¼•. ts

å’Œ...ç§å•Šã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„å¯¼å…¥å’Œè¦æ±‚ï¼Œä½¿ç”¨æ ¹ tsconfig æ–‡ä»¶ä¸­æŒ‡å®šçš„è·¯å¾„ã€‚

![](img/b175f163bd2f64f797804d6fd08581c3.png)

cyprss/integration/log in . spec . ts