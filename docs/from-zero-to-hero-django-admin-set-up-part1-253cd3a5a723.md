# ä»é›¶åˆ°è‹±é›„ Django ç®¡ç†:è®¾ç½®(ç¬¬ä¸€éƒ¨åˆ†)

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/from-zero-to-hero-django-admin-set-up-part1-253cd3a5a723?source=collection_archive---------5----------------------->

## è®¾ç½®ï¼Œæ¨¡å‹æ³¨å†Œï¼Œå…ƒå…³é”®å­—ï¼Œåº”ç”¨ç¨‹åºéƒ¨åˆ†ï¼Œç®¡ç†ç½‘ç«™æ ‡é¢˜

å¤§å®¶å¥½ï¼æƒ³è¦å–˜å£æ°”ï¼Œæˆ‘å†³å®šåœ¨å­¦ä¹ æ•°æ®çš„åŒæ—¶å¼€å§‹å†™è¿™ä¸ªç³»åˆ—ã€‚

![](img/621589dae0758c3f0ab73e538a132334.png)

è´¹è¨å°”åœ¨ [Unsplash](https://unsplash.com/s/photos/django?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

æˆ‘å‚åŠ äº†ä¸€ä¸ªä¸ºæœŸ 4 ä¸ªæœˆçš„æœºå™¨å­¦ä¹ è®­ç»ƒè¥ã€‚åœ¨æ­¤æœŸé—´ï¼Œæˆ‘æƒ³åªå…³æ³¨ä¸æ•°æ®ç›¸å…³çš„ä¸»é¢˜ã€‚è€å®è¯´ï¼Œä¸æ­¤åŒæ—¶æˆ‘ä»ç„¶æƒ³ç»§ç»­ web å¼€å‘ï¼Œä½†æ˜¯æˆ‘ä¸èƒ½æé«˜æˆ‘å…³äº web å¼€å‘çš„æ–°æŠ€æœ¯çš„çŸ¥è¯†ï¼Œå› ä¸ºæˆ‘ä¸æ„¿æ„åœ¨è¿™æ®µæ—¶é—´èŠ±ç²¾åŠ›åœ¨æ•°æ®ä»¥å¤–çš„äº‹æƒ…ä¸Šã€‚å› æ­¤ï¼Œæˆ‘å†³å®šå¼€å§‹è¿™ä¸ªç³»åˆ—ã€‚æˆ‘å°†æ ¹æ®æˆ‘å·²æœ‰çš„ä¿¡æ¯æ¥å†™ã€‚è¿™ä¸ªç³»åˆ—å°†æ˜¯å…³äºâ€œDjango Adminâ€çš„å®šåˆ¶ã€‚äº‹å®ä¸Šï¼Œæˆ‘å·²ç»æœ‰äº†ä¸€ä¸ªå…³äºè¿™ä¸ªè¯é¢˜çš„ [Youtube è§†é¢‘ç³»åˆ—](https://youtube.com/playlist?list=PLhbONZ0ITs2QKo-fFNhq5mTPISqLSIBei)å’Œå‡ ä¸ªæ•…äº‹ï¼Œ[è¿™ä¸ª](https://mebaysan.medium.com/django-admin-dashboard-g%C3%B6r%C3%BCn%C3%BCm-eklemek-d2c6ab28f5d5)å’Œ[è¿™ä¸ª](https://mebaysan.medium.com/django-admin-dashboard-g%C3%B6r%C3%BCn%C3%BCmleri-%C3%B6zelle%C5%9Ftirmek-d2fbf36cae67)ä½†æ˜¯å®ƒä»¬æ˜¯åœŸè€³å…¶è¯­çš„ã€‚åœ¨ç”¨è‹±è¯­åˆ¶ä½œä¹‹å‰ï¼Œæˆ‘éœ€è¦å…ˆæé«˜å®ƒã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªè‹±è¯­æ°´å¹³ï¼Œæˆ‘çš„è‹±è¯­è€å¸ˆç»å¸¸ç£ä¿ƒæˆ‘å†™æ–‡ç« ã€‚

![](img/0ae319ffe00ba08acf42e59e1a1e123d.png)

ç»´å¡”åˆ©Â·å¡”æ‹‰è¯ºå¤«åœ¨ [Unsplash](https://unsplash.com/s/photos/freelance-money?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

å…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªç³»åˆ—ä¼šåŒ…æ‹¬å¤šå°‘éƒ¨åˆ†ã€‚æˆ‘ä¼šè¯•ç€åœ¨â€œDjango Adminâ€ä¸­è§¦åŠç»†èŠ‚ã€‚æˆ‘å°†å±•ç¤ºä¸€äº›ä½¿æˆ‘ä»¬çš„ç®¡ç†é¢æ¿æ›´æœ‰æ•ˆçš„åŒ…ã€‚æˆ‘ä»¬å°†è§¦æ‘¸â€œæ¨¡å‹ç®¡ç†â€ï¼Œâ€œè‡ªå®šä¹‰æ¨¡æ¿â€ï¼Œâ€œå¯¼å…¥å’Œå¯¼å‡ºâ€ï¼Œæ·»åŠ æ–°çš„è§†å›¾åˆ°â€œDjango ç®¡ç†â€ç­‰ã€‚æˆ‘å¸Œæœ›ä½ ä¼šå–œæ¬¢è¿™æ¬¡æ—…è¡Œã€‚æˆ‘å·²ç»å¼€å§‹äº«å—è¿™ä¸ªæ—…ç¨‹äº†ï¼Œå› ä¸ºæˆ‘çœ‹åˆ°äº†â€œDjango Adminâ€çš„åŠ›é‡ã€‚æˆ‘ç”¨â€œDjango Adminâ€åšäº†ä¸€äº›è‡ªç”±èŒä¸šé¡¹ç›®ï¼Œå¾—åˆ°äº†å¾ˆå¥½çš„å®¢æˆ·åé¦ˆã€‚å¦‚æœæ‚¨å¯ä»¥å®šåˆ¶æ‚¨çš„ä»ªè¡¨æ¿ï¼Œæ‚¨å°±ä¸éœ€è¦ä½¿ç”¨å…¶ä»–ä»ªè¡¨æ¿æ¨¡æ¿æˆ–å®ç°ä»ªè¡¨æ¿å‰ç«¯ã€‚

# è®©æˆ‘ä»¬å¼€å§‹æ—…ç¨‹å§

å¯¹äºè¿™ä¸ªæ•…äº‹ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒâ€œvenv â€,å¹¶å®‰è£…äº† Djangoã€‚ä½ å¯ä»¥ä»[è¿™é‡Œ](https://github.com/mebaysan/DjangoAdminForMedium)è®¿é—®è¯¥é¡¹ç›®çš„ GitHub é“¾æ¥ã€‚

```
pip install django
```

æˆ‘å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„ Django é¡¹ç›®å¹¶è¿è¡ŒæœåŠ¡å™¨ã€‚æˆ‘å°†è¿›è¡Œè¿ç§»å¹¶åˆ›å»ºä¸€ä¸ªè¶…çº§ç”¨æˆ·ã€‚

```
django-admin startproject fzthadmincd fzthadminpython manage.py migratepython manage.py createsuperuserpython manage.py runserver
```

![](img/6b8863bc33f419cce0af04da9c34164b.png)

åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰åšè¿‡ä»»ä½•æœ‰è¶£çš„äº‹æƒ…ã€‚

# åˆ›å»ºæ¨¡å‹

ç›®å‰ï¼Œæˆ‘ä»¬çš„ Django åº”ç”¨ç¨‹åºåªæœ‰ä¸€ä¸ªåšå®¢æ¨¡å‹ã€‚æˆ‘è¦åˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åºã€‚

> æ­£å¦‚ä½ å¯èƒ½çŸ¥é“çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨`startapp`å‘½ä»¤åœ¨ Django ä¸­åˆ›å»ºæ–°çš„åº”ç”¨ã€‚

```
python manage.py startapp blog
```

![](img/db551327c8252c19ee6476e652d627a3.png)

åˆ›å»ºæ¨¡å‹åï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œè¿ç§»ã€‚ä»€ä¹ˆæ˜¯è¿ç§»ï¼Ÿæˆ‘ä»¬å¯ä»¥è¯´ï¼Œæˆ‘ä»¬è®© Django çŸ¥é“äº†æ•°æ®åº“çš„ä¿®æ”¹ã€‚æˆ‘ä»¬ä½¿ç”¨â€œmakemigrationsâ€å‘½ä»¤è®© Django çŸ¥é“ï¼Œå¹¶ä½¿ç”¨â€œmigrateâ€å‘½ä»¤å°†å®ƒä»¬åº”ç”¨åˆ°æ•°æ®åº“ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†åšå®¢åº”ç”¨ç¨‹åºä¿å­˜åˆ° Django çš„å·²å®‰è£…åº”ç”¨ç¨‹åºä¸­ã€‚å¦‚æœæˆ‘ä»¬ä¸è¿™æ ·åšï¼ŒDjango å°†ä¸ä¼šç†è§£æˆ‘ä»¬æœ‰ä¸åšå®¢åº”ç”¨ç¨‹åºç›¸å…³çš„æ¨¡å‹æˆ–ä¸œè¥¿ã€‚

ä¸ºäº†å°†åšå®¢åº”ç”¨ç¨‹åºæ·»åŠ åˆ°å·²å®‰è£…çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘å°†ä½¿ç”¨`settings.py` æ–‡ä»¶ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº† Django é¡¹ç›®çš„æ ¸å¿ƒè®¾ç½®ã€‚æˆ‘éœ€è¦å°†åº”ç”¨ç¨‹åºæ·»åŠ åˆ°`INSTALLED_APPS`åˆ—è¡¨ä¸­ã€‚

![](img/4bb9acf9210ad8848f2e3ff21f0848ee.png)

ç°åœ¨æˆ‘å¯ä»¥æ‰§è¡Œ`makemigrations`å’Œ`migrate`å‘½ä»¤äº†ã€‚å¦‚æœæ‚¨çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼Œé‚£ä¹ˆæ‚¨çš„æ–¹æ³•æ˜¯æ­£ç¡®çš„ã€‚

![](img/4f7ef87e55c3bb2ba3d8235faa43320c.png)

# æ¨¡å‹æ³¨å†Œ

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠåšå®¢æ¨¡å‹æ³¨å†Œåˆ° Django ç®¡ç†åº”ç”¨ç¨‹åºä¸­ã€‚ä¸ºæ­¤ï¼Œæˆ‘å°†ä½¿ç”¨ä½äº`blog`æ–‡ä»¶å¤¹ä¸‹çš„`admin.py`ã€‚æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶æ¥æ³¨å†Œæ¨¡å‹ã€‚æ¯ä¸ª Django åº”ç”¨éƒ½æœ‰è‡ªå·±çš„`admin.py`æ–‡ä»¶ã€‚

æˆ‘åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¯¼å…¥äº†åšå®¢æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨`admin.site.register`å‡½æ•°å°†å®ƒæ³¨å†Œåˆ°ç®¡ç†åº”ç”¨ç¨‹åºä¸­ã€‚è¯¥åŠŸèƒ½å¸®åŠ©æˆ‘ä»¬å°†æ¨¡å‹æ³¨å†Œåˆ°ç®¡ç†åº”ç”¨ç¨‹åºä¸­ã€‚

![](img/e939ddc593722e118c2625ddcd8d5ba5.png)

æˆ‘è¦å»ç®¡ç†ä»ªè¡¨æ¿ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°â€œåšå®¢â€éƒ¨åˆ†ï¼Œå¦‚æœäº‹æƒ…åšå¾—æ­£ç¡®ã€‚

![](img/2206d37450885bf24a5d24bdde374527.png)

# æ›´æ”¹åº”ç”¨ç¨‹åºéƒ¨åˆ†æ ‡é¢˜

åœ¨æˆ‘ä»¬å»å…ƒè¯¾å ‚ä¹‹å‰ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€ä¸ªèŠ±çµ®ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ”¹å˜åº”ç”¨ç¨‹åºçš„éƒ¨åˆ†æ ‡é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è¿›å…¥å®ƒçš„`apps.py`æ–‡ä»¶å¹¶é…ç½®`AppConfig` ç±»ã€‚å¦‚æœæˆ‘è®¾ç½®äº†`verbose_name`å­—æ®µï¼Œåˆ™éƒ¨åˆ†æ ‡é¢˜å°†æ¥å—å®ƒã€‚

```
from django.apps import AppConfigclass BlogConfig(AppConfig): default_auto_field = 'django.db.models.BigAutoField' name = 'blog' verbose_name = 'My Blog Section'
```

![](img/a77d1949cf5b7f469891ad57f50df8b3.png)

# å…ƒç±»

åœ¨ Djangoï¼Œæˆ‘ä»¬æœ‰â€œå…ƒâ€ç±»ã€‚æˆ‘ä¸ä¼šè§£é‡Šä»€ä¹ˆæ˜¯å…ƒç±»ï¼Œä½†æ˜¯æˆ‘ä¼šæåˆ°åœ¨ Django admin ä¸­ä½¿ç”¨å…ƒç±»å¯ä»¥åšä»€ä¹ˆã€‚ä½ å¯ä»¥ä» Django çš„å®˜æ–¹æ–‡æ¡£ä¸­è·å¾—æ›´å¤šä¿¡æ¯ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨å…ƒç±»ä¸­æ”¹å˜æ¨¡å‹çš„æ˜¾ç¤ºåç§°ã€‚

![](img/d4da96c5e9d843311f1a8fb44b573ae7.png)

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘å‘Šè¯‰ Djangoï¼Œåœ¨ç®¡ç†ä»ªè¡¨æ¿ä¸­æ›´æ”¹æ¨¡å‹çš„æ˜¾ç¤ºåç§°ã€‚å¦‚æœæœ‰å¤šä¸ªåšå®¢ï¼ŒDjango ä¼šè¯´â€œæˆ‘çš„åšå®¢â€ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªåšå®¢ï¼Œå®ƒä¼šè¯´â€œæˆ‘çš„åšå®¢â€ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/c10e8c8d50c1ae537d86e1bff2087c5c.png)

æˆ‘ä¼šåœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ ä¸€äº›åšå®¢ã€‚

![](img/1590a5a1af4a4f529e6a4b73371728f6.png)

å•ä¸ªåšå®¢çš„ç¤ºä¾‹

ç°åœ¨æœ‰å¦ä¸€ä»¶äº‹å¯ä»¥è®©ç®¡ç†é¡µé¢å˜å¾—æ›´å¥½ã€‚å¦‚æœæˆ‘ä»¬è½¬åˆ°â€œæˆ‘çš„åšå®¢â€é¡µé¢ï¼Œæˆ‘ä»¬ä¼šåœ¨è¡¨æ ¼ä¸­çœ‹åˆ°ç±»ä¼¼äº`Blog object(1)`çš„åšå®¢ã€‚

> ä¸è¦å¿˜è®°è¿›è¡Œè¿ç§»å¹¶åº”ç”¨å®ƒä»¬ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»æ›´æ”¹äº†æ¨¡å‹ç±»ã€‚

![](img/9028328500f642522791ceb9e63d07a1.png)

æˆ‘ä»¬å¯ä»¥æ”¹å˜æ¨¡å‹å†…éƒ¨çš„`__str__`æ–¹æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªçº¯ç²¹çš„ Python ç‰¹æ€§ã€‚å¦‚æœä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥åœ¨è¿™é‡Œ[å­¦ä¹ ](https://www.educative.io/edpresso/what-is-the-str-method-in-python)ã€‚

```
def __str__(self): return self.title
```

æˆ‘åœ¨ä¸Šé¢çš„æ¨¡å‹ç±»ä¸­ç¼–å†™äº†ä»£ç ï¼ŒDjango ä¼šç†è§£å®ƒå¿…é¡»å°†å¯¹è±¡çš„`title`å­—æ®µæ”¾åˆ°è¡¨ä¸­ã€‚è¿™æ„å‘³ç€å®ƒç”¨å®ƒçš„æ ‡é¢˜æ¥è¡¨ç¤ºå¯¹è±¡ã€‚å¦‚æœæˆ‘ä»¬ä» Django shell æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œé‚£ä¹ˆå¯¹è±¡å°†ç”±å®ƒçš„æ ‡é¢˜ç‰¹æ€§æ¥è¡¨ç¤ºã€‚

![](img/04027bb8a2fa9aa191ce5832b3942ff4.png)

python manage.py shell

# æ›´æ”¹ Django ç®¡ç†å‘˜å¤´è¡”

åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•æ›´æ”¹ Django admin çš„å¤´è¡”ã€‚

*   `admin.site.title`
*   `admin.site.header`
*   `admin.site.index_title`

å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦è½¬åˆ°`urls.py`æ–‡ä»¶ã€‚ä¸‹é¢çš„ä»£ç å°†æ”¹å˜ç®¡ç†ä»ªè¡¨æ¿çš„ç½‘ç«™æ ‡é¢˜ã€‚

```
admin.site.site_title = 'From Zero To Hero Django Admin'
```

ä¸‹é¢çš„ä»£ç å°†æ”¹å˜ç®¡ç†å‘˜çš„æ ‡é¢˜ã€‚

```
admin.site.site_header
```

![](img/25a0844bb81374e43b0db514febfdc24.png)

æ­¤éƒ¨åˆ†æ˜¯ç½‘ç«™æ ‡é¢˜

ä¸‹é¢çš„ä»£ç å°†æ”¹å˜ç´¢å¼•é¡µé¢çš„æ ‡é¢˜ã€‚

```
admin.site.index_title = 'Welcome To FZTH Django Admin'
```

![](img/c9554fd9d9ae8879b4a2933694372093.png)

è¿™æ˜¯ç´¢å¼•æ ‡é¢˜

# æœ€åçš„æƒ³æ³•

å¸Œæœ›ä½ å–œæ¬¢ã€‚æ­£å¦‚æˆ‘æ‰€è¯´çš„ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“å¦‚ä½•æ­£ç¡®ä½¿ç”¨ Django adminï¼Œå®ƒä¼šå¯¹æˆ‘ä»¬çš„é¡¹ç›®éå¸¸æœ‰ç”¨ã€‚ä¸‹ä¸€ä¸ªæ•…äº‹å†è§ğŸ˜‡

äº²åˆ‡çš„é—®å€™ã€‚