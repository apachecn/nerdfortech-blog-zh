# å®žçŽ°å¤ªç©ºå°„å‡»æ¸¸æˆåŠŸèƒ½-æ¿€å…‰æŸæ•Œäºº

> åŽŸæ–‡ï¼š<https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-laser-beam-enemy-7ce3ec430d72?source=collection_archive---------13----------------------->

## ç»Ÿä¸€æŒ‡å—

## Unity ç©ºé—´å°„å‡»æ¸¸æˆæ–°å¢žåŠŸèƒ½å¿«é€Ÿå›žé¡¾

![](img/76cc92c497117c14f60fe8376196d344.png)

**ç›®æ ‡**:ç”¨ Unity å®žçŽ°ä¸€ä¸ªå¤ªç©ºå°„å‡»æ¸¸æˆçš„æ–°å°„å‡»æ–°æ•Œäººã€‚

åœ¨ä¹‹å‰çš„å¸–å­ä¸­ï¼Œæˆ‘[åœ¨æˆ‘çš„ Unity å¤ªç©ºå°„å‡»æ¸¸æˆä¸­å®žçŽ°äº†ä¸€ä¸ªå½“çŽ©å®¶æ”¶é›†åˆ°](/nerd-for-tech/implementing-space-shooter-game-features-freezing-power-up-ee65fb79115c)èƒ½é‡æ—¶å†»ç»“çŽ©å®¶çš„èƒ½é‡ã€‚çŽ°åœ¨æ˜¯æ—¶å€™ç”¨ä¸€ç§æ–°çš„å°„å‡»æ–¹å¼æ¥å®žçŽ°ä¸€ä¸ªæ–°çš„æ•Œäººï¼Œè®©æ¸¸æˆå˜å¾—æ›´åŠ å¤æ‚ã€‚

# æ–°èµ„äº§

ä¸ºäº†å®žçŽ°ä¸€ä¸ªæ–°çš„æ•Œäººï¼Œæˆ‘è®¾æ³•ç”¨æˆ‘å·²æœ‰çš„èµ„æºåˆ›é€ äº†æ–°çš„ç²¾çµã€‚å¦‚æžœä½ ä¸çŸ¥é“åœ¨å“ªé‡Œåˆ›å»ºæˆ–èŽ·å¾—æ–°çš„ç²¾çµï¼Œé‚£ä¹ˆæˆ‘å»ºè®®ä½ (åƒä¸Šä¸€ç¯‡æ–‡ç« ä¸€æ ·)ä½¿ç”¨ä¸€ä¸ªå…è´¹çš„åœ¨çº¿ç¨‹åº:

[](https://pixlr.com/e/) [## å›¾ç‰‡ç¼–è¾‘:Pixlr.comâ€”â€”å…è´¹åœ¨çº¿å›¾ç‰‡ç¼–è¾‘

### ç™»å½•/æ³¨å†Œæ¬¢è¿Žä½¿ç”¨ Pixlr çš„å…è´¹é«˜çº§ç…§ç‰‡ç¼–è¾‘å™¨ã€‚ç‚¹å‡»æ‰“å¼€ç…§ç‰‡æŒ‰é’®å¼€å§‹ç¼–è¾‘â€¦

pixlr.com](https://pixlr.com/e/) 

## æ–°çš„æ•Œäººç²¾çµ

è¿™äº›æ˜¯æˆ‘ç”¨æ¥åˆ¶é€ æ–°æ•Œäººçš„ç²¾çµ:

![](img/27f9aee519ecce8442e14681bc3c448a.png)![](img/22f56c74a9d8a819cba5333c4e16ec06.png)

æˆ‘ä¸ºæ•Œäººåšäº† 3 ä¸ªä¸åŒçš„åŠ¨ç”»:

*   æ•Œäººç§»åŠ¨æ—¶çš„é»˜è®¤åŠ¨ç”»
*   å½“æ•Œäººè¢«æ¶ˆç­æ—¶çš„åŠ¨ç”»
*   å½“æ•Œäººè¦å‘å°„æ¿€å…‰æŸæ—¶çš„åŠ¨ç”»

![](img/423d3cda065dc986674c5fe90bcc48d4.png)![](img/5d388272984c4af7b7e0e7d3497b7040.png)

æˆ‘ä½¿ç”¨å„è‡ªåŠ¨ç”»æŽ§åˆ¶å™¨ä¸­çš„è§¦å‘å™¨æ¥ç®¡ç†ä¸åŒçš„åŠ¨ç”»ã€‚

ç„¶åŽï¼Œæˆ‘åœ¨æ£€æŸ¥å‘˜ä¸­æ·»åŠ äº†æ•Œäººæ‹¥æœ‰çš„å„ä¸ªç»„ä»¶:

![](img/384bd42d7e8fe869a47582715095eda6.png)![](img/19eb8621ce21bb5e62ef4fbc642e65b3.png)

è¿™äº›æ˜¯æ¥è‡ªæ–°æ•Œäººçš„ç»„ä»¶å’ŒåŠ¨ç”»ã€‚

å¦‚æžœä½ ä¸çŸ¥é“å¦‚ä½•åœ¨ Unity ä¸­æ·»åŠ ç²¾çµæˆ–åŠ¨ç”»ï¼Œä½ å¯ä»¥æŸ¥çœ‹è¿™äº›æ—§å¸–å­:

[](https://fas444.medium.com/upgrading-from-a-prototype-to-a-work-of-art-in-unity-4f3c0435501d) [## åœ¨ Unity ä¸­ä»ŽåŽŸåž‹å‡çº§ä¸ºè‰ºæœ¯å“

### å…³äºŽä»ŽåŽŸåž‹å‡çº§åˆ° Unity è‰ºæœ¯ä½œå“çš„è¯¦ç»†æŒ‡å—

fas444.medium.com](https://fas444.medium.com/upgrading-from-a-prototype-to-a-work-of-art-in-unity-4f3c0435501d) [](/nerd-for-tech/animating-sprites-in-unity-9d02762bde96) [## åœ¨ Unity ä¸­åˆ¶ä½œç²¾çµåŠ¨ç”»

### å…³äºŽå¦‚ä½•åœ¨ Unity ä¸­åˆ¶ä½œç²¾çµåŠ¨ç”»çš„å¿«é€ŸæŒ‡å—

medium.com](/nerd-for-tech/animating-sprites-in-unity-9d02762bde96) [](/nerd-for-tech/creating-explosions-for-your-game-in-unity-889e9c373d14) [## åœ¨ Unity ä¸­ä¸ºä½ çš„æ¸¸æˆåˆ¶é€ çˆ†ç‚¸

### å…³äºŽå¦‚ä½•åœ¨ Unity ä¸­ä½¿ç”¨åŠ¨ç”»ç²¾çµåˆ›å»ºçˆ†ç‚¸çš„å¿«é€ŸæŒ‡å—

medium.com](/nerd-for-tech/creating-explosions-for-your-game-in-unity-889e9c373d14) 

# æ–°æ•Œäºº

çŽ°åœ¨ï¼Œä¸ºäº†å®žçŽ°æ–°çš„æ•Œäººè¡Œä¸ºï¼Œæˆ‘åˆ›å»ºäº† 2 ä¸ªæ–°è„šæœ¬:

*   å¼§å½¢æ•Œäºº

è¿™ä¸ªè„šæœ¬å…è®¸æ•Œäººä»¥å¼§å½¢è·¯å¾„ç§»åŠ¨ã€‚

*   æ¿€å…‰æŸæ•Œäºº

è¿™ä¸ªè„šæœ¬å¤„ç†å‘å°„æ¿€å…‰æŸçš„æ•Œäººçš„è¡Œä¸ºã€‚

![](img/fd827b72708ceb112762f63f4d023c21.png)![](img/8f31e9ccfe42bc507a726fbac0e17cee.png)

## å¼§æ•Œçº§

> æ³¨:ä¸ï¼Œä¸Ž[å®¿æ•Œä¹é˜Ÿ](https://www.archenemy.net/en/)æ— å…³ðŸ˜ï¼Œä½†æ˜¯æˆ‘ä¸å¾—ä¸æŽ¥å—æˆ‘å–œæ¬¢ä»–ä»¬çš„ä¸€äº›æ­Œã€‚

è¿™ä¸ªç±»å°†å®žçŽ°æˆ‘ä»¬æ•Œäººçš„ç§»åŠ¨è¡Œä¸ºï¼Œæ‰€ä»¥å®ƒéœ€è¦ä»Ž**æ•Œäººè¡Œä¸º**ç±»ç»§æ‰¿(æˆ‘åœ¨[ä¸€ä¸ªæ›´è€çš„å¸–å­](https://fas444.medium.com/implementing-space-shooter-game-features-enemy-behavior-a784cb1d8af0)ä¸­ä½¿ç”¨äº†è¿™ä¸ªç±»):

![](img/b58fbdba32557fa6fc5b5b5f7672f8b2.png)

ç„¶åŽï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ä¸‹ä¸€ä¸ªå˜é‡:

*   æŠ¬å‰è½®é€Ÿåº¦

è¿™ä¸ªå˜é‡å°†å­˜å‚¨æ•Œäººçš„æ—‹è½¬é€Ÿåº¦ã€‚

*   æ—‹è½¬è§’

è¿™ä¸ªå˜é‡å°†å­˜å‚¨æ¯ç§’æ—‹è½¬æ•Œäººçš„è§’åº¦ã€‚

*   å¹³ç§»æ–¹å‘

è¿™ä¸ªå˜é‡å°†å­˜å‚¨ Vector3 æ–¹å‘è½´æ¥ç§»åŠ¨æ•Œäººã€‚

*   å¹³ç§»æ—‹è½¬

è¿™ä¸ªå˜é‡å°†å­˜å‚¨çŸ¢é‡ 3 æ–¹å‘è½´æ¥æ—‹è½¬æ•Œäººã€‚

![](img/f153f41a5c4381d0829cdb5970aa807f.png)

çŽ°åœ¨ï¼Œåœ¨ **Start** æ–¹æ³•ä¸­ï¼Œè®©æˆ‘ä»¬è¦†ç›–æ¥è‡ªçˆ¶ç±»çš„è™šæ‹Ÿæ–¹æ³•(ä½†ä»ç„¶è°ƒç”¨å®ƒ),ä»¥é€‰æ‹©æ“åœºä¸­å¤–è§‚çš„ä¸€ä¾§ï¼Œå¹¶é€‰æ‹©å¼€å§‹ç§»åŠ¨çš„æ–¹å‘å’Œæ—‹è½¬:

![](img/2773745877a585eae85ef67f9150fd98.png)

**SetNewSide** æ–¹æ³•åœ¨çˆ¶ç±»ä¸­ï¼Œå¸®åŠ©æ”¹å˜æ•Œäººæ¸¸æˆå¯¹è±¡çš„ä½ç½®ã€‚ç„¶åŽï¼Œ **SetNewRotAndDir** æ–¹æ³•å°±åœ¨è¿™ä¸ªç±»ä¸­ï¼Œå®ƒå¸®åŠ©é€‰æ‹©æ–¹å‘è½´ï¼Œä»¥å¼§å½¢è·¯å¾„ç§»åŠ¨å’Œæ—‹è½¬:

![](img/06fb8ad6ac33eaa339fd96130c476f4d.png)![](img/7214d66daaee691c82f0adc8d80cd317.png)

ç„¶åŽï¼Œå¯¹äºŽ**æ›´æ–°**æ–¹æ³•ï¼Œæˆ‘ä»¬è°ƒç”¨ **MoveEnemy** æ–¹æ³•æ¯å¸§ç§»åŠ¨æ•Œäººã€‚ç”±äºŽ **Update** æ–¹æ³•åœ¨çˆ¶ç±»ä¸­æ˜¯è™šæ‹Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªè¦†ç›–æ¥ç§»åŠ¨æ•Œäºº:

![](img/ffac65278e5581507d28641d49e31550.png)![](img/af65a92a0f0462db3ef39e371ff29490.png)

çˆ¶ç±»ä¸­çš„**æ›´æ–°**æ–¹æ³•(ç¬¬ä¸€ä¸ª)å’Œè¯¥ç±»ä¸­çš„**æ›´æ–°**æ–¹æ³•(ç¬¬äºŒä¸ª)ã€‚

**MoveEnemy** æ–¹æ³•ä¹Ÿæ˜¯çˆ¶ç±»ä¸­çš„è™šæ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ª override æ¥ç§»åŠ¨è¿™ä¸ªç±»ä¸­çš„æ•Œäººï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿä½¿ç”¨äº† **baseã€‚æ•Œæ–¹**è°ƒç”¨å…ˆä»Žçˆ¶ç±»æ‰§è¡Œæ–¹æ³•:

![](img/b4cd52d64ecbf338245af98330fe493c.png)![](img/0f637f7434d228e31e15535e21856323.png)

çˆ¶ç±»ä¸­çš„ **MoveEnemy** æ–¹æ³•(ç¬¬ä¸€ä¸ª)å’Œè¯¥ç±»ä¸­çš„ **MoveEnemy** æ–¹æ³•(ç¬¬äºŒä¸ª)ã€‚

çŽ°åœ¨ï¼Œå¦‚æžœæˆ‘ä»¬ç”¨ Unity è¿è¡Œæ¸¸æˆï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æ•Œäººä»¥å¼§å½¢è·¯å¾„ç§»åŠ¨:

![](img/c66ee83edcf1df81ebe2124f99075551.png)

## æ¿€å…‰æŸæ•Œäººçº§

çŽ°åœ¨ï¼Œä¸ºäº†å®žçŽ°å‘å°„æ¿€å…‰æŸçš„æ•Œäººçš„ç§»åŠ¨è¡Œä¸ºï¼Œè®©æˆ‘ä»¬åœ¨è¿™ä¸ªæ–°è„šæœ¬ä¸­ç»§æ‰¿ **ArcEnemy** ç±»:

![](img/b5a2e88edfc867b057d7c82215899b44.png)

æˆ‘ä»¬éœ€è¦ä½¿ç”¨è¿™äº›å˜é‡æ¥å¤„ç†æ–°æ•Œäººçš„è¡Œä¸º:

*   ç­‰å¾…æ‹æ‘„

è¯¥å˜é‡å°†å­˜å‚¨æ¯æ¬¡æ•Œäººç§»åŠ¨æ—¶å‘å°„æ¿€å…‰æŸå‰çš„ç­‰å¾…æ—¶é—´ã€‚

*   è€½æ

è¿™ä¸ªå˜é‡å°†å¸®åŠ©æˆ‘ä»¬åœ¨åç¨‹ä¸­ä½¿ç”¨å®ƒè¿”å›žå„è‡ªçš„ç­‰å¾…æ—¶é—´(ä»¥ç§’ä¸ºå•ä½)ã€‚

*   æ‹æ‘„æŒç»­æ—¶é—´

è¿™ä¸ªå˜é‡ä¹Ÿå°†å¸®åŠ©æˆ‘ä»¬åœ¨ååŒä½œæˆ˜ä¸­è®©æ•Œäººå‘†åœ¨åŽŸåœ°ï¼Œç›´åˆ°æ¿€å…‰æŸæ¶ˆå¤±ã€‚

*   æ­£åœ¨æ‹æ‘„

è¿™ä¸ªå˜é‡å°†å­˜å‚¨æ•Œäººçš„çŠ¶æ€ï¼Œä»¥äº†è§£å®ƒæ˜¯åœ¨å°„å‡»è¿˜æ˜¯åœ¨ç§»åŠ¨ã€‚

![](img/66378b89430dcc534668e9f6bd25ab07.png)

ä¸ºäº†å¤„ç†è¿™ä¸ªç§»åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦è¦†ç›–çˆ¶ç±»çš„ **MoveEnemy** æ–¹æ³•(å®ƒä»¥å¼§å½¢è·¯å¾„ç§»åŠ¨æ•Œäºº),å¹¶ç”¨ **isShooting** å˜é‡æ¥é™å®šå®ƒçš„ç§»åŠ¨ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿çŽ©å®¶åªåœ¨ä¸å‘å°„æ¿€å…‰æŸæ—¶æ‰ç§»åŠ¨:

![](img/f8fa89f3b9ca77073bfc8b0a806ee5ea.png)

çŽ°åœ¨ï¼Œå¯¹äºŽ **Start** æ–¹æ³•ï¼Œè®©æˆ‘ä»¬è¦†ç›–çˆ¶ç±»æ–¹æ³•(ä½†ä»ç„¶è°ƒç”¨å®ƒ)å¹¶åˆå§‹åŒ–å„è‡ªçš„å˜é‡æ¥å¸®åŠ©åç¨‹ã€‚ç¬¬ä¸€ä¸ªå»¶è¿Ÿå°†ä½¿ç”¨ Unity ç¼–è¾‘å™¨ä¸­æ£€æŸ¥å™¨æŒ‡ç¤ºçš„æµ®åŠ¨å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œç¬¬äºŒä¸ªå»¶è¿Ÿå°†ä½¿ç”¨é™„åŠ åˆ°é•œå¤´é¢„è®¾å¼•ç”¨çš„è„šæœ¬ä¸­çš„å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œè¯¥å¼•ç”¨æ¥è‡ª **EnemyBehavior** çˆ¶ç±»ã€‚

ä¸€æ—¦å˜é‡è¢«åˆå§‹åŒ–ï¼Œè®©æˆ‘ä»¬å¼€å§‹æ•Œäººçš„å°„å‡»ç¨‹åº:

![](img/555ef11f6f9305c7ef3f61f2a984a02f.png)

**å°„å‡»åºåˆ—**åç¨‹å°†ç­‰å¾…ç¬¬ä¸€æ¬¡å»¶è¿Ÿï¼Œç„¶åŽé€šè¿‡å°† **isShooting** å˜é‡è®¾ç½®ä¸ºçœŸæ¥åœæ­¢æ•Œäººçš„ç§»åŠ¨ï¼Œå¹¶é€šè¿‡åœ¨ animator å¼•ç”¨ä¸­è®¾ç½®å„è‡ªçš„è§¦å‘å™¨æ¥å¯åŠ¨å°„å‡»åŠ¨ç”»(è¿™ä¹Ÿæ¥è‡ªäºŽ**enemy behavior**parent**ç±»):**

**![](img/b155c84809a27c61e5a5120880877440.png)**

**ä»¥ä¸‹æ˜¯æ•Œäººå„è‡ªçš„è§¦å‘å’ŒåŠ¨ç”»æµç¨‹:**

**![](img/d660c07e743ef69a5a5a3d4c0772d2b5.png)**

**å½“**æ‹æ‘„åºåˆ—**åç¨‹åœ¨ animator ä¸­è®¾ç½®**æ‹æ‘„**è§¦å‘å™¨æ—¶ï¼Œè¿™å°†æ”¹å˜çŠ¶æ€ä»¥è§¦å‘æ‹æ‘„åŠ¨ç”»ã€‚åœ¨è¿™ä¸ªåŠ¨ç”»ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åŠ¨ç”»äº‹ä»¶ï¼Œè¿™å°†è°ƒç”¨ä¸€ä¸ªæ–°çš„æ–¹æ³•æ¥å®žä¾‹åŒ–æˆ‘ä»¬æ•Œäººçš„ä¸€ä¾§æˆ–ä¸¤ä¾§çš„ç›¸åº”é•œå¤´ã€‚**

**åœ¨ä¸‹ä¸€å¼ å›¾ä¸­ï¼Œæ‚¨å°†èƒ½å¤Ÿçœ‹åˆ°åŠ¨ç”»çš„ä¸€äº›å…³é”®å¸§ä¸­çš„äº‹ä»¶ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿ç”Ÿæˆçš„æ¿€å…‰æŸä¸Žæ˜¾ç¤ºè¦æ‹æ‘„çš„ä¸€é¢çš„ç²¾çµç›¸åè°ƒ:**

**![](img/22e2da31bf995279cb6866b87ba55908.png)****![](img/8cedfa14cee61e1def64c11383f49487.png)**

**é€šè¿‡ä¿®æ”¹ä¸Žäº‹ä»¶ä¸€èµ·å‘é€çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…³é”®å¸§çš„å„ä¸ªç²¾çµä¸­åŒºåˆ†æ•Œäººçš„ä¸¤ä¾§ã€‚**

**å¦‚æžœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºŽåŠ¨ç”»äº‹ä»¶çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è®¿é—® Unity æ–‡æ¡£:**

**[](https://docs.unity.cn/Manual/script-AnimationWindowEvent.html) [## ä½¿ç”¨åŠ¨ç”»äº‹ä»¶

### ä½ å¦‚ä½•åœ¨æ•´ä¸ªå·¥ä½œæµç¨‹ä¸­ä½¿ç”¨æ–‡æ¡£ï¼Ÿè¯·å‚åŠ æœ¬æ¬¡è°ƒæŸ¥ï¼Œä¸Žæˆ‘ä»¬åˆ†äº«æ‚¨çš„ä½“éªŒã€‚ä½ å¯ä»¥â€¦

docs.unity.cn](https://docs.unity.cn/Manual/script-AnimationWindowEvent.html) 

åœ¨å…³é”®å¸§å¤„è°ƒç”¨çš„æ–¹æ³•å°†æ˜¯ **ShootFromTheSide** ï¼Œå®ƒå°†æŽ¥æ”¶ä¾§é¢çš„ç¼–å·ä»¥å®žä¾‹åŒ–æ¿€å…‰æŸã€‚

ç”±äºŽåªæœ‰ä¸¤æ–¹å¯ä»¥å°„å‡»ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä½¿ç”¨ **Random.value** æ¥ç¡®ä¿æ¯ä¸€æ–¹éƒ½æœ‰ 33%çš„æœºä¼šå°„å‡»ã€‚å¦‚æžœç»“æžœå°äºŽ *.33* ï¼Œè¯¥æ–¹æ³•å°†ç»§ç»­ï¼Œä½†å¦‚æžœç»“æžœå¤§äºŽæ­¤æ•°ï¼Œå®ƒå°†è¿”å›žã€‚å¦‚æžœæ²¡æœ‰ä¸€æ–¹å†³å®šæ‹æ‘„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ç¡®ä¿ä»–ä»¬éƒ½åœ¨æœ€åŽä¸€ä¸ªå…³é”®å¸§æ‹æ‘„ï¼Œè€Œä¸ä¾èµ–äºŽéšæœºå€¼ã€‚

æ— è®ºå¦‚ä½•ï¼Œå¦‚æžœè¯¥æ–¹æ³•ç»§ç»­ï¼Œå®ƒä¼šå°†åŠ¨ç”»é€Ÿåº¦è®¾ç½®ä¸º 0ï¼Œä»¥åœ¨æ¿€å…‰æŸå°„å‡ºæ—¶æ˜¾ç¤ºå…³é”®å¸§çš„ç²¾çµ:

![](img/e657f6c39d417d7fb20c699f72d9ebd5.png)

ç„¶åŽï¼Œä¸ºäº†æ­£ç¡®å®žä¾‹åŒ–å¿«ç…§ï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´ä½ç½®å’Œæ—‹è½¬ï¼Œä»¥åŒ¹é… sprite å°ºå¯¸å’Œ**å®žä¾‹åŒ–**æ–¹æ³•å‚æ•°ä¸­çš„ä¸€äº›å˜é‡ã€‚

ä¸¾ä¾‹æ¥è¯´ï¼Œè®©æˆ‘ä»¬ç”¨ switch è¯­å¥æ£€æŸ¥ç›¸åº”çš„ä¸€ä¾§ï¼Œå¹¶é€šè¿‡æ’­æ”¾é•œå¤´çš„ç›¸åº”å£°éŸ³å¹¶å¯åŠ¨åç¨‹åœæ­¢æ‹æ‘„åºåˆ—æ¥å®Œæˆ:

![](img/a40734aca8d144e6e25709edfa7bd00f.png)

æœ€åŽï¼Œç”¨ä¸‹ä¸€ä¸ªåç¨‹åœæ­¢æ‹æ‘„åŠ¨ç”»ï¼Œè®©æˆ‘ä»¬ç­‰åˆ°é•œå¤´æ¶ˆå¤±ã€‚è¦åœæ­¢å®ƒï¼Œè®©æˆ‘ä»¬å°†åŠ¨ç”»é€Ÿåº¦è®¾ç½®ä¸ºæ­£å¸¸çŠ¶æ€ï¼Œå¹¶å°†è§¦å‘å™¨è®¾ç½®ä¸ºè¿”å›žæ­£å¸¸åŠ¨ç”»ã€‚

ç„¶åŽï¼Œè®©æˆ‘ä»¬æ”¹å˜æ—‹è½¬å’Œç§»åŠ¨çš„æ–¹å‘ï¼Œå¼€å§‹ä¸€ä¸ªæ–°çš„æ‹æ‘„åºåˆ—:

![](img/a8bc09d6802439bef75fdadbbf8853a2.png)

# æ–°é•œå¤´

çŽ°åœ¨ï¼Œä¸ºäº†å¤„ç†æ¿€å…‰æŸè¡Œä¸ºï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„è„šæœ¬:

![](img/9edb10d207df33e7ae7ae917b205d2b7.png)

è®©æˆ‘ä»¬è®©æ–°ç±»ç»§æ‰¿ **Shot** ç±»:

![](img/9d5f34d176cfd08b239fc988c988f5a3.png)

æˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªæ–°ç±»ä¸­çš„ä¸‹ä¸€ä¸ªå˜é‡:

*   æŒç»­æ—¶é—´

è¯¥å˜é‡å°†å­˜å‚¨ç ´åæ¿€å…‰æŸå‰çš„ç­‰å¾…æ—¶é—´ã€‚æˆ‘ä»¬å°†èƒ½å¤Ÿé€šè¿‡æ£€æŸ¥å™¨ä¿®æ”¹å®ƒï¼Œå¹¶ä½¿ç”¨åŒåçš„å…¬å…±å±žæ€§èŽ·å–å®ƒçš„å€¼ã€‚

*   èŒƒå›´

è¿™ä¸ªå˜é‡å°†å­˜å‚¨å…‰çº¿æŠ•å°„çš„é•¿åº¦ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒæ¥æ£€æµ‹ç©ºé—´ä¸­çš„ç¢°æ’žå™¨ã€‚

*   çº¿æ¡

è¯¥å˜é‡å°†å­˜å‚¨ä¸€ä¸ªå¯¹çº¿æ¸²æŸ“å™¨ç»„ä»¶çš„å¼•ç”¨ï¼Œè¯¥ç»„ä»¶å°†é™„åŠ åˆ°å¿«ç…§ä»¥æ˜¾ç¤ºæ¿€å…‰æŸã€‚

![](img/75b2228a394f2d275b91f54817b8fea8.png)

æˆ‘ä»¬éœ€è¦é€šè¿‡æ£€æŸ¥å™¨ä¿®æ”¹é•œå¤´é¢„ç½®çš„å€¼:

![](img/4b6de33bb737ae23bcd278aa93a219f6.png)![](img/64f12e1dccc2b58db88ddf6aea66cdb0.png)![](img/7ff1527393a8b5546c3918f0dff2d730.png)

é•œå¤´é¢„è®¾å°†æœ‰ä¸€ä¸ª**æ¿€å…‰å…‰æŸé•œå¤´**è„šæœ¬å’Œä¸€ä¸ª**çº¿æ¸²æŸ“å™¨**é™„åŠ ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å°†è¦†ç›– **Shot** ç±»çš„è™šæ‹Ÿ **Start** æ–¹æ³•(ä½†ä»ç„¶è°ƒç”¨å®ƒ)ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†åˆå§‹åŒ–æˆ‘ä»¬çš„ Raycastand çš„èŒƒå›´ï¼Œå¹¶ä½¿ç”¨ **GetComponent** èŽ·å–å¯¹ line renderer ç»„ä»¶çš„å¼•ç”¨ã€‚

ç„¶åŽï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ **Physics2Dã€‚RaycastAll** åœ¨ä¸€ä¸ªæ•°ç»„ä¸­èŽ·å–åœ¨æˆ‘ä»¬çš„å…‰çº¿æŠ•å°„èŒƒå›´å†…è¢«å‡»ä¸­çš„æ‰€æœ‰ç‰©ä½“(ç”¨ç¢°æ’žå™¨),è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ£€æŸ¥å®ƒä»¬çš„æ ‡ç­¾å¹¶é‡‡å–ç›¸åº”çš„è¡ŒåŠ¨ã€‚

å¦‚æžœ hit è¯†åˆ«æ“åœºç¢°æ’žä½“ï¼Œæˆ‘ä»¬å°†é€šè¿‡è®¾ç½®æˆ‘ä»¬çš„çº¿æ¸²æŸ“å™¨çš„åˆå§‹å’Œæœ€ç»ˆä½ç½®ï¼Œä½¿ç”¨ hit çš„è·ç¦»æ¥æ˜¾ç¤ºä»Žæ•Œäººåˆ°æ“åœºè¾¹ç•Œçš„çº¿ã€‚

å¦‚æžœ hit ä¹Ÿè¯†åˆ«çŽ©å®¶ç¢°æ’žå™¨ï¼Œæˆ‘ä»¬å°†è°ƒç”¨å¯¹çŽ©å®¶é€ æˆä¼¤å®³çš„æ–¹æ³•ã€‚

æœ€åŽï¼Œé™„åŠ äº†è¿™ä¸ªè„šæœ¬çš„æ¿€å…‰æŸé¢„ç½®å°†åœ¨æŒç»­æ—¶é—´å˜é‡ä¸­è®¾ç½®çš„æ—¶é—´åŽè¢«é”€æ¯:

![](img/5a9f49869e83e97c8e1f4ec81c9ec095.png)![](img/75276e9780cfa5df4acb6070779101e7.png)

> æ³¨æ„:è¿™ä¸ªæ–¹æ³•æ˜¯ä»Ž **Shot** ç±»çš„ **Start** æ–¹æ³•ä¸­è°ƒç”¨çš„ï¼Œè¿™ä¸ªç±»çš„ **Start** æ–¹æ³•æ˜¯ä½¿ç”¨ **base è°ƒç”¨çš„ã€‚**å¼€å§‹()å¼€å§‹ã€‚

å¦‚æžœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºŽ **Raycast** å’Œ **RaycastAll** çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è®¿é—® unity æ–‡æ¡£:

[](https://docs.unity3d.com/ScriptReference/Physics2D.Raycast.html) [## ç‰©ç† 2Dã€‚å…‰çº¿æŠ•å°„

### ä½ å¦‚ä½•åœ¨æ•´ä¸ªå·¥ä½œæµç¨‹ä¸­ä½¿ç”¨æ–‡æ¡£ï¼Ÿè¯·å‚åŠ æœ¬æ¬¡è°ƒæŸ¥ï¼Œä¸Žæˆ‘ä»¬åˆ†äº«æ‚¨çš„ä½“éªŒã€‚å»ºè®®ä¸€ä¸ªâ€¦

docs.unity3d.com](https://docs.unity3d.com/ScriptReference/Physics2D.Raycast.html) [](https://docs.unity3d.com/ScriptReference/Physics2D.RaycastAll.html) [## ç‰©ç† 2Dã€‚å°„çº¿é“¸é€ 

### å…‰çº¿æŠ•å°„åœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºŽä»Žç©ºé—´ä¸­çš„ä¸€ç‚¹æ²¿ç€ç‰¹å®šæ–¹å‘å‘å°„çš„æ¿€å…‰æŸã€‚ä»»ä½•â€¦

docs.unity3d.com](https://docs.unity3d.com/ScriptReference/Physics2D.RaycastAll.html) 

çŽ°åœ¨ï¼Œå¦‚æžœæˆ‘ä»¬åœ¨ Unity ä¸­è¿è¡Œæ¸¸æˆï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æ•Œäººå‘å°„æ¿€å…‰æŸå¹¶ä»¥å¼§å½¢è·¯å¾„ç§»åŠ¨:

![](img/686caa70f5cbf8280b0515d0b0d3ffa9.png)

å°±è¿™æ ·ï¼Œæˆ‘ä»¬ç”¨æ–°çš„é•œå¤´å’Œæ–°çš„è¡Œä¸ºå®žçŽ°äº†ä¸€ä¸ªæ–°çš„æ•Œäººï¼:d .æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­çœ‹åˆ°ä½ ï¼Œåœ¨é‚£é‡Œæˆ‘ä¼šå±•ç¤ºæ›´å¤šæ·»åŠ åˆ°æˆ‘çš„ Unity å¤ªç©ºå°„å‡»æ¸¸æˆä¸­çš„åŠŸèƒ½ã€‚

> *å¦‚æžœä½ æƒ³æ›´å¤šåœ°äº†è§£æˆ‘ï¼Œæ¬¢è¿Žç™»é™†*[***LinkedIn***](https://www.linkedin.com/in/fas444/)**æˆ–è®¿é—®æˆ‘çš„* [***ç½‘ç«™***](http://fernandoalcasan.com/) *:D****