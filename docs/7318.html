<html>
<head>
<title>Letâ€™s play with Heterogeneous data types â€” purescript-heterogeneous â€” Exploring purescript-modules #2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è®©æˆ‘ä»¬ç©ç©å¼‚æ„æ•°æ®ç±»å‹â€”â€”pure script-å¼‚æ„â€”â€”æ¢ç´¢ pure script-æ¨¡å—#2</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/lets-play-with-heterogeneous-data-types-purescript-heterogeneous-847391430d00?source=collection_archive---------11-----------------------#2022-09-24">https://medium.com/nerd-for-tech/lets-play-with-heterogeneous-data-types-purescript-heterogeneous-847391430d00?source=collection_archive---------11-----------------------#2022-09-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d412" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™æ˜¯æœ¬ç³»åˆ—çš„ç¬¬äºŒç¯‡æ–‡ç« ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶ä¸“é—¨ä¸ºå¼‚æ„æ•°æ®ç»“æ„çš„æ˜ å°„å’ŒæŠ˜å å¼€å‘çš„<code class="du jd je jf jg b">purescript-heterogeneous</code>åŒ…ã€‚å¥½çš„ï¼Œæˆ‘è¿™é‡Œè¯´çš„å¼‚æ„æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p><p id="8e48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‰€æœ‰ä¸€æ¬¡å¯ä»¥ä¿å­˜å¤šä¸ªå€¼çš„ç±»å‹è¢«ç§°ä¸ºå¼‚æ„æ•°æ®ç»“æ„ï¼Œæˆ–ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå…ƒç»„å¯ä»¥ä¸€æ¬¡ä¿å­˜å¤šä¸ªå€¼ï¼Œä¸€ä¸ªå·¦å€¼å’Œä¸€ä¸ªå³å€¼ã€‚å› æ­¤å®ƒä»¬è¢«ç§°ä¸ºå¼‚æ„æ•°æ®ç±»å‹ã€‚ä½†æ˜¯æ•°ç»„å¹¶ä¸æ˜¯å¼‚æ„çš„ï¼Œå› ä¸ºæ‰€æœ‰çš„å…ƒç´ åªèƒ½æ˜¯ä¸€ç§ç±»å‹ã€‚</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/679f43310a73a2a245412e959df14a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6fOIDby58VpuhKTlhJKdGw.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">ç”±<a class="ae jx" href="https://unsplash.com/@sharonmccutcheon?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">äºšå†å±±å¤§Â·æ ¼é›·</a>åœ¨<a class="ae jx" href="https://unsplash.com/s/photos/different-colors?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="bc5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬åœ¨ purescript ä¸­å¤„ç†çš„æœ€å¸¸è§çš„å¼‚æ„ç±»å‹æ˜¯ Recordã€‚æˆ‘ä¸€ç›´æƒ³çŸ¥é“æˆ‘ä»¬å¦‚ä½•æ‰èƒ½æ˜ å°„è®°å½•ï¼Œç„¶åæˆ‘å‘ç°äº†è¿™ä¸ªå¥‡å¦™çš„åŒ…<code class="du jd je jf jg b"><a class="ae jx" href="https://pursuit.purescript.org/packages/purescript-heterogeneous/0.3.0" rel="noopener ugc nofollow" target="_blank">purescript-heterogeneous</a></code></p><p id="4e8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é¦–å…ˆï¼Œå‡è®¾è®°å½•ä¸­çš„æ‰€æœ‰å­—æ®µéƒ½æ˜¯åŒç±»çš„(ç›¸åŒç±»å‹)</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="c4a3" class="kc kd hi jg b fi ke kf l kg kh">type Names = <br/>  {  father     :: String<br/>  ,  mother     :: String<br/>  ,  son        :: String<br/>  ,  daughter   :: String<br/>  }</span></pre><p id="4bc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½ æƒ³è®©æ¯ä¸ªå­—æ®µéƒ½å¤§å†™ï¼Œä½ èƒ½ç”¨æ™®é€šçš„<code class="du jd je jf jg b">map</code>åšåˆ°å—ï¼Ÿå½“ç„¶æ²¡æœ‰ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸º record ä¸æ˜¯<a class="ae jx" href="https://pursuit.purescript.org/packages/purescript-prelude/6.0.1/docs/Data.Functor#t:Functor" rel="noopener ugc nofollow" target="_blank">å‡½å­</a>ã€‚</p><p id="2adf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿ</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="31d2" class="kc kd hi jg b fi ke kf l kg kh">capitalizeNames :: Names -&gt; Names <br/>capitalizeNames names = hmap toUpper names</span></pre><p id="8e33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä»”ç»†çœ‹ï¼Œæˆ‘æ²¡ç”¨è¿‡<code class="du jd je jf jg b">map</code>æˆ‘ç”¨çš„æ˜¯<code class="du jd je jf jg b">hmap</code>ï¼Œæ˜¯å¥—è£…æä¾›çš„<code class="du jd je jf jg b">purescript-heterogeneous.</code></p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="071f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘é‡åˆ°è¿‡è¿™æ ·ä¸€ç§æƒ…å†µï¼Œæˆ‘æœ‰ä¸€ä¸ªè®°å½•ï¼Œæˆ‘åªæƒ³ç»™è®°å½•ä¸­çš„æ¯ä¸ªå€¼åŠ ä¸Š<code class="du jd je jf jg b">Just</code>ã€‚æˆ‘æƒ³çŸ¥é“æˆ‘æ€ä¹ˆèƒ½åšåˆ°å‘¢ï¼Ÿæˆ‘ä»¬èƒ½åšç±»ä¼¼ä¸Šé¢çš„äº‹æƒ…å—ï¼Ÿ</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="b717" class="kc kd hi jg b fi ke kf l kg kh">justRecords names = hmap Just names -- will throw error</span></pre><p id="e647" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸ï¼Œæˆ‘ä»¬ä¸èƒ½ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæ¯ä¸ªå­—æ®µéƒ½å¯èƒ½æ˜¯ä¸åŒçš„ç±»å‹ï¼Œé‚£ä¹ˆ<code class="du jd je jf jg b">Just</code>çš„ç±»å‹ä¼šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<code class="du jd je jf jg b">String -&gt; Maybe String</code>æˆ–<code class="du jd je jf jg b">Int -&gt; Maybe Int</code>ç­‰â€¦â€¦ç†æƒ³æƒ…å†µä¸‹åº”è¯¥æ˜¯<code class="du jd je jf jg b">a -&gt; Maybe a</code></p><p id="12a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸ºäº†å°è£…<code class="du jd je jf jg b">a</code>,æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç±»å‹ï¼Œ(ä¸è¦æ‹…å¿ƒå®ƒéå¸¸ç®€å•)</p><p id="af80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é¦–å…ˆåˆ›å»ºä¸€ä¸ªç±»å‹ï¼Œ</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="b207" class="kc kd hi jg b fi ke kf l kg kh">data MakeMaybe = MakeMaybe</span></pre><p id="f683" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç„¶åä¸ºå¼‚æ„åŒ…ä¸­å®šä¹‰çš„<code class="du jd je jf jg b">Mapping</code>ç±»æ´¾ç”Ÿä¸€ä¸ªå®ä¾‹ã€‚</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="b331" class="kc kd hi jg b fi ke kf l kg kh">instance makeMaybeMapping :: Mapping MakeMaybe a (Maybe a) <br/> where<br/>     mapping MakeMaybe = Just</span></pre><p id="bd3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ˜ å°„ç±»å‹ç±»æœ‰ 3 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä½ åˆ›å»ºçš„å•æ€ç±»å‹ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªæ˜¯æ˜ å°„å‡½æ•°<code class="du jd je jf jg b">(a -&gt; b).</code>ä¸­çš„<code class="du jd je jf jg b">a</code>å’Œ<code class="du jd je jf jg b">b</code>ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯<code class="du jd je jf jg b">a -&gt; Maybe a</code></p><p id="8ac7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘å‘Šè¯‰ä½¿ç”¨<code class="du jd je jf jg b">Just</code>å°†ç±»å‹<code class="du jd je jf jg b">a</code>è½¬æ¢ä¸º<code class="du jd je jf jg b">Maybe a</code>ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨<code class="du jd je jf jg b">Nothing</code>ä»£æ›¿<code class="du jd je jf jg b">Just</code>ï¼Œè¿™å°†æŠŠæ¯ä¸ªå­—æ®µè½¬æ¢ä¸º<code class="du jd je jf jg b">Nothing</code>(ä½†æ˜¯è°ä¼šæƒ³è¦è¿™æ ·çš„å‡½æ•°å‘¢ï¼ŸğŸ˜‘)</p><p id="3d75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½¿ç”¨å®ƒä¹Ÿå¾ˆå®¹æ˜“ï¼Œä½ åªéœ€è¦ä½¿ç”¨ä½ å·²ç»åˆ›å»ºçš„ç±»å‹ã€‚</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="c41f" class="kc kd hi jg b fi ke kf l kg kh">makeMaybe names = hmap MakeMaybe names</span></pre><p id="a5db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">makeMaybe çš„ç±»å‹ç­¾åå°†ç±»ä¼¼äºï¼Œ</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="e7bb" class="kc kd hi jg b fi ke kf l kg kh">type MaybeNames = {  father     :: Maybe String<br/>                  ,  mother     :: Maybe String<br/>                  ,  son        :: Maybe String<br/>                  ,  daughter   :: Maybe String<br/>                  }</span><span id="42eb" class="kc kd hi jg b fi kp kf l kg kh">makeMaybe :: Names -&gt; MaybeNames <br/>makeMaybe = ....</span></pre><blockquote class="kq kr ks"><p id="dedc" class="if ig kt ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated">æ³¨æ„:åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå­—æ®µå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œç›´åˆ°å®ƒä»¬ç”¨ Maybe åŒ…è£…èµ·æ¥ã€‚</p></blockquote><p id="20db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¯·çœ‹ï¼Œ<code class="du jd je jf jg b">hmap</code>å·²ç»å°†æˆ‘ä»¬çš„è®°å½•ç±»å‹è½¬å˜ä¸ºå…¨æ–°çš„ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨<code class="du jd je jf jg b">hmap</code>åšå¾ˆå¤šäº‹æƒ…ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æŠŠæ‰€æœ‰çš„å­—æ®µç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥è¿™æ ·åš</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="d483" class="kc kd hi jg b fi ke kf l kg kh">--- create a type<br/>data MakeString = MakeString</span><span id="9139" class="kc kd hi jg b fi kp kf l kg kh">--- create the Mapping instance <br/>instance makeMakeString :: (Show a) =&gt; Mapping MakeString a String<br/>  where<br/>     mapping MakeString = show</span><span id="d4dd" class="kc kd hi jg b fi kp kf l kg kh">--- create a method that does the mapping<br/>makeString names = hmap MakeString names</span></pre><p id="9d3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¤ªå®¹æ˜“äº†ï¼Œä¸æ˜¯å—ï¼Ÿ</p><p id="50a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½†æ˜¯å¦‚æœä¸èƒ½åƒä¸Šé¢é‚£æ ·ç»Ÿä¸€ç±»å‹(é€šè¿‡ä½¿ç”¨ç±»ä¼¼<code class="du jd je jf jg b">Show</code>çš„çº¦æŸè¯´æ‰€æœ‰å­—æ®µéƒ½æœ‰ show instance æˆ–è€…ç›²ç›®ä½¿ç”¨ç±»ä¼¼<code class="du jd je jf jg b">forall a</code>çš„å…¨ç§°é‡è¯)æ€ä¹ˆåŠï¼Ÿ</p><p id="b43d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœæ‚¨å¸Œæœ›æ¯ä¸ªå­—æ®µéƒ½æœ‰å•ç‹¬çš„æ˜ å°„å‡½æ•°ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬èƒ½ç”¨è¿™ä¸ªåŒ…åšåˆ°å—ï¼Ÿæ˜¯çš„ï¼Œæˆ‘çš„æœ‹å‹ï¼ï¼</p><p id="ecf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½†æ˜¯ä½ åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™å·²ç»å†™äº†ä¸€äº›æ¨¡æ¿ï¼Œä½†æ˜¯è¯·ç›¸ä¿¡æˆ‘ï¼Œå®ƒéå¸¸ç®€å•&amp;ä½ ä¼šå¾ˆå¿«ä¹ æƒ¯çš„ã€‚</p><p id="992c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é¦–å…ˆï¼Œåƒå¾€å¸¸ä¸€æ ·ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŒ…è£…è®°å½•çš„æ•°æ®ç±»å‹(åœ¨æœ¬ä¾‹ä¸­æ˜¯å‡½æ•°)ã€‚</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="e757" class="kc kd hi jg b fi ke kf l kg kh">data ZipProps fns = ZipProps { | fns}</span></pre><p id="8fa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¹‹å‰æˆ‘ä»¬åˆ›å»ºäº†<code class="du jd je jf jg b">Mapping</code> typeclass å®ä¾‹ï¼Œä½†æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°†ä½¿ç”¨<code class="du jd je jf jg b">MappingWithIndex</code>ï¼Œå®ƒé€šè¿‡<code class="du jd je jf jg b">Proxy</code>ä¸ºæˆ‘ä»¬æä¾›å­—æ®µå</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="1bd7" class="kc kd hi jg b fi ke kf l kg kh">instance zipProps ::<br/>  (IsSymbol sym, Row.Cons sym (a -&gt; b) tail fns) =&gt;<br/>  MappingWithIndex (ZipProps fns) (Proxy sym) a b where<br/>  mappingWithIndex (ZipProps fns) prop = Record.get prop fns</span></pre><p id="fa8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¥½å§ï¼Œè¿™å¯èƒ½ä¼šä»¤äººå›°æƒ‘ï¼Œè®©æˆ‘æ¥åˆ†æä¸€ä¸‹</p><p id="6dda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MapWithIndex é‡‡ç”¨ 4 ä¸ªå‚æ•°</p><ol class=""><li id="c033" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated"><code class="du jd je jf jg b">ZipProps fns</code> â€”æ‚¨å·²ç»åˆ›å»ºçš„æ•°æ®ç±»å‹ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯å®ƒçš„ ZipPropsï¼Œå®ƒåŒ…è£…äº†å‡½æ•°çš„è®°å½•ã€‚</li><li id="9331" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated"><code class="du jd je jf jg b">Proxy sym</code> â€”è¿™ç»™å‡ºäº†å­—æ®µçš„åç§°ã€‚</li><li id="15e2" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated"><code class="du jd je jf jg b">a</code> â€”å­—æ®µçš„ç±»å‹</li><li id="a4d5" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated"><code class="du jd je jf jg b">b</code> â€”ç”¨å‡½æ•°è½¬æ¢åçš„å­—æ®µç±»å‹ã€‚</li></ol><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="9595" class="kc kd hi jg b fi ke kf l kg kh">IsSymbol sym, Row.Cons sym (a -&gt; b) tail fns</span></pre><p id="5616" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹çº¦æŸæ¡ä»¶ï¼Œ</p><ol class=""><li id="b637" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated"><code class="du jd je jf jg b">IsSymbol sym</code> â€”è¡¨ç¤ºä»£ç†ä¸­çš„<code class="du jd je jf jg b">sym</code>æ˜¯ä¸€ä¸ªç¬¦å·(S <a class="ae jx" href="https://pursuit.purescript.org/packages/purescript-prelude/6.0.1/docs/Data.Symbol" rel="noopener ugc nofollow" target="_blank">ç¬¦å·</a>åªæ˜¯ç±»å‹çº§åˆ«çš„å­—ç¬¦ä¸²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code class="du jd je jf jg b">reflectSymbol</code>å°†ç¬¦å·è½¬æ¢æˆå­—ç¬¦ä¸²)</li><li id="979f" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated"><code class="du jd je jf jg b">Row.Cons sym (a -&gt; b) tail fns</code> â€”è¯¥çº¦æŸå‘Šè¯‰å­—æ®µå<code class="du jd je jf jg b">sym</code>å…·æœ‰ç±»å‹<code class="du jd je jf jg b">a-&gt;b</code>(ä» a åˆ° b çš„å‡½æ•°)ä»¥åŠå‰©ä½™çš„è¡Œ<code class="du jd je jf jg b">tail</code>å°†æ„æˆæ•´ä¸ªè®°å½•<code class="du jd je jf jg b">fns</code>ã€‚å®ƒç¿»è¯‘æˆç±»ä¼¼ä¸‹é¢çš„å—</li></ol><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="50f6" class="kc kd hi jg b fi ke kf l kg kh">fns = { sym :: (a -&gt; b)<br/>      , ... tail <br/>      }</span></pre><p id="8b7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªå®šä¹‰æ˜¯ä»€ä¹ˆæ„æ€ï¼Œ</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="904f" class="kc kd hi jg b fi ke kf l kg kh">mappingWithIndex (ZipProps fns) prop = Record.get prop fns</span></pre><p id="2a6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">Record.get</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªä»¥å­—æ®µåä½œä¸ºç¬¦å·çš„ä»£ç†å’Œå®é™…è®°å½•ï¼Œå¹¶è¿”å›å€¼ã€‚å°±åƒè®¿é—®</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="0446" class="kc kd hi jg b fi ke kf l kg kh">fns.prop -- where fns is an object and prop is the field name</span></pre><p id="70b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸Šé¢çš„è¡Œå°†è¿”å›ä¸€ä¸ªä»<code class="du jd je jf jg b">a -&gt; b</code>å¼€å§‹çš„å‡½æ•°ï¼Œå…¶ä¸­åŒåçš„å¯¹åº”å­—æ®µçš„ç±»å‹æ˜¯<code class="du jd je jf jg b">a</code>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ<code class="du jd je jf jg b">father</code>å­—æ®µå±äº<code class="du jd je jf jg b">String</code>ç±»å‹ï¼Œé‚£ä¹ˆ fns ä¸­çš„<code class="du jd je jf jg b">father</code>å­—æ®µæ˜¯æ¥è‡ª<code class="du jd je jf jg b">String -&gt; sometype</code>çš„å‡½æ•°(å®ƒå¿…é¡»é‡‡ç”¨ä¸å‚æ•°ç›¸åŒçš„ç±»å‹)</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="7fb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‹ç¼©å‡½æ•°ï¼Œå®ƒè·å–å‡½æ•°çš„è®°å½•å¹¶å°†å®ƒä»¬åº”ç”¨åˆ°å…·æœ‰ç›¸åŒå­—æ®µåçš„å…ƒç´ çš„è®°å½•ä¸­ã€‚</p><pre class="ji jj jk jl fd jy jg jz ka aw kb bi"><span id="e93d" class="kc kd hi jg b fi ke kf l kg kh">--- the zipping function<br/>zipRecord fns record = hmapWithIndex (ZipProps fns) record</span><span id="70e0" class="kc kd hi jg b fi kp kf l kg kh">--- the mapping function <br/>fns =  { aNumber :  \num  -&gt; num + 1<br/>       , aString. : \str  -&gt; str &lt;&gt; "!!"<br/>       , aBool    : \bool -&gt; not bool <br/>       }</span><span id="adbc" class="kc kd hi jg b fi kp kf l kg kh">--- the record to be transformed<br/>num = { aNumber : 2 <br/>      , aString:"Hello"<br/>      , aBool : false }</span><span id="aa3c" class="kc kd hi jg b fi kp kf l kg kh">&gt;&gt;&gt; zipRecord fns num<br/>{ aNumber: 3, aString: "Hello!!", aBool: true }</span></pre><blockquote class="kq kr ks"><p id="9472" class="if ig kt ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated">æ³¨æ„:å­—æ®µååº”è¯¥ç›¸äº’åŒ¹é…</p></blockquote><p id="8e1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¼‚æ„åŒ…è¿˜æä¾›äº†ä¸€ç§æŠ˜å è®°å½•çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸æ‰“ç®—åœ¨æœ¬æ–‡ä¸­è®¨è®ºå®ƒï¼Œé‚£å°†æ˜¯å¦å¤–ä¸€ä¸ªè¯é¢˜ã€‚</p><p id="6652" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘å¸Œæœ›ä½ å­¦åˆ°äº†ä¸€äº›å¾ˆé…·çš„ä¸œè¥¿ï¼Œå¹¶ä¸”çŸ¥é“æœ‰å¤šé…·ğŸ˜å¼‚æ„åŒ…æ˜¯ï¼Œè¿™å¯ä»¥ä½¿å·¥ä½œä¸è®°å½•è¶…çº§çµæ´»å’Œå®¹æ˜“ã€‚</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="3058" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­çœ‹åˆ°å…¶ä»–ä¸€äº›å¾ˆé…·çš„åŒ…ã€‚æ‹æ‰‹å£°ğŸ‘å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œå°±åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p></div></div>    
</body>
</html>