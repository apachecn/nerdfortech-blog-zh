<html>
<head>
<title>Using Context in React with Typescript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨React with Typescriptä¸­ä½¿ç”¨ä¸Šä¸‹æ–‡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/using-context-in-react-with-typescript-55c1383f9c9d?source=collection_archive---------1-----------------------#2021-01-31">https://medium.com/nerd-for-tech/using-context-in-react-with-typescript-55c1383f9c9d?source=collection_archive---------1-----------------------#2021-01-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ff86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‰€ä»¥ä½ è¦ç”¨ä¸Šä¸‹æ–‡(<a class="ae jd" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">https://reactjs.org/docs/context.html</a>)ğŸ™Œ<br/> â¡ï¸æ‰€ä»¥ä½ å¸Œæœ›ä½ çš„ä¸Šä¸‹æ–‡æä¾›çŠ¶æ€å’Œä¸€ä¸ªæ›´æ–°çŠ¶æ€çš„å‡½æ•°ã€‚<br/> â¡ï¸æ‰€ä»¥ä½ è¦ç”¨Typescriptã€‚</p><p id="2909" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¯•è¯•è¿™ä¸ª:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="c7ee" class="jn jo hi jj b fi jp jq l jr js">import { createContext } from "react";</span><span id="66f6" class="jn jo hi jj b fi jt jq l jr js">const Context = createContext({<br/>  state: [] as string[],<br/>  dispatch: (state: string[]) =&gt; {},<br/>});</span></pre><p id="0257" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ğŸ¤«<em class="ju">å‡è®¾</em> <code class="du jv jw jx jj b"><em class="ju">state</em></code> <em class="ju">æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚</em></p><p id="651b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¹Ÿè®¸è¿™æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œä½†æˆ‘èŠ±äº†ä¸€æ®µæ—¶é—´æ¥é”®å…¥ä¼ é€’ç»™<code class="du jv jw jx jj b">createContext</code>çš„<code class="du jv jw jx jj b">defaultValue</code>ã€‚</p><p id="689b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ã€ŠT3ã€‹çš„æ¼”å‘˜é˜µå®¹å¾ˆæœ‰è¶£ã€‚å¦‚æœä½ ä¸å¼ºåˆ¶è½¬æ¢ï¼Œå½“ä½ å°†<code class="du jv jw jx jj b">state</code>ä¼ é€’ç»™contextçš„<code class="du jv jw jx jj b">value</code>é“å…·æ—¶ï¼ŒTypescriptä¼šæŠ±æ€¨(è§ä¸‹æ–‡)ã€‚å®ƒä¼šè¯´<code class="du jv jw jx jj b">state</code>çš„ç±»å‹æ˜¯<code class="du jv jw jx jj b">never[]</code>(æ¯•ç«Ÿæ˜¯ç©ºæ•°ç»„)å¹¶ä¸”å’ŒçŠ¶æ€å˜é‡å†²çªï¼ŒçŠ¶æ€å˜é‡æ˜¯<code class="du jv jw jx jj b">string[]</code>ã€‚</p><p id="0e68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹é¢æ˜¯é’©å­ä»¥åŠå¦‚ä½•å°†å®ƒä¼ é€’ç»™ä¸Šä¸‹æ–‡ã€‚</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="4557" class="jn jo hi jj b fi jp jq l jr js">const [state, dispatch] = useState(["initial"]);</span><span id="783b" class="jn jo hi jj b fi jt jq l jr js">return (<br/>  &lt;div&gt;<br/>    &lt;Context.Provider value={{ state, dispatch }}&gt;<br/>      &lt;ComponentTreeThatNeedsAccessToState /&gt;<br/>      &lt;ComponentTreeThatNeedsAccessToDispatch /&gt;<br/>    &lt;/Context.Provider&gt;<br/>  &lt;/div&gt;<br/>);</span></pre><p id="9a7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å› æ­¤ï¼Œå¦‚æœæ‚¨çš„<code class="du jv jw jx jj b">createContext</code>è°ƒç”¨ä¸­æœ‰ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¹¶ä¸”å‡ºç°ä»¥ä¸‹é”™è¯¯:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="9dbc" class="jn jo hi jj b fi jp jq l jr js">Type 'string[]' is not assignable to type 'never[]'</span></pre><p id="ddcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é‚£ä¹ˆæˆ‘å¸Œæœ›è¿™æœ‰æ‰€å¸®åŠ©ğŸ™Œ</p><p id="4957" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju">å‚è§</em><a class="ae jd" href="https://bitbucket.org/gabrielmccallin/react-context/src/main/src/App.tsx" rel="noopener ugc nofollow" target="_blank"><em class="ju">https://bit bucket . org/gabrielmccallin/react-context/src/main/src/app . tsx</em></a></p></div></div>    
</body>
</html>