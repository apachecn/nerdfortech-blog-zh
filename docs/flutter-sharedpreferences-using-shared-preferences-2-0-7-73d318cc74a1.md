# é¢¤æŒ¯:ä½¿ç”¨ shared_preferences çš„ shared preferences:^2.0.7

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/flutter-sharedpreferences-using-shared-preferences-2-0-7-73d318cc74a1?source=collection_archive---------5----------------------->

> ä» Api è·å–æ•°æ®å¹¶å°†å…¶å­˜å‚¨åœ¨å…±äº«åå¥½è®¾ç½®ä¸­

![](img/5d0c3df993d77e53f781e2adc5324c0d.png)

è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„è¯é¢˜ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºå†…å­˜ä¸­å­˜å‚¨ä¸€äº›å•ä¸ªå€¼ã€‚å®ƒå¸¸ç”¨äºä¿å­˜ç™»å½•å‡­è¯çš„è¯¦ç»†ä¿¡æ¯ã€‚

åœ¨ ShardPreferences ä¸­ï¼Œæ•°æ®å¼‚æ­¥ä¿å­˜åˆ°ç£ç›˜ã€‚NSUserDefaults(åœ¨ iOS ä¸Š)å’Œ SharedPreferences(åœ¨ Android ä¸Š)ï¼Œä¸ºç®€å•æ•°æ®æä¾›æŒä¹…å­˜å‚¨ã€‚

è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å®ç°è¿™ä¸€ç‚¹

**èƒŒæ™¯:**åŸºæœ¬ä¸Šï¼Œæˆ‘çš„åœºæ™¯æ˜¯ä½¿ç”¨ Get æ–¹æ³•ä» API è·å–æ•°æ®(è¿™æ˜¯ä¸€ä¸ªå•ç‹¬çš„ä¸»é¢˜),ä½†æ˜¯çš„ï¼Œæˆ‘æƒ³ä» API è·å–æ•°æ®ï¼Œç„¶åå°†å…¶ä¿å­˜åˆ°å…±äº«é¦–é€‰é¡¹ä¸­ï¼Œç„¶ååœ¨é—ªå±ä¸Šï¼Œæˆ‘æƒ³æ£€æŸ¥æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œè¿™æ ·å®ƒå°†å‡ºç°åœ¨ä¸»å±å¹•ä¸Šï¼Œå¦åˆ™å®ƒå°†è¿›å…¥å¼€å§‹å±å¹•ï¼Œç”¨æˆ·å°†å†æ¬¡ä» Api è·å–æ•°æ®ã€‚

**å®æ–½**:

**ç¬¬ä¸€æ­¥:**æ·»åŠ ä¾èµ–å…³ç³»

![](img/4eafc1135c7e6fc05a9711bead25ee18.png)

åœ¨ Yaml æ–‡ä»¶ä¸­ï¼Œæ‚¨å°†æŠŠä¾èµ–é¡¹æ·»åŠ ä¸ºâ€œshared_preferencesâ€

**æ³¨æ„:**æ‚¨å¯ä»¥åœ¨ [*é“¾æ¥*](https://pub.dev/packages/shared_preferences#-installing-tab-) ä¸­æ‰¾åˆ°æœ€æ–°çš„ä¾èµ–å…³ç³»

**ç¬¬äºŒæ­¥** : **å¯¼å…¥å…±äº«åå¥½**

![](img/7ad682227b8da29077f9043e62246f4e.png)

**ç¬¬ä¸‰æ­¥:å­˜å‚¨æ•°æ®**

![](img/76790e1b8346a03f29843f8249e5c761.png)

ä¹‹åï¼Œå½“æˆ‘ç‚¹å‡» API å¹¶è·å–æ•°æ®æ—¶ï¼Œæˆ‘å°†è¯¥æ•°æ®æ”¾å…¥æˆ‘çš„é¦–é€‰é¡¹ä¸­ï¼Œè¿™æ ·æ¯å½“ç”¨æˆ·ç‚¹å‡» API å¹¶è·å–æ—¶ï¼Œå®ƒéƒ½ä¼šè¢«å¡«å……ï¼Œå› æ­¤å®ƒä¼šæ ¹æ®å®ƒè¿è¡Œï¼Œå¹¶ä¸”æ¯æ¬¡å®ƒéƒ½ä¼šå°†æ•°æ®æ”¾å…¥é¦–é€‰é¡¹ä¸­

![](img/73344d8f4205969ba58cc3960664e71e.png)

åƒ setString()ä¸€æ ·ï¼Œæˆ‘ä»¬æœ‰å…¶ä»–æ–¹æ³•æ¥å­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹å€¼

ä¾‹å¦‚:setInt()ã€setDouble() & setBool()ï¼Œ

**ç¬¬å››æ­¥:æ£€ç´¢å€¼**

å› æ­¤ï¼Œæ ¹æ®æˆ‘çš„åœºæ™¯ï¼Œåœ¨å¯åŠ¨ç”»é¢ä¸­ï¼Œæˆ‘å¸Œæœ›é€šè¿‡æ”¾å…¥ä¸€äº›æ£€å…¥å¯åŠ¨ç”»é¢æ¥æ£€æŸ¥æ•°æ®æ˜¯å¦å­˜åœ¨

![](img/477d44be955e8310bb88954969ace7d5.png)

ç„¶åæˆ‘åƒè¿™æ ·è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œ

![](img/f56d194cf233d6ed351a8fdc5f173a83.png)

æ‰€ä»¥æ¯æ¬¡å½“æ€»ç®¡çš„æ—¶å€™ã€‚dart å°†ä¼šæ‰“å¼€ï¼Œå› æ­¤å®ƒä¼šæ£€æŸ¥æ¯æ¬¡å‡ºç°é—ªå±çš„æ—¶é—´ã€‚

æ£€ç´¢å€¼çš„å…¶ä»–æ–¹æ³•ï¼Œå¦‚ getBool()ã€getInt() & getDouble()

**ç¬¬äº”æ­¥:ä½¿ç”¨ä»·å€¼**

```
String value = await getValue() ?? "";
```

ï¼Ÿï¼Ÿç”¨äºç¡®ä¿å¦‚æœ getValue()è¿”å› nullï¼Œé‚£ä¹ˆå®ƒåº”è¯¥ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ä½œä¸ºå€¼ï¼Œè€Œä¸æ˜¯ nullã€‚

è¯·æ¬£èµå®ƒï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥åœ¨æœªæ¥å†™æ›´å¤šï¼

> å¿«ä¹ç¼–ç ã€‚

å¦‚æœæˆ‘åšé”™äº†ä»€ä¹ˆï¼Ÿè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚æˆ‘å¾ˆæƒ³è¿›æ­¥ã€‚

æ‹æ‰‹å£°ğŸ‘å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€‚

**Github**:[https://github.com/SaaifKhan](https://github.com/SaaifKhan)

ç”µå­é‚®ä»¶:Saif_khan09@hotmail.com(å¦‚æœ‰ä»»ä½•ç–‘é—®)