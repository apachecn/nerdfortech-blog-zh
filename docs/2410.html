<html>
<head>
<title>Adding a Custom Star-Field Background with three.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨ three.js æ·»åŠ è‡ªå®šä¹‰æ˜ŸåŸŸèƒŒæ™¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/adding-a-custom-star-field-background-with-three-js-79a1d18fd35d?source=collection_archive---------0-----------------------#2021-05-05">https://medium.com/nerd-for-tech/adding-a-custom-star-field-background-with-three-js-79a1d18fd35d?source=collection_archive---------0-----------------------#2021-05-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/7e9cea5c668ef5707199e5f658366d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A6Z2r5E4NVcnkLhA"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">ç…§ç‰‡ç”±<a class="ae hv" href="https://unsplash.com/@jdiegoph?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Diego PH </a>åœ¨<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</figcaption></figure><div class=""/><p id="192d" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä»Šå¤©ï¼Œæˆ‘å°†æ·»åŠ ä¸€ä¸ªç±»ä¼¼æ˜Ÿç©ºçš„èƒŒæ™¯ï¼Œè¿™æ˜¯æˆ‘åœ¨ä¹‹å‰çš„å¸–å­<a class="ae hv" href="https://25ckuntaldas.medium.com/taking-a-simple-contact-form-to-the-next-level-with-css-animation-and-three-js-part-1-cb9093ef9d64" rel="noopener"> <em class="jt">ä¸­è°ƒä¾ƒè¿‡çš„ï¼Œé€šè¿‡ css åŠ¨ç”»å’Œ three.js </em> </a>å°†ä¸€ä¸ªç®€å•çš„è”ç³»äººè¡¨å•æå‡åˆ°ä¸‹ä¸€ä¸ªçº§åˆ«ï¼Œè¿™å°†å¯¹é¼ æ ‡ç§»åŠ¨åšå‡ºå“åº”ã€‚</p><p id="a1e5" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘å°†ä»ä¸Šä¸€ç¯‡æ–‡ç« ç¦»å¼€çš„åœ°æ–¹å¼€å§‹ï¼Œç»§ç»­æ·»åŠ å†…å®¹ã€‚å¦‚æœæ‚¨åªæƒ³ç”¨ three.js åˆ›å»ºèƒŒæ™¯ï¼Œä¹Ÿå¯ä»¥ä»ä¸€ä¸ªåŸºæœ¬çš„ç©ºç™½ HTML é¡µé¢å¼€å§‹ã€‚</p><h1 id="7d6f" class="ju jv hy bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">three.js æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p id="6492" class="pw-post-body-paragraph iv iw hy ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">Three.js æ˜¯ä¸€ä¸ªè½»é‡çº§è·¨æµè§ˆå™¨ JavaScript åº“/APIï¼Œç”¨äºåœ¨ Web æµè§ˆå™¨ä¸Šåˆ›å»ºå’Œæ˜¾ç¤ºåŠ¨ç”» 3D è®¡ç®—æœºå›¾å½¢ã€‚Three.js è„šæœ¬å¯ä»¥ä¸ HTML5 canvas å…ƒç´ ã€SVG æˆ– WebGL ç»“åˆä½¿ç”¨ã€‚</p><p id="bcda" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">æ·»åŠ  canvas æ ‡ç­¾:</strong>å½“æˆ‘å†³å®šä½¿ç”¨<a class="ae hv" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" rel="noopener ugc nofollow" target="_blank"> HTML5 canvas å…ƒç´ </a>æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ HTML ä¸­æ·»åŠ ä¸€ä¸ª<code class="du kx ky kz la b">&lt;canvas&gt; </code>æ ‡ç­¾ï¼Œå°±åœ¨<code class="du kx ky kz la b">&lt;body&gt;</code>æ ‡ç­¾[ <code class="du kx ky kz la b">&lt;canvas id=â€câ€&gt;&lt;/canvas&gt;</code> ]ä¹‹åã€‚æˆ‘è¿˜æ·»åŠ äº†ä¸€ä¸ª idï¼Œä»¥ä¾¿åœ¨æˆ‘çš„ JavaScript ä¸­å¼•ç”¨å®ƒã€‚</p><p id="8c25" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">ä¸€ä½ CSS : </strong>è¿™ä½ CSS ä¼šé€šè¿‡åº”ç”¨<code class="du kx ky kz la b">position: absolute;</code>å’Œ<code class="du kx ky kz la b">width:100%;height:100%;</code>ä½¿å…¶æ¨ªè·¨æ•´ä¸ªå±å¹•ã€‚è¿™é‡Œå®ƒæ˜¯ç›¸å¯¹äº HTML çš„<code class="du kx ky kz la b">body</code>çš„ï¼Œæ‰€ä»¥<code class="du kx ky kz la b">width:100%;</code>å°†è¡¨ç¤º<code class="du kx ky kz la b">body</code>å…ƒç´ çš„ 100%å®½åº¦ï¼Œé«˜åº¦ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸€ä¸ª<code class="du kx ky kz la b">z-index:-1;</code>ä¼šæŠŠå®ƒæ”¾åœ¨æ‰€æœ‰ HTML å…ƒç´ çš„åé¢ã€‚æ­¤å¤–ï¼Œå¦‚æœæ³¨æ„åˆ°<code class="du kx ky kz la b">transition</code>å±æ€§ï¼Œå®ƒä¼šä½¿èƒŒæ™¯å¹³æ»‘åœ°å‡ºç°ï¼Œå› ä¸ºå®ƒä¼šåœ¨é¡µé¢å’Œ JavaScript åŠ è½½åéœ€è¦ä¸€äº›è®¡ç®—ï¼Œå®ƒä¹Ÿä¼šç»™ä½ç«¯è®¡ç®—æœºä¸€äº›æ—¶é—´åœ¨æ¸²æŸ“ç¬¬ä¸€å¹…å›¾åƒå‰è¿›è¡Œè®¡ç®—ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="6d90" class="lj jv hy la b fi lk ll l lm ln">#c {<br/>    display: block;<br/>    position: absolute;<br/>    z-index: -1;<br/>    width: 100%;<br/>    height: 100%;<br/>    opacity: 0;<br/>    transition: opacity 1500ms ease-out;<br/>}</span></pre><p id="1119" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç»™ js æ¥çº¿:æˆ‘ä»¬å°†åœ¨ JS çš„å¸®åŠ©ä¸‹åˆ¶ä½œ<code class="du kx ky kz la b">opacity:1;</code></p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="f8c3" class="lj jv hy la b fi lk ll l lm ln">const canvas = document.getElementById("c");</span><span id="c261" class="lj jv hy la b fi lo ll l lm ln">document.addEventListener("DOMContentLoaded", () =&gt; {<br/>  canvas.style.opacity = 1;<br/>});</span></pre><p id="e53f" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨è®©æˆ‘ä»¬å…ˆç”¨ threejs å£°æ˜ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡<br/> <code class="du kx ky kz la b">import THREE form â€œ<a class="ae hv" href="https://cdnjs.cloudflare.com/ajax/libs/three.js/r127/three.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/three.js/r127/three.min.js</a>â€</code> <br/>å°†å®ƒå¯¼å…¥åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ç”¨ HTML <br/> <code class="du kx ky kz la b">&lt;script src=â€œ<a class="ae hv" href="https://cdnjs.cloudflare.com/ajax/libs/three.js/r127/three.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/three.js/r127/three.min.js</a>â€&gt;</code>ä¸­çš„è„šæœ¬æ ‡ç­¾é“¾æ¥å®ƒ</p><p id="8a1b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä¸ºäº†åœ¨æˆ‘ä»¬åœ¨ HTML ä¸­å®šä¹‰çš„ç”»å¸ƒä¸Šå®Œæˆä¸‰é¡¹å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ›å»º<code class="du kx ky kz la b">renderer</code>æ—¶ä¼ é€’å®ƒ:</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="ead4" class="lj jv hy la b fi lk ll l lm ln">const starFieldBG = () =&gt;{<br/>    const renderer = new THREE.WebGLRenderer({canvas});<br/>    renderer.setClearColor(new THREE.Color("#1c1624"));</span><span id="976b" class="lj jv hy la b fi lo ll l lm ln">   ...<br/>}</span></pre><p id="ec06" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz"> setClearColor() </strong>å‡½æ•°è®¾ç½®æˆ‘ä»¬å°†è¦ç»˜åˆ¶çš„ç”»å¸ƒçš„é¢œè‰²ã€‚æ¸²æŸ“å™¨å°†ä¸€ä¸ª<code class="du kx ky kz la b">scene</code>å¯¹è±¡å’Œä¸€ä¸ª<code class="du kx ky kz la b">camera</code>å¯¹è±¡ä½œä¸ºå‚æ•°æ¥æ­£ç¡®æ¸²æŸ“å®ƒã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="3c20" class="lj jv hy la b fi lk ll l lm ln">const scene = new THREE.Scene();</span><span id="cca4" class="lj jv hy la b fi lo ll l lm ln">const fov = 75, aspect = 2, near = 1.5, far = 5;<br/>const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);</span><span id="6ce6" class="lj jv hy la b fi lo ll l lm ln">renderer.render(scene, camera);</span></pre><figure class="lb lc ld le fd hk er es paragraph-image"><div class="er es lp"><img src="../Images/b748988d8a76e1845f636d04a5e1ef81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*g9b7FCWoE6-Do7G2Wc1UQQ.png"/></div></figure><p id="6c2f" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨äº†<strong class="ix hz">é€è§†ç›¸æœº</strong>ï¼Œå®ƒç»™å‡ºäº†ä¸€ä¸ª 3d è§†å›¾ï¼Œåœ¨è¿™ä¸ªè§†å›¾ä¸­ï¼Œè¿œå¤„çš„ä¸œè¥¿çœ‹èµ·æ¥æ¯”è¿‘å¤„çš„å°ã€‚<code class="du kx ky kz la b">fov</code>æ˜¯ä»¥åº¦ä¸ºå•ä½çš„è§†é‡ï¼Œ<code class="du kx ky kz la b">aspect</code>æ˜¯å®½é«˜æ¯”ï¼Œ<code class="du kx ky kz la b">near</code> <code class="du kx ky kz la b">far</code>å°†å†³å®šæ¸²æŸ“å¤šå°‘ç©ºé—´ã€‚</p><p id="6570" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä¸ºäº†æ›´å¥½åœ°äº†è§£ three.js ä¸­çš„<a class="ae hv" href="https://threejsfundamentals.org/threejs/lessons/threejs-cameras.html" rel="noopener ugc nofollow" target="_blank">æ‘„åƒæœºï¼Œè¯·çœ‹è¿™ä¸ª</a><a class="ae hv" href="https://threejsfundamentals.org/threejs/threejs-cameras-perspective-2-scenes.html" rel="noopener ugc nofollow" target="_blank">åœ¨</a><a class="ae hv" href="https://threejsfundamentals.org" rel="noopener ugc nofollow" target="_blank">https://threejsfundamentals.org</a>çš„çœŸå®ä¾‹å­</p><p id="aeed" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æ­¤æ—¶ï¼Œæˆ‘ä»¬å°†çœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºåœ¨<code class="du kx ky kz la b">scene</code>ä¸­æ²¡æœ‰<strong class="ix hz">å…‰</strong>å’Œä»»ä½•ç‰©ä½“ã€‚Three.js åº“ä¸­æœ‰å¾ˆå¤šç§ç±»çš„ç¯ï¼Œå¦‚<code class="du kx ky kz la b"><strong class="ix hz">AmbientLight</strong></code>ã€<code class="du kx ky kz la b"><strong class="ix hz">AmbientLightProbe</strong></code>ã€<code class="du kx ky kz la b"><strong class="ix hz">DirectionalLight</strong></code>ã€<strong class="ix hz">ã€</strong>ã€<strong class="ix hz">ã€</strong>ç­‰ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äºç¯å…‰<a class="ae hv" href="https://threejsfundamentals.org/threejs/lessons/threejs-lights.html" rel="noopener ugc nofollow" target="_blank">çš„ä¿¡æ¯ã€‚æˆ‘é€‰æ‹©äº†ä½¿ç”¨å¹³è¡Œå…‰ï¼Œå› ä¸ºå®ƒå¯ä»¥åˆ›é€ å‡ºç±»ä¼¼å¤ªé˜³å…‰çº¿çš„æ•ˆæœã€‚</a></p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="bcb9" class="lj jv hy la b fi lk ll l lm ln">// light source<br/>  const color = 0xffffff, intensity = 1;<br/>  const light = new THREE.DirectionalLight(color, intensity);<br/>  light.position.set(-1, 2, 4);<br/>  scene.add(light);</span></pre><p id="2805" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kx ky kz la b">color</code> &amp; <code class="du kx ky kz la b">intensity</code>åˆ†åˆ«æŒ‡å…‰çº¿çš„é¢œè‰²å’Œå®ƒä¼šç…§äº®è¡¨é¢çš„ç¨‹åº¦ã€‚<code class="du kx ky kz la b">position.set(x, y, z)</code>è®¾ç½®å…‰æºåœ¨ 3d ç©ºé—´çš„ä½ç½®ã€‚è™½ç„¶å…‰æºä¸ä¼šè¢«æ¸²æŸ“ï¼Œä½†å®ƒä¸å¯¹è±¡çš„äº¤äº’å°†è¢«æ¸²æŸ“ã€‚</p><p id="3322" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬è‡³å°‘å¯ä»¥åœ¨ç”»å¸ƒä¸Šçœ‹åˆ°ä¸€äº›ä¸œè¥¿ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦<strong class="ix hz">ç½‘æ ¼</strong>ï¼Œå®ƒæ˜¯ä»¥ä¸‹å„é¡¹çš„ç»„åˆ:</p><ul class=""><li id="3dc8" class="lq lr hy ix b iy iz jc jd jg ls jk lt jo lu js lv lw lx ly bi translated">ä¸€ä¸ª<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/?q=Geometry" rel="noopener ugc nofollow" target="_blank">Geometry</a></code> <a class="ae hv" href="https://threejs.org/docs/?q=Geometry" rel="noopener ugc nofollow" target="_blank"> </a> â€”ç‰©ä½“çš„å½¢çŠ¶</li><li id="90e8" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">ä¸€ä¸ª<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/#api/en/materials/Material" rel="noopener ugc nofollow" target="_blank">Material</a></code>â€”â€”å¦‚ä½•ç»˜åˆ¶ç‰©ä½“ï¼Œå‘äº®è¿˜æ˜¯æ‰å¹³ï¼Œä»€ä¹ˆé¢œè‰²ï¼Œåº”ç”¨ä»€ä¹ˆçº¹ç†ã€‚ç­‰ç­‰ã€‚</li><li id="d7e0" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">åœºæ™¯ä¸­å¯¹è±¡ç›¸å¯¹äºå…¶çˆ¶å¯¹è±¡ä½ç½®ã€æ–¹å‘å’Œæ¯”ä¾‹ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œçˆ¶å¯¹è±¡æ˜¯åœºæ™¯ã€‚</li></ul><p id="fbe8" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">è®©æˆ‘ä»¬å…ˆç”»ä¸€ä¸ªç«‹æ–¹ä½“:</strong>è¿™å°†ç”»ä¸€ä¸ªåœ¨ç‚¹(0ï¼Œ0ï¼Œ0)ä¸Šæœ‰<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/?q=Geometry#api/en/geometries/BoxGeometry" rel="noopener ugc nofollow" target="_blank">BoxGeometry</a></code>çš„ç«‹æ–¹ä½“æ¥çœ‹å®ƒï¼Œæˆ‘ä»¬éœ€è¦ç”¨<code class="du kx ky kz la b">camera.position.z = 2;</code>åœ¨åé¢æ‹æ‘„ä¸€ç‚¹ï¼Œè¿™é‡Œæˆ‘åªæ”¹å˜<code class="du kx ky kz la b">z</code>è½´çš„å€¼ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ä¸€äº›ä¸åŒçš„å•ä½æ¥å°è¯•<code class="du kx ky kz la b">x</code>æˆ–<code class="du kx ky kz la b">y</code>ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="6410" class="lj jv hy la b fi lk ll l lm ln">const boxWidth = 1, boxHeight = 1, boxDepth = 1;<br/>const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);</span><span id="dba3" class="lj jv hy la b fi lo ll l lm ln">const material = new THREE.MeshBasicMaterial({color: 0x44aa88});</span><span id="a079" class="lj jv hy la b fi lo ll l lm ln">const cube = new THREE.Mesh(geometry, material);</span><span id="a6a6" class="lj jv hy la b fi lo ll l lm ln">scene.add(cube);</span></pre><p id="b7c4" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">ä½¿å…¶å…·æœ‰å“åº”æ€§:</strong>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæ‚¨å¯èƒ½åœ¨æ˜¾ç¤ºå™¨ä¸Šæ˜¾ç¤ºç«‹æ–¹ä½“æ—¶æœ‰é—®é¢˜ï¼Œæˆ–è€…å½“æ‚¨è°ƒæ•´æµè§ˆå™¨å¤§å°æ—¶æœ‰é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çª—å£çš„å®½åº¦å’Œé«˜åº¦ä½•æ—¶æ”¹å˜ï¼Œå¹¶æ ¹æ®å®ƒè¿›è¡Œè°ƒæ•´ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="846e" class="lj jv hy la b fi lk ll l lm ln">const resizeRendererToDisplaySize = (renderer) =&gt; {<br/>  const canvas = renderer.domElement;<br/>  const width = canvas.clientWidth;<br/>  const height = canvas.clientHeight;<br/>  const needResize = canvas.width !== width || canvas.height !== height;<br/>  // resize only when necessary<br/>  if (needResize) {<br/>    //3rd parameter `false` to change the internal canvas size<br/>    renderer.setSize(width, height, false);<br/>  }<br/>  return needResize;<br/>};</span></pre><p id="700e" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¿™ä¸ªå‡½æ•°å°†é€šè¿‡ç”¨<code class="du kx ky kz la b">renderer.setSize()</code>è°ƒæ•´ç”»å¸ƒçš„ drawingbuffer å¤§å°(ç”»å¸ƒçš„å†…éƒ¨å¤§å°ï¼Œå®ƒçš„åˆ†è¾¨ç‡)æ¥æ¶ˆé™¤ç¼©æ”¾é—®é¢˜ã€‚çš„â€œdrawingbufferâ€å¯ä»¥ä¸<code class="du kx ky kz la b">&lt;svg&gt;</code>å…ƒç´ çš„<code class="du kx ky kz la b">viewbox</code>æˆ–<code class="du kx ky kz la b">&lt;img&gt;</code>æ ‡ç­¾å†…çš„å›¾åƒè¿›è¡Œæ¯”è¾ƒ(å›¾åƒå°ºå¯¸å¯ä»¥ä¸åŒäº<code class="du kx ky kz la b">&lt;img&gt;</code>æ ‡ç­¾çš„å°ºå¯¸)ã€‚</p><p id="a032" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨æˆ‘ä»¬çš„<code class="du kx ky kz la b">main()</code>ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨å®ƒçš„è¿”å›è¯­å¥æ¥æ”¹å˜æ‘„åƒæœºçš„<strong class="ix hz">å®½é«˜æ¯”</strong>ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="a28a" class="lj jv hy la b fi lk ll l lm ln">const render = (time) =&gt; {<br/>  if (resizeRendererToDisplaySize(renderer)) {<br/>    const canvas = renderer.domElement;</span><span id="280f" class="lj jv hy la b fi lo ll l lm ln">    // changing the camera aspect to remove the strechy problem<br/>    camera.aspect = canvas.clientWidth / canvas.clientHeight;<br/>    camera.updateProjectionMatrix();<br/>  }</span><span id="b36e" class="lj jv hy la b fi lo ll l lm ln">   // Re-render the scene<br/>   renderer.render(scene, camera);<br/>   // loop<br/>   requestAnimationFrame(render);<br/>};<br/>requestAnimationFrame(render);</span></pre><p id="e3d5" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">å› ä¸ºæˆ‘ä»¬éœ€è¦è·Ÿè¸ªçª—å£å°ºå¯¸å¹¶è°ƒç”¨è¿™ä¸ªä»£ç å—æ¥ä½¿ç”»å¸ƒåœ¨æ‰€æœ‰å±å¹•ä¸Šå“åº”ï¼Œæ‰€ä»¥æˆ‘å°†è¿™ä¸ªä»£ç å—åŒ…å«åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå¹¶ç”¨æµè§ˆå™¨æä¾›çš„<code class="du kx ky kz la b"><a class="ae hv" href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" rel="noopener ugc nofollow" target="_blank">requestAnimationFrame()</a></code> <a class="ae hv" href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" rel="noopener ugc nofollow" target="_blank"> </a>è¿›è¡Œé€’å½’å¾ªç¯ã€‚</p><p id="9c73" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">å¢åŠ ä¸€äº›äº¤äº’æ€§:</strong>ç”¨é¼ æ ‡æŒ‡é’ˆå®šä½ã€‚ä¸ºæ­¤ï¼Œæˆ‘åœ¨æ–‡æ¡£ä¸­é™„åŠ äº†ä¸€ä¸ª<code class="du kx ky kz la b">mousemove</code> EventListenerï¼Œå¹¶æ›´æ–°äº†ä¸¤ä¸ªå…¨å±€å˜é‡<code class="du kx ky kz la b">mouseX</code> &amp; <code class="du kx ky kz la b">mouseY</code>ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="5b32" class="lj jv hy la b fi lk ll l lm ln">// mouse<br/>let mouseX = 0;<br/>let mouseY = 0;<br/>document.addEventListener("mousemove", (e) =&gt; {<br/>  mouseX = e.clientX;<br/>  mouseY = e.clientY;<br/>});</span></pre><p id="d9e9" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨åœ¨<code class="du kx ky kz la b">render()</code>ä¸­æ·»åŠ ä¸¤è¡Œä»£ç æ¥æ”¹å˜å®ƒåŸºäºé¼ æ ‡ç§»åŠ¨çš„æ—‹è½¬ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="c0e2" class="lj jv hy la b fi lk ll l lm ln">const render = (time) =&gt; {<br/>    ...<br/>    ...<br/>    <br/>    cube.rotation.x = mouseY * 0.005;<br/>    cube.rotation.y = mouseX * 0.005;<br/>    <br/>    renderer.render(scene, camera);<br/>    // loop<br/>    requestAnimationFrame(render);<br/>  };</span></pre><p id="bb3d" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä½ æœ€ç»ˆä¼šå˜æˆè¿™æ ·ã€‚</p><figure class="lb lc ld le fd hk"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="6393" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä½¿ç”¨ä¸€ä¸ªç«‹æ–¹ä½“æ¥ä½¿å“åº”éƒ¨åˆ†æ˜“äºç†è§£ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦ç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬éœ€è¦ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä½¿ç”¨<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/index.html?q=points#api/en/objects/Points" rel="noopener ugc nofollow" target="_blank">THREE.Points</a></code>æ¥ä»£æ›¿<code class="du kx ky kz la b">THREE.Mesh</code>ï¼Œä¸ºäº†è®©å®ƒå·¥ä½œï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸åŒçš„ææ–™ï¼Œ<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/?q=PointsMaterial#api/en/materials/PointsMaterial" rel="noopener ugc nofollow" target="_blank"><strong class="ix hz">PointsMaterial</strong></a></code>ç°åœ¨ä½ ä¼šçœ‹åˆ°ç«‹æ–¹ä½“çš„ 8 ä¸ªè§’ä¸Šæœ‰ 8 ä¸ªç‚¹ã€‚æˆ‘ä»¬éœ€è¦æ›´å¤šçš„åˆ†æ•°ã€‚å°±åƒè¿™æ ·:</p><figure class="lb lc ld le fd hk"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="3131" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨ä½¿ç”¨<code class="du kx ky kz la b">size:0.05</code>ä½¿å®ƒå˜å¾—æ˜æ˜¾</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="6dfd" class="lj jv hy la b fi lk ll l lm ln">const material = new THREE.PointsMaterial({<br/>    size: 0.05,<br/>    color: 0x44aa88 // remove it if you want white points.<br/>});</span></pre><p id="a127" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘ä»¬è¿˜éœ€è¦å¤§é‡çš„ç‚¹ç›’â€”â€”å‡ ä½•åœ¨è¿™ç§æƒ…å†µä¸‹æ²¡æœ‰å¤ªå¤§çš„å¸®åŠ©ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/?q=BufferGeometry()#api/en/core/BufferGeometry" rel="noopener ugc nofollow" target="_blank">BufferGeometry()</a></code></p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="508c" class="lj jv hy la b fi lk ll l lm ln">const geometry = new THREE.BufferGeometry();</span></pre><p id="76f5" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kx ky kz la b">BufferGeometry()</code>åˆ›å»ºå‡ ä½•å›¾å½¢æ—¶ä¸éœ€è¦å‚æ•°ï¼Œä½†æˆ‘ä»¬éœ€è¦æ”¹å˜ä¸€äº›å±æ€§æ¥å®šä¹‰æˆ‘ä»¬çš„ç‚¹ä½ç½®ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="0d61" class="lj jv hy la b fi lk ll l lm ln">geometry.setAttribute(<br/>    "position",<br/>    new THREE.BufferAttribute(getRandomParticelPos(350), 3)<br/>);</span></pre><p id="37de" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¯¥éƒ¨åˆ†é€šè¿‡ä½¿ç”¨ç”±<code class="du kx ky kz la b"> getRandomParticelPos()</code>è¿”å›çš„éšæœºæµ®ç‚¹å€¼æ•°ç»„æ¥è®¾ç½®ä½ç½®ï¼Œè¯¥æ•°ç»„ä»¥<strong class="ix hz">ç‚¹æ•°</strong>ä½œä¸ºå‚æ•°ã€‚<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/?q=BufferAttribute#api/en/core/BufferAttribute" rel="noopener ugc nofollow" target="_blank">BufferAttribute</a></code>ä½¿ç”¨è¯¥æ•°ç»„é€šè¿‡ä»æ•°ç»„ä¸­æ¯ä¸ªç‚¹å– 3 ä¸ªå€¼æ¥è®¾ç½®ä½ç½®å±æ€§ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="7e82" class="lj jv hy la b fi lk ll l lm ln">const getRandomParticelPos = (particleCount) =&gt; {<br/>  const arr = new Float32Array(particleCount * 3);<br/>  for (let i = 0; i &lt; particleCount; i++) {<br/>    arr[i] = (Math.random() - 0.5) * 10;<br/>  }<br/>  return arr;<br/>};</span></pre><p id="470c" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¿™å°†çœ‹èµ·æ¥åƒè¿™æ ·:</p><figure class="lb lc ld le fd hk"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="2971" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä¸ºäº†æ”¹å˜æ‚¬åœæ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦æ”¹å˜<code class="du kx ky kz la b">render()</code>ä¸­çš„è¿™ä¸¤è¡Œï¼Œå¹¶ä»æè´¨ä¸­ç§»é™¤<code class="du kx ky kz la b">color</code>å±æ€§ï¼Œä½¿å…¶ä¸ºç™½è‰²ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="c7ec" class="lj jv hy la b fi lk ll l lm ln">...<br/>const render = (time) =&gt; {<br/>    ...<br/>    ...<br/>    <br/>    //cube.rotation.x = mouseY * 0.005;<br/>    //cube.rotation.y = mouseX * 0.005;</span><span id="5237" class="lj jv hy la b fi lo ll l lm ln">    cube.position.x = mouseY * 0.0001;<br/>    cube.position.y = mouseX * -0.0001;<br/>    <br/>    renderer.render(scene, camera);<br/>    // loop<br/>    requestAnimationFrame(render);<br/>  };<br/>...</span></pre><p id="c1a7" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠè¿™äº›ç‚¹åšæˆåœ†å½¢æˆ–ä»»ä½•ç±»ä¼¼çš„å½¢çŠ¶ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="du kx ky kz la b">texture</code>è®©å®ƒä»¬çœ‹èµ·æ¥åƒæˆ‘ä»¬æƒ³è¦çš„ä»»ä½•æ ·å­ã€‚æˆ‘åœ¨ Figma ä¸­åˆ¶ä½œäº†ä¸¤å¼ <strong class="ix hz"> PNG </strong>å›¾ç‰‡ä½œä¸ºçº¹ç†ï¼Œå¹¶ä¸Šä¼ åˆ° GitHub <a class="ae hv" href="https://github.com/Kuntal-Das/textures" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hz"> repo </strong> </a>ä¸­ã€‚ä¸ºäº†ä½¿ç”¨çº¹ç†ï¼Œæˆ‘ä»¬éœ€è¦<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/?q=TextureLoader()#api/en/loaders/TextureLoader" rel="noopener ugc nofollow" target="_blank">TextureLoader()</a></code>ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨åˆ›å»ºæè´¨æ—¶æ”¹å˜ä¼ é€’ç»™<code class="du kx ky kz la b"><a class="ae hv" href="https://threejs.org/docs/?q=PointsMaterial#api/en/materials/PointsMaterial" rel="noopener ugc nofollow" target="_blank">PointsMaterial()</a></code>çš„å¯¹è±¡ã€‚</p><pre class="lb lc ld le fd lf la lg lh aw li bi"><span id="0eb1" class="lj jv hy la b fi lk ll l lm ln">const loader = new THREE.TextureLoader();<br/>...</span><span id="ee98" class="lj jv hy la b fi lo ll l lm ln">const material = new THREE.PointsMaterial({<br/>    size: 0.05,<br/>    map: loader.load(<br/>      "<a class="ae hv" href="https://raw.githubusercontent.com/Kuntal-Das/textures/main/sp2.png" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/Kuntal-Das/textures/main/sp2.png</a>"<br/>    ),<br/>    transparent: true<br/>    // color: 0x44aa88<br/>});</span></pre><p id="7152" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kx ky kz la b">loader.load()</code>ä»ç»™å®šçš„ PNG æ–‡ä»¶åˆ›å»ºçº¹ç†ï¼Œå¹¶å°†å…¶ä½œä¸º<code class="du kx ky kz la b">map</code>ä¼ é€’ï¼Œä»¥ä½¿ç‚¹çœ‹èµ·æ¥åƒå®ƒï¼Œä½†æˆ‘ä»¬è¿˜éœ€è¦<code class="du kx ky kz la b">transparent:true</code>ä½¿ä¹‹å‰æ¸²æŸ“çš„ç™½è‰²æ–¹å—æ¶ˆå¤±ã€‚</p><p id="bfb1" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">å”·ï¼Œæˆ‘ä»¬ç»ˆäºæˆåŠŸäº†ã€‚ä»…é™æ­¤èƒŒæ™¯ã€‚</p><figure class="lb lc ld le fd hk"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="3de5" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨è¿™ä¸ªæœ€ç»ˆç‰ˆæœ¬ä¸­ï¼Œæˆ‘æ·»åŠ äº†ä¸¤ç§ä¸åŒçš„çº¹ç†å’Œä¸åŒçš„ç‚¹æ•°ã€‚è¿™ä¸ªå¸–å­å·²ç»å¾ˆé•¿äº†ï¼Œæˆ‘ä¸æƒ³è®©å®ƒå˜å¾—æ›´é•¿ï¼Œæ‰€ä»¥æˆ‘ä¼šæŠŠå®ƒç•™ç»™ä½ è‡ªå·±å»å®ç°ï¼Œå¹¶å¼„è„ä½ çš„æ‰‹ã€‚(æˆ–è€…åªæ˜¯åœ¨æˆ‘çš„ä»£ç ä¸­æœ‰ä¸€ä¸ªå³°å€¼ğŸ¤­)</p><p id="3731" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç°åœ¨ï¼Œé‚£äº›è·Ÿéš<a class="ae hv" href="https://25ckuntaldas.medium.com/taking-a-simple-contact-form-to-the-next-level-with-css-animation-and-three-js-part-1-cb9093ef9d64" rel="noopener">ä¸Šä¸€ç¯‡æ–‡ç« </a>çš„äººåº”è¯¥æœ‰è¿™ä¸ª:</p><figure class="lb lc ld le fd hk"><div class="bz dy l di"><div class="me mf l"/></div></figure><p id="66f7" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æ‰€ä»¥æˆ‘ä»¬ä»Šå¤©å­¦åˆ°äº†:</p><ul class=""><li id="e3c8" class="lq lr hy ix b iy iz jc jd jg ls jk lt jo lu js lv lw lx ly bi translated">å¦‚ä½•å°† threejs ä¸ canvas é…åˆä½¿ç”¨ï¼Ÿ</li><li id="fd72" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬éœ€è¦<code class="du kx ky kz la b">scene</code>å’Œ<code class="du kx ky kz la b">camera</code>æ¥æ¸²æŸ“æˆ‘ä»¬çš„åœºæ™¯ã€‚</li><li id="3e3c" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">æˆ‘ä»¬è¿˜éœ€è¦å°†<code class="du kx ky kz la b">light</code>æ·»åŠ åˆ°<code class="du kx ky kz la b">scene</code>ä¸­ï¼Œä»¥æŸ¥çœ‹æˆ‘ä»¬æ·»åŠ åˆ°<code class="du kx ky kz la b">scene</code>ä¸­çš„å¯¹è±¡ã€‚</li><li id="da6e" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">æˆ‘ä»¬å­¦ä¹ äº†ç”¨<code class="du kx ky kz la b">BoxGeometry</code> &amp; <code class="du kx ky kz la b">MeshBasicMaterial</code>åˆ›å»º<code class="du kx ky kz la b">Mesh</code>ã€‚</li><li id="89ab" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">æˆ‘ä»¬é€šè¿‡ç›‘å¬çª—å£çš„å®½åº¦å’Œé«˜åº¦ä½¿ç”»å¸ƒå†…éƒ¨çš„å›¾åƒåšå‡ºå“åº”ã€‚</li><li id="2605" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">å¦‚ä½•æ¸²æŸ“å¤§é‡çš„ç‚¹<code class="du kx ky kz la b">BufferGeometry</code> &amp; <code class="du kx ky kz la b">PointsMaterial</code>ã€‚</li><li id="5a15" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">æˆ‘ä»¬åœ¨ threejs ä¸­å­¦åˆ°äº†ä¸€äº›å…³äº<code class="du kx ky kz la b">textures</code>çš„çŸ¥è¯†ã€‚</li><li id="30da" class="lq lr hy ix b iy lz jc ma jg mb jk mc jo md js lv lw lx ly bi translated">æˆ‘ä»¬è¿˜å­¦ä¹ äº†ä¸¤ç§ä½¿ canvas å…ƒç´ äº¤äº’çš„æ–¹æ³•ã€‚</li></ul></div></div>    
</body>
</html>