# react droidâ€”â€”Android çš„ååº”å¼ MVI æ¶æ„â€”â€”ç¬¬ 2 éƒ¨åˆ†

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/reactdroid-reactive-mvi-architecture-for-android-part-2-44c3c2810f52?source=collection_archive---------12----------------------->

## ç§»åŠ¨åº”ç”¨ä¸­çš„ååº”å¼ç¼–ç¨‹â€”â€”ä¸€æ¬¡æ—…è¡Œ

## ä¸€ä¸ªå…¨é¢çš„ç§»åŠ¨å¼€å‘åº“ï¼Œé‡‡ç”¨çº¯ Kotlin å†…æ ¸è®¾è®¡ï¼Œå¹¶æ‰©å±•äº† Android å±‚ã€‚å¿«é€Ÿã€ç»“æ„åŒ–å’Œå¯é çš„åº”ç”¨ç¨‹åºå¼€å‘â€”ç¬¬ 2 éƒ¨åˆ†â€” Redux

## ä»‹ç»

åœ¨[ä¹‹å‰çš„æ–‡ç« ](/@gguymi/587726a5045f)ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº† [*å¦‚ä½•*](/@gguymi/587726a5045f) å®ç°ä¸€ä¸ª [*ååº”*â€”â€”å°±åƒ *Kotlin ä¸­çš„*](/nerd-for-tech/react-redux-in-kotlin-for-truly-native-mobile-development-25229937d4f)æ¶æ„ã€‚è¿™ä¸€éƒ¨åˆ†å°†ä»æˆ‘ä»¬åœä¸‹æ¥çš„åœ°æ–¹ç»§ç»­å‘æˆ‘ä»¬å±•ç¤º*å¦‚ä½•ä½¿ç”¨ [*RxKotlin*](https://github.com/ReactiveX/RxKotlin) å®ç°ä¸€ä¸ª [*Redux* -like](/nerd-for-tech/react-redux-in-kotlin-for-truly-native-mobile-development-25229937d4f) æ¶æ„ã€‚è¿™ä¸¤ä¸ªç»„æˆäº† [*Reactdroid*](https://github.com/GuyMichael/Reactdroid) åº“ï¼Œåœ¨ *GitHub* ä¸Šæœ‰[å¯ç”¨ã€‚](https://github.com/GuyMichael/Reactdroid)*

> æœ¬æ–‡å‡è®¾ä½ å¯¹ [*React* ã€ *Redux*](/nerd-for-tech/react-redux-in-kotlin-for-truly-native-mobile-development-25229937d4f) å’Œ [*rx*](http://reactivex.io/) æœ‰æ‰€ç†Ÿæ‚‰ã€‚

![](img/aefebf23a23cb39524a253335c6141a8.png)

Redux å®šä¹‰äº†å•å‘æ•°æ®æµã€‚åƒé›¨æ—ä¸€æ ·:æ°´è’¸å‘(å‘é€)åˆ°äº‘(å­˜å‚¨)ï¼Œäº‘å°†å®ƒä»¬åˆå¹¶åœ¨ä¸€èµ·ï¼Œç„¶åä¸‹é›¨(é€šçŸ¥)åˆ°æ¯ä¸ªäºº:)

# (ç±»ä¼¼ Redux çš„æ¶æ„æ˜¯å¦‚ä½•æ­å»ºçš„)ï¼Ÿ

[æé†’ä½ ](/@gguymi/587726a5045f)â€”â€”åœ¨é«˜å±‚æ¬¡ä¸Šï¼Œ *Reactdroid* çš„ *Kotlin* å†…æ ¸æ˜¯è¿™æ ·æ„é€ çš„:

![](img/55f630655e10de467c7be6a05d2ad311.png)

ååº”æ€§ç±»å›ºé†‡çš„ç§‘ç‰¹æ—æ ¸å¿ƒ

ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠ *Reactdroid* çš„ *Redux* å†…æ ¸åŠå…¶*å­˜å‚¨*ã€‚

# æˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­è®¨è®ºçš„å†…å®¹

1.  *å•†åº—*ç±»
2.  *å­˜å‚¨*çš„ APIâ€”*subscribe()*&*dispatch()*
3.  *å­˜å‚¨*çš„*å…¨å±€çŠ¶æ€*åŠå…¶*å­˜å‚¨é”®*
4.  *å‚¨å­˜*çš„*å‡é€Ÿå™¨*
5.  *å°†* [æˆ‘ä»¬çš„*ç»„ä»¶*](/@gguymi/587726a5045f#47f2) è¿æ¥åˆ°*å•†åº—*

ä¸‹ä¸€ç¯‡æ–‡ç« å°†ä¼šæ›´æ·±å…¥åœ°æ¢è®¨*å•†åº—*æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚

# å•†åº—

[å•†åº—](https://redux.js.org/api/store/)*æ˜¯*å…¨å±€çŠ¶æ€*ç®¡ç†å™¨ã€‚äººä»¬å¯ä»¥*è®¢é˜…*å®ƒâ€”â€”ä»¥æ¥æ”¶*å…¨å±€çŠ¶æ€*å˜åŒ–æ›´æ–°ï¼›å¹¶ä¸”*å°†*åˆ†æ´¾ç»™å®ƒâ€”â€”ä»¥æ›´æ–°*å…¨å±€çŠ¶æ€*ã€‚*

*è¿™ä¸ª[*1-æ–¹å‘æµ*](https://www.geeksforgeeks.org/unidirectional-data-flow/) æ˜¯è¿™æ ·çš„(æœ¬æ–‡å°†æ¶µç›–ä¸€åˆ‡) :*

*![](img/32ac1959bd944e17ce43d75d8dafc795.png)*

*Reactdroid çš„å­˜å‚¨è°ƒåº¦æµç¨‹(å•å‘)*

*è®©æˆ‘ä»¬åˆ›å»ºæˆ‘ä»¬çš„*å•†åº—*ã€‚[ä¸*ç»„ä»¶*](/@gguymi/587726a5045f#7c93) ç›¸åŒï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ª*æŠ½è±¡ç±»*ç”¨äºç‰¹å®šäºå¹³å°çš„*åŸºç±»*åˆ°*æ‰©å±•*(ä¾‹å¦‚åœ¨ *Android* â€” `AndroidStore`)ã€‚æ‰©å±•*ç±»*å°†ä½¿ç”¨ [*ç§‘ç‰¹æ—çš„*](https://www.baeldung.com/kotlin/objects) `[object](https://www.baeldung.com/kotlin/objects)`(å•ä¾‹)ã€‚*

*Reactdroid çš„å­˜å‚¨å£°æ˜ã€‚ç®€åŒ–ã€‚*

*è¿™ä¸ª*æ„é€ å‡½æ•°*ç”±ä¸¤ä¸ªå‚æ•°ç»„æˆ:*

1.  *`mainReducer` â€”å°†æŒæœ‰*åº“*çš„æ‰€æœ‰*å‡é€Ÿå™¨*(ä½œä¸º`List`)*
2.  *`preloadedState` â€”**åˆå§‹** *çŠ¶æ€*ç”¨äº **app å¯åŠ¨æ—¶***

*å¹¶ä¸”å”¯ä¸€çš„æˆå‘˜æ˜¯(å…¨å±€)`state`å¯¹è±¡ï¼Œå¦‚æœç»™å®šï¼Œåˆ™ç”¨`preloadedState`(ä¾‹å¦‚æ¥è‡ª *API æœåŠ¡å™¨*çš„ä¸€äº›*çŠ¶æ€*)åˆå§‹åŒ–ï¼Œæˆ–è€…ç”¨`mainReducer`æä¾›çš„*è¿˜åŸå™¨*-å®šä¹‰çš„åº”ç”¨ç¨‹åºåˆå§‹çŠ¶æ€åˆå§‹åŒ–(ä¾‹å¦‚æ ¹æ®æœ¬åœ° DB çš„ä¸€äº›*çŠ¶æ€*)ã€‚*

## *å•†åº—çš„ API*

**å•†åº—*çš„æ ¸å¿ƒ API ç”±ä¸¤ä¸ªæ–¹æ³•ç»„æˆâ€” `subscribe()`å’Œ`dispatch()`ã€‚
ä¸€ä¸ªç»™*è®¢é˜…*çš„*å…¨å±€çŠ¶æ€*æ›´æ–°ï¼Œå¦ä¸€ä¸ªæ›´æ–°å®ƒã€‚*

*ä¸‹é¢æ˜¯è¿™ä¸¤ä¸ª API çš„(éå¸¸)ç®€åŒ–çš„å£°æ˜:*

*å•†åº—çš„ APIã€‚éå¸¸ç®€åŒ–ã€‚*

*[å®é™…ä¸Š](https://github.com/GuyMichael/Reactdroid/blob/master/reactdroid/src/main/java/com/guymichael/kotlinflux/model/Store.kt)ï¼Œè¿™ä¸ªå£°æ˜è¦å¤æ‚å¾—å¤šï¼Œæœ‰[æ³›å‹](https://www.baeldung.com/kotlin/generics)å’Œ[hoc](https://reactjs.org/docs/higher-order-components.html)ç­‰ç­‰ã€‚ä½†æ˜¯æˆ‘ä»¬ç°åœ¨çœŸçš„æ²¡æœ‰æ—¶é—´ï¼Œä¸‹é¢çš„æ–‡ç« ä¼šæ›´æ·±å…¥ğŸ˜‰ã€‚*

> *æé†’ä¸€ä¸‹ï¼Œ *Redux* (ä»¥åŠ *Store* )ä¸*React*â€”â€”[æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œé™¤éæˆ‘ä»¬å°†å®ƒä»¬ç»‘å®šåœ¨ä¸€èµ·](https://react-redux.js.org/introduction/quick-start) *(ç”¨ä¸€ä¸ª*ç»„ä»¶*â€”â€”ä¸“ç”¨*è®¢é˜…*æ–¹æ³•)*ã€‚
> å› æ­¤ï¼Œ*å­˜å‚¨*æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„*å…¨å±€çŠ¶æ€*ç®¡ç†å™¨ï¼Œä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸€ä¸ªçº¯ [*æ¥æ”¶è§‚å¯Ÿå™¨*](https://www.journaldev.com/22594/rxjava-observables-observers) è€Œä¸æ˜¯*ç»„ä»¶*æ¥*è®¢é˜…*ã€‚*

## *å…¨çƒå›½å®¶*

*[å…¨å±€çŠ¶æ€](https://redux.js.org/introduction/core-concepts)æŒæœ‰æ•´ä¸ª app çš„æ•´ä½“*çŠ¶æ€*ã€‚
è¿™æ„å‘³ç€å®ƒåº”è¯¥èƒ½å¤Ÿå®¹çº³**ä»»ä½•**ç±»å‹çš„*ç‰©ä½“*ï¼Œå¦åˆ™æˆ‘ä»¬ä¼šå—åˆ°å¾ˆå¤§çš„é™åˆ¶ã€‚éš¾æ€ªï¼Œå®ƒåªæ˜¯ä¸€ä¸ª`HashMap`:)*

*Reactdroid çš„å…¨å±€çŠ¶æ€ã€‚*

*`map`å°†ä¸€ä¸ª`String`é”®æ˜ å°„åˆ°`Any?` *å¯¹è±¡*(å¯ç©º)å€¼ã€‚
æ­¤å¤–ï¼Œæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œåº•å±‚çš„`map`æ˜¯`[internal](https://www.journaldev.com/20235/kotlin-visibility-modifiers-public-protected-internal-private#internal-modifier)`â€”â€”æˆ‘ä»¬å°†ä½¿ç”¨â€˜gettersâ€™æ¥è½»æ¾åœ°ä»ä¸­æ£€ç´¢å€¼â€”â€”å› ä¸ºè¿™ä¸ª`map`å°†ä¼šå¾ˆå¤§ï¼Œæœ‰å¾ˆå¤šå±‚æ¬¡ç»“æ„ã€‚*

*è™½ç„¶è¿™ä¸ª`map`çš„é”®æ˜¯åŸå§‹çš„`String`ï¼Œä½†æ˜¯ä»*å…¨å±€çŠ¶æ€*ä¸­æ›´æ–°å’Œæ£€ç´¢éœ€è¦*å­˜å‚¨é”®*ã€‚*

## *å…¨å±€çŠ¶æ€çš„å­˜å‚¨å¯†é’¥*

**StoreKey* åŸºæœ¬ä¸Šåªæ˜¯ä¸€ä¸ª*è¿”å›*ä¸€ä¸ª`String`çš„ [*åŠŸèƒ½æ¥å£*](https://www.javatpoint.com/java-8-functional-interfaces) ã€‚
é‚£ä¸ª`String`æ˜¯æŒ‡*å…¨å±€çŠ¶æ€*çš„`map`é”®ã€‚
å®é™…ä¸­çš„é”®å°†æ˜¯*æšä¸¾*(æˆ–è€…å¯èƒ½æ˜¯ *Kotlin* çš„ [*å¯†å°ç±»*](https://kotlinlang.org/docs/sealed-classes.html) )ï¼Œå®ƒå°†å®ç°è¿™ä¸ª*æ¥å£*:*

*ç”¨äºå°†å€¼æ£€ç´¢/åˆ†æ´¾åˆ°å­˜å‚¨åŒºçš„ StoreKeyã€‚ç®€åŒ–ã€‚*

*ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨*å¼¦*ï¼Ÿå—¯ï¼Œéšç€æˆ‘ä»¬çš„æ·±å…¥ï¼Œè¿™å°†å˜å¾—æ›´åŠ æ¸…æ¥šï¼Œä½†æ˜¯ï¼Œä¾‹å¦‚ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ª *StoreKey* ç»‘å®šåˆ°ä¸€ä¸ªç‰¹å®šçš„ *Reducer* å¹¶å‘å…¶æ·»åŠ â€œgetters â€,ä»¥æ–¹ä¾¿åœ°ä»*å­˜å‚¨*ä¸­æ£€ç´¢å…¶å„è‡ªçš„å€¼ã€‚*

> *æ³¨æ„:è¿™å°±æ˜¯æˆ‘ä»¬ä¸*JavaScript**Redux*çš„ä¸åŒä¹‹å¤„ï¼Œåè€…éœ€è¦åŸå§‹å­—ç¬¦ä¸²ä½œä¸º*é”®ã€‚**

## *æ¸ç¼©ç®¡*

*è¿™éƒ¨åˆ†ä¸å¤ªç›´è§‚ã€‚å’Œæˆ‘åœ¨ä¸€èµ·ğŸ¤“ã€‚
*å­˜å‚¨*åŒæ—¶ä¿å­˜*å…¨å±€çŠ¶æ€*å’Œ*å‡é€Ÿå™¨* (s)ï¼Œç®€å•æ¥è¯´ï¼Œ*å‡é€Ÿå™¨* (s)å¸®åŠ©æ›´æ–°*å…¨å±€çŠ¶æ€*ã€‚å°±æ˜¯è¿™æ ·ã€‚*

*ç°åœ¨æˆ‘ä»¬å†·é™ä¸‹æ¥äº†ï¼Œæˆ‘ä»¬ä¹Ÿè¯´ä¸€ä¸‹ï¼Œæ¯ä¸ª*å‡é€Ÿå™¨*è´Ÿè´£æ›´æ–°è‡ªå·±çš„é‚£éƒ¨åˆ†è›‹ç³•ï¼›å¯¹ä¸èµ·ï¼Œ*å…¨å±€çŠ¶æ€*ã€‚
ä¾‹å¦‚ï¼Œæ¯ä¸ª*å‡é€Ÿå™¨*å¯èƒ½åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ã€‚æœ‰é“ç†ï¼Ÿ*

*[çŠ¶æ€æœº](https://www.techopedia.com/definition/16447/state-machine)æ˜¯è¿™æ ·çš„:*

*![](img/184a93a54b9472290ae16911f6db88e5.png)*

*å‚¨å­˜å¼‚å¾„ç®¡å•å‘æµåŠ¨*

*åœ¨æ¯ä¸ª*è°ƒåº¦*æ—¶ï¼Œæ¯ä¸ª*å‡é€Ÿå™¨*æ¥æ”¶ 3 ä¸ªå‚æ•°:
*å‰ä¸€çŠ¶æ€*ã€(*å­˜å‚¨* ) *é”®*å’Œ*å€¼ã€‚*åˆ©ç”¨å®ƒä»¬ï¼Œæ¯ä¸ª*å‡é€Ÿå™¨*äº§ç”Ÿä¸€ä¸ªæ–°çš„â€œå°â€*å…¨å±€çŠ¶æ€*â€”â€”ä»¥å–ä»£è›‹ç³•ä¸­ä¸å…¶ç›¸å…³çš„éƒ¨åˆ†ï¼›ä¸å¥½æ„æ€ï¼Œ*å…¨å±€çŠ¶æ€*ã€‚
æœ€åï¼Œ*å•†åº—*å°†æ‰€æœ‰â€œå°â€éƒ¨åˆ†åˆå¹¶åˆ°â€œå¤§â€éƒ¨åˆ†*å…¨å±€çŠ¶æ€*ä¸­ï¼Œå¹¶é€šçŸ¥å…¶*è®¢æˆ·*ã€‚*

*è¯´å¤Ÿäº†ï¼Œè®©æˆ‘ä»¬æ¥åˆ¶é€ *å‡é€Ÿå™¨*:*

*Reactdroid å‡é€Ÿå™¨ã€‚ç®€åŒ–ã€‚*

*æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œ*æ„é€ å™¨*æ¥å—ä¸€ä¸ªã€å­ã€‘*å½’çº¦å™¨*çš„`List`â€”â€”è¿™å°±æ˜¯æˆ‘ä»¬å¦‚ä½•åˆ›å»º`mainReducer`çš„ï¼Œå®ƒè¢«*å­˜å‚¨*æ¥æ”¶åˆ°å®ƒçš„*æ„é€ å™¨*ã€‚*

*`onNewAction`å›è°ƒç”±*å•†åº—*åœ¨æ¯ä¸ª*æ´¾å•*ä¸Šè°ƒç”¨ï¼Œè¯·æ±‚æ–°çš„*å…¨çƒçŠ¶æ€*é›¶ä»¶ã€‚*

*æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™â€”â€”å…¨å±€*çŠ¶æ€*çš„*ç¼©å‡å™¨*çš„â€œå°â€éƒ¨åˆ†å’Œ*å­˜å‚¨*çš„â€œå¤§â€éƒ¨åˆ†ï¼Œåˆå¹¶çš„å…¨å±€*çŠ¶æ€*ï¼Œå…·æœ‰ç›¸åŒçš„ç±»å‹â€”â€”`GlobalState`ã€‚
ç”±äº*å…¨å±€çŠ¶æ€*åŸºæœ¬ä¸Šåªæ˜¯ä¸€ä¸ª`HashMap`ï¼Œå› æ­¤æˆ‘ä»¬æœ‰ä¸€ä¸ªå¤§çš„*æ•£åˆ—è¡¨*æ¥ä¿å­˜å¤šä¸ªè¾ƒå°çš„*æ•£åˆ—è¡¨*â€”â€”æ¯ä¸ª*ç¼©å‡å™¨*ä¸€ä¸ªæ•£åˆ—è¡¨ã€‚åƒè¿™æ ·:*

*â€œåŸå§‹â€åº”ç”¨ç¨‹åºå…¨å±€çŠ¶æ€çš„ç¤ºä¾‹*

*æœ€åï¼Œ`getDefaultState()`æ–¹æ³•ä¸»è¦ç”¨äº app å¯åŠ¨ï¼Œæ­¤æ—¶*å•†åº—*å°†ä»æ‰€æœ‰å‡é€Ÿå™¨çš„é»˜è®¤*çŠ¶æ€*ä¸­åˆ›å»ºå…¶åˆå§‹*å…¨å±€çŠ¶æ€*ã€‚
ä¾‹å¦‚ï¼Œä¸€ä¸ª*ç¼©å‡å™¨*å¯èƒ½æ˜¯ä¸€ä¸ª*æ•°æ®ç¼©å‡å™¨*ï¼Œå®ƒè¿”å›æ‰€æœ‰çš„æ•°æ®åº“æ•°æ®ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨åº”ç”¨å¯åŠ¨æ—¶å°†æ•°æ®åº“åŠ è½½åˆ°*å­˜å‚¨*çš„æ–¹å¼:)*

*ç»¼ä¸Šæ‰€è¿°:*å‡é€Ÿå™¨*çš„`onNewAction`å°±æ˜¯å®ƒå¦‚ä½•æ§åˆ¶æ•´ä½“*å…¨å±€çŠ¶æ€*çš„ä¸€ä¸ªç‰¹å®šçš„ã€è¾ƒå°çš„éƒ¨åˆ†ã€‚
å’Œ*åº—*ä¸€æ ·ï¼Œå°†*æ‰©å±•*ä¸º [*Kotlin*](https://www.baeldung.com/kotlin/objects) `[object](https://www.baeldung.com/kotlin/objects)`(å•èƒèƒ)ã€‚*

# *æ€»ç»“æµç¨‹*

*åœ¨æˆ‘ä»¬ç”¨ä¸€ä¸ª*è¿æ¥ç»„ä»¶*çš„ä¾‹å­ç»“æŸæœ¬æ–‡ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å†çœ‹ä¸€ä¸‹æµç¨‹å›¾ï¼Œæ€»ç»“ä¸€ä¸‹æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»ç†è§£äº†æ‰€æœ‰çš„éƒ¨åˆ†:*

*![](img/32ac1959bd944e17ce43d75d8dafc795.png)*

*Reactdroid çš„å­˜å‚¨è°ƒåº¦æµç¨‹(å•å‘)*

1.  *ä¸€ä¸ª*ç»„ä»¶*(ä¾‹å¦‚)*è°ƒåº¦*ä¸€ä¸ª*åŠ¨ä½œ* ( *StoreKey* ï¼Œ *value* )ã€‚*
2.  **å­˜å‚¨*åœ¨å…¶æ‰€æœ‰*å‡é€Ÿå™¨*ä¸Šæ‰§è¡Œ`onNewAction`ï¼Œå¹¶æ¥æ”¶ä¸€ä¸ªâ€œå°â€*å…¨å±€çŠ¶æ€*åˆ—è¡¨ã€‚*
3.  **å•†åº—*å°†æ‰€æœ‰â€œå°â€éƒ¨åˆ†åˆå¹¶æˆ 1 ä¸ªâ€œå¤§â€*å…¨å±€çŠ¶æ€*å¹¶æ›´æ–°å…¶
    `var state: GlobalState`*
4.  **å•†åº—*é€šçŸ¥æ‰€æœ‰*ç”¨æˆ·*æ–°çš„*çŠ¶æ€*ï¼Œä¾‹å¦‚*ç»„ä»¶*ã€‚*

*æˆ‘ä»¬å®Œäº†ğŸ’ªã€‚è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä»¥ä¾¿é€è§†:*

*Reactroid çš„ Redux å®ç°æ¦‚è¿°ã€‚ç®€åŒ–ã€‚*

*è¿™ä¸ªï¼Œå°±åœ¨é‚£é‡ŒğŸ‘†ï¼Œæ˜¯ *Redux* ï¼Œåœ¨ *Kotlin* ğŸ¤˜*ğŸ¤“ ğŸ¤˜*ã€‚***

# *æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªè¿æ¥ç»„ä»¶*

*è¿˜è®°å¾—ä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„ [*æŒ‰é’®ç»„ä»¶*å—ï¼Ÿå®ƒçš„*æ–‡æœ¬*å—å®ƒçš„(*ç»„ä»¶*)çˆ¶æ§ä»¶æ§åˆ¶ã€‚è®©æˆ‘ä»¬æ”¹ä¸º*å°†*è¿æ¥åˆ°*å•†åº—*:](/@gguymi/587726a5045f#e3bd)*

*ä¸å­˜å‚¨åŒºè¿æ¥çš„ button ç»„ä»¶*

*æˆ‘ä»¬çš„*æŒ‰é’®*çš„*æ–‡æœ¬*ç°åœ¨æ˜¯*è¿æ¥*åˆ°*å­˜å‚¨*è€Œä¸æ˜¯ç”±å®ƒçš„çˆ¶èŠ‚ç‚¹æ§åˆ¶ã€‚åœ¨ä¸€ä¸ªå®é™…çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥å°†**è®¸å¤š** *ç»„ä»¶*è¿æ¥åˆ°*å•†åº—*ä¸­çš„åŒä¸€ä¸ª*å€¼* (s)ï¼Œæ‰€ä»¥å½“å®ƒè¢«æ›´æ–°æ—¶ï¼Œ**æ‰€æœ‰çš„**éƒ½è¢«è‡ªåŠ¨åœ°é‡æ–°*æ¸²æŸ“*ã€‚æ²¡æœ‰éº»çƒ¦ã€‚
æ­¤å¤–ï¼Œä¸ [*å‰ä¸€ä¸ª*](/@gguymi/587726a5045f#e3bd) ç›¸åï¼Œè¿™ä¸ªä¾‹å­ä¸­çš„çˆ¶èŠ‚ç‚¹ä¸ä¼šåœ¨æŒ‰é’®ç‚¹å‡»æ—¶é‡æ–°*å‘ˆç°*ï¼Œå› ä¸ºå®ƒæ›´æ–°çš„æ˜¯*å­˜å‚¨*è€Œä¸æ˜¯å®ƒçš„*own state*â€”â€”è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ã€‚*

*æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®º*è¿æ¥*æ–¹æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„â€¦*

> *æ³¨æ„: *Reactdroid* çš„ *mapStateToProps* æ˜¯ä¸¤ä¸ª[â€˜realâ€™*Redux Connect*](https://redux.js.org/)æ–¹æ³•çš„åˆå¹¶:[*mapStateToProps*+*merge props*](https://react-redux.js.org/api/connect)ã€‚*

# *æ‘˜è¦*

*æˆ‘ä»¬ç°åœ¨(å‡ ä¹)çŸ¥é“å¦‚ä½•ä¸º *Kotlin* åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ *Redux* å®ç°ï¼æ­£å¦‚ä½ å¯èƒ½ç†è§£çš„é‚£æ ·ï¼Œäº‹æƒ…è¿œä¸æ­¢å¦‚æ­¤ã€‚æ¥ä¸‹æ¥çš„æ–‡ç« å°†æ›´æ·±å…¥ï¼Œè¿›å…¥*è¿æ¥çš„* [HOC](https://reactjs.org/docs/higher-order-components.html) å’Œ [RxKotlin](https://github.com/ReactiveX/RxKotlin) å®ç°çš„*å•†åº—*ã€‚æˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·å…´å¥‹:)
åœ¨é‚£é‡Œè§(å³å°†åˆ°æ¥ï¼)*