<html>
<head>
<title>N-Queen Problem with backtracking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å›æº¯çš„nçš‡åé—®é¢˜</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/n-queen-problem-with-backtracking-1f2eb0b331d9?source=collection_archive---------5-----------------------#2021-07-24">https://medium.com/nerd-for-tech/n-queen-problem-with-backtracking-1f2eb0b331d9?source=collection_archive---------5-----------------------#2021-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="faf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">N-Queené—®é¢˜åƒå¤§å¤šæ•°bitchiné—®é¢˜ä¸€æ ·ä¼¤è„‘ï¼Œä½†æ˜¯ä¸€æ—¦è§£å†³äº†â€¦</p><p id="4a50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ˜¯çš„ï¼Œä½ ä»ç„¶ä¼šæ„Ÿåˆ°ç—›è‹¦ï¼Œå› ä¸ºç”Ÿæ´»æ¯«æ— æ„ä¹‰ï¼Œä½ æ‰€åšçš„ä¸€åˆ‡éƒ½æ— å…³ç´§è¦ã€‚</p><p id="78d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸ç®¡æ€æ ·ï¼Œè®©æˆ‘ä»¬ç»§ç»­è§£å†³è¿™ä¸ªé—®é¢˜å§ã€‚</p><p id="67d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Nçš‡åè¦æ±‚æˆ‘ä»¬åœ¨Nè¾¹çš„æ£‹ç›˜ä¸Šæ’åˆ—Nä¸ªçš‡åï¼Œæˆ‘ç”¨ä¸€ä¸ª4x4æ¥ç†è§£ï¼Œä½†æ˜¯å†™å‡ºn= 8çš„ä»£ç ã€‚ä½ å¯ä»¥æ‰©å±•ä»£ç åˆ°ä½ æƒ³è¦çš„ç¨‹åº¦ï¼Œä½†æ˜¯å› ä¸ºæˆ‘ä»¬è¦ä½¿ç”¨å›æº¯ï¼Œä½ ä¸å¸Œæœ›è¾¹å¤ªå¤šã€‚</p><p id="641f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å› æ­¤ï¼Œè¦åœ¨4x4æ£‹ç›˜ä¸Šæ’åˆ—4ä¸ªçš‡åï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥å°†ç¬¬ä¸€ä¸ªçš‡åæ”¾åœ¨å·¦ä¸Šè§’ã€‚æ‰€ä»¥ä¸‹ä¸€ä¸ªå¥³ç‹ä¼šåœ¨ç¬¬ä¸‰åˆ—ç¬¬äºŒæ’ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬ä¸èƒ½æŠŠçš‡åæ”¾åœ¨ç¬¬ä¸‰æ’ã€‚æ‰€ä»¥è¿™ä¸ªä¸è¡Œã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/ecce3891b9a6e36a6b78bfad8c013a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*m6nEEi9OgZwBzqT5bruMbA.png"/></div></figure><p id="d4fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªçš‡åæ”¾åœ¨ç¬¬ä¸€è¡Œçš„ç¬¬äºŒåˆ—ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¬¬2è¡Œçš‡åæ”¾åœ¨ç¬¬4åˆ—ï¼Œç¬¬3è¡Œæ”¾åœ¨ç¬¬1åˆ—ï¼Œç¬¬4è¡Œæ”¾åœ¨ç¬¬3åˆ—ã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/86bc5ed96caa7597d215cc102b2de075.png" data-original-src="https://miro.medium.com/v2/resize:fit:618/format:webp/1*vYy2FZvpjQCq6h8EFglgZw.png"/></div></figure><p id="96dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è€¶ï¼Œæˆ‘ä»¬æœ‰äº†ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚(æ˜¯çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨çš„æ­£æ–¹å½¢åšä¸€ä¸ªçº³ç²¹å…šæ‰€ç”¨çš„åå­—è®°å·çš„å½¢çŠ¶ï¼Œè¿™å¾ˆè®½åˆºï¼Œå› ä¸ºâ€¦â€¦ä½ çŸ¥é“ï¼Œå› ä¸º..ä½ æ‡‚çš„)ã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒä¿å­˜ä¸º[2ï¼Œ4ï¼Œ1ï¼Œ3]</p><p id="6f47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ€é…·çš„æ˜¯ï¼Œè¿™ç§å®‰æ’çš„é•œåƒä¹Ÿç»™äº†æˆ‘ä»¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥â€¦</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jm"><img src="../Images/840f4f266c8c9861635528f6ea78d43a.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*UZC8duxwqkIeaB-dWQhdWQ.png"/></div></figure><p id="72ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¹Ÿæ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ(å†æ¬¡ä¸è¯¥æ­»çš„çº³ç²¹å…šå¾½..æŠ±æ­‰ä¼™è®¡ä»¬)ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè§£ä¿å­˜ä¸º[3ï¼Œ1ï¼Œ4ï¼Œ2]</p><p id="2f9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœå°†çš‡åæ”¾åœ¨ç¬¬äºŒè¡Œçš„ç¬¬äºŒåˆ—ï¼Œå°†çš‡åæ”¾åœ¨ç¬¬å››åˆ—ä¸ä¼šç»™å‡ºè§£å†³æ–¹æ¡ˆ(å› ä¸ºè¿™æ˜¯æˆ‘ä»¬å°è¯•çš„ç¬¬ä¸€ç§æƒ…å†µçš„é•œåƒ)ï¼Œä½†æ˜¯è®©æˆ‘ä»¬çœ‹çœ‹å¦‚æœå°†çš‡åæ”¾åœ¨ç¬¬äºŒè¡Œç¬¬ä¸€åˆ—ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jn"><img src="../Images/904aa22df153fb700496c64ba17b92f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*KTpUYJniyP7f-GZZjeca0A.png"/></div></figure><p id="7fca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ²¡æœ‰ã€‚ä¹Ÿå°±æ˜¯è¯´å®ƒçš„é•œåƒä¹Ÿä¸èµ·ä½œç”¨ã€‚çœŸæ‰«å…´ã€‚</p><p id="8627" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å› æ­¤ï¼Œå¯¹äºè¿™ä¸ª4x4çš‡åé—®é¢˜ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆâ€” [3ï¼Œ1ï¼Œ4ï¼Œ2]å’Œ[2ï¼Œ4ï¼Œ1ï¼Œ3]ã€‚æ˜¾ç„¶ï¼Œè§£å†³æ–¹æ¡ˆä¸ä¼šè¿™æ ·ä¿å­˜ã€‚åªæ˜¯åœ¨æ‰§è¡Œå‰å·©å›ºçŸ¥è¯†ã€‚æˆ‘ä»¬ä¸æ˜¯åœ¨è¿™é‡Œå†™ç ”ç©¶è®ºæ–‡ã€‚</p><p id="d987" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¥½å§ï¼Œè¿™ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œä½†è®¡ç®—æœºæœ‰å¤ªå¤šé‡è¦çš„äº‹æƒ…è¦è€ƒè™‘ï¼Œè€Œä¸æ˜¯åšè¿™ç§ç¼“æ…¢çš„å·¥ä½œï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç”¨Javaç¼–å†™ä»£ç ã€‚</p><p id="8ce9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å¯åŠ¨æˆ‘ä»¬çš„æ£‹ç›˜</p><pre class="je jf jg jh fd jo jp jq jr aw js bi"><span id="9952" class="jt ju hi jp b fi jv jw l jx jy">int[][] board = new int [N][N];<br/>for ( int i = 0; i &lt; N; i++)<br/> {<br/>    for ( int j = 0; j &lt; N; j++)<br/>    {<br/>       board[i][j] = 0;<br/>    }<br/> }</span></pre><p id="f9f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®ç”¨ç¨‹åºæ¥è§£å†³nçš‡åé—®é¢˜ã€‚</p><pre class="je jf jg jh fd jo jp jq jr aw js bi"><span id="b3ee" class="jt ju hi jp b fi jv jw l jx jy">private boolean solveUtil(int[][] board, int column)<br/> {<br/> // if all queens placed then true<br/>    if (column &gt;= N)<br/>    {<br/>       return true;<br/>    }<br/> <br/> // iterate through the rows<br/>    for ( int row = 0; row &lt; N; row++ )<br/>    {<br/>       if (safe(board, row, column))<br/>       {</span><span id="0f79" class="jt ju hi jp b fi jz jw l jx jy"> // if queen is safe to be placed in a column, place it there<br/>          board[row][column] = 1;<br/> <br/> // recur to place the rest of the queens<br/>          if (solveUtil(board, column + 1))<br/>          {<br/>             return true;<br/>          }</span><span id="e1c9" class="jt ju hi jp b fi jz jw l jx jy"> // if no queen can be placed at the next column, backtrack<br/>          board[row][column] = 0;<br/>       }<br/>    }<br/> <br/> // if queen canâ€™t be placed anywhere<br/>    return false;<br/> }</span></pre><p id="b63b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥å“ªäº›æ–¹å—å®é™…ä¸Šæ²¡æœ‰å—åˆ°å¥³ç‹çš„å½±å“</p><pre class="je jf jg jh fd jo jp jq jr aw js bi"><span id="9733" class="jt ju hi jp b fi jv jw l jx jy">private boolean safe(int[][] board, int row, int column)<br/> {<br/>    int i, j;<br/> <br/> // if thereâ€™s a queen already placed on the row<br/>    for (i = 0; i &lt; column; i++)<br/>    {<br/>       if (board[row][i] == 1)<br/>       {<br/>          return false;<br/>       }<br/>    }<br/> <br/> // if thereâ€™s a queen already placed on the column<br/>    for (i = 0; i &lt; row; i++)<br/>    {<br/>       if (board[i][column] == 1)<br/>       {<br/>          return false;<br/>       }<br/>    }<br/> <br/> // if thereâ€™s a queen on the upper left diagonal<br/>    for (i = row, j = column; i &gt;= 0 &amp;&amp; j &gt;= 0; i â€” , j â€” )<br/>    {<br/>       if (board[i][j] == 1)<br/>       {<br/>          return false;<br/>       }<br/>    }<br/> <br/> // if thereâ€™s a queen on the upper right diagonal<br/>    for (i = row, j = column; i &gt;= 0 &amp;&amp; j &lt; N; i â€” , j++)<br/>    {<br/>       if (board[i][j] == 1)<br/>       {<br/>          return false;<br/>       }<br/>    }<br/> <br/> // if thereâ€™s a queen on the lower left diagonal<br/>    for (i = row, j = column; i &lt; N &amp;&amp; j &gt;= 0; i++, j â€” )<br/>    {<br/>       if (board[i][j] == 1) <br/>       {<br/>          return false;<br/>       }<br/>    }<br/> <br/> // if thereâ€™s a queen on the lower right diagonal<br/>    for (i = row, j = column; i &lt; N &amp;&amp; j &lt; N; i++, j++)<br/>    {<br/>       if (board[i][j] == 1)<br/>       {<br/>          return false;<br/>       }<br/>    } </span><span id="6e4d" class="jt ju hi jp b fi jz jw l jx jy">// for all the other squares<br/>    return true;<br/> }</span></pre><p id="585d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ€åï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰ä¸œè¥¿æ”¾åœ¨ä¸€èµ·:</p><pre class="je jf jg jh fd jo jp jq jr aw js bi"><span id="601a" class="jt ju hi jp b fi jv jw l jx jy">public class NQueen<br/>{<br/>    public static void main(String[] args)<br/>    {<br/>        Queen q1 = new Queen();<br/>        q1.solve();<br/>    }<br/><br/>    public static class Queen<br/>    {<br/>        private final int N = 16;<br/><br/>        public boolean solve()<br/>        {<br/>            // initiate board<br/>            int[][] board = new int [N][N];<br/>            for ( int i = 0; i &lt; N; i++)<br/>            {<br/>                for ( int j = 0; j &lt; N; j++)<br/>                {<br/>                    board[i][j] = 0;<br/>                }<br/>            }<br/><br/>            if (!solveUtil(board, 0))<br/>            {<br/>                System.<em class="ka">out</em>.println("Solution doesn't exist");<br/>                return false;<br/>            }<br/>            else<br/>            {<br/>                printBoard(board);<br/>                return true;<br/>            }<br/>        }<br/><br/>        private void printBoard(int[][] boardToPrint)<br/>        {<br/>            for (int i = 0; i &lt; N; i++)<br/>            {<br/>                for (int j = 0; j &lt; N; j++)<br/>                {<br/>                    System.<em class="ka">out</em>.printf(" " + boardToPrint[i][j] + " ");<br/>                }<br/>                System.<em class="ka">out</em>.println();<br/>            }<br/>        }<br/><br/>        private boolean solveUtil(int[][] board, int column)<br/>        {<br/>            // if all queens placed then true<br/>            if (column &gt;= N)<br/>            {<br/>                return true;<br/>            }<br/><br/>            // iterate through the rows<br/>            for ( int row = 0; row &lt; N; row++ )<br/>            {<br/>                if (safe(board, row, column))<br/>                {<br/>                    // if queen is safe to be placed in a column, place it there<br/>                    board[row][column] = 1;<br/><br/>                    // recur to place the rest of the queens<br/>                    if (solveUtil(board, column + 1))<br/>                    {<br/>                        return true;<br/>                    }<br/>                    // if no queen can be placed at the next column, backtrack<br/>                    board[row][column] = 0;<br/>                }<br/>            }<br/><br/>            // if queen can't be placed anywhere<br/>            return false;<br/>        }<br/><br/>        private boolean safe(int[][] board, int row, int column)<br/>        {<br/>            int i, j;<br/><br/>            // if there's a queen already placed on the row<br/>            for (i = 0; i &lt; column; i++)<br/>            {<br/>                if (board[row][i] == 1)<br/>                {<br/>                    return false;<br/>                }<br/>            }<br/><br/>            // if there's a queen already placed on the column<br/>            for (i = 0; i &lt; row; i++)<br/>            {<br/>                if (board[i][column] == 1)<br/>                {<br/>                    return false;<br/>                }<br/>            }<br/><br/>            // if there's a queen on the upper left diagonal<br/>            for (i = row, j = column; i &gt;= 0 &amp;&amp; j &gt;= 0; i--, j--)<br/>            {<br/>                if (board[i][j] == 1)<br/>                {<br/>                    return false;<br/>                }<br/>            }<br/><br/>            // if there's a queen on the upper right diagonal<br/>            for (i = row, j = column; i &gt;= 0 &amp;&amp; j &lt; N; i--, j++)<br/>            {<br/>                if (board[i][j] == 1)<br/>                {<br/>                    return false;<br/>                }<br/>            }<br/><br/>            // if there's a queen on the lower left diagonal<br/>            for (i = row, j = column; i &lt; N &amp;&amp; j &gt;= 0; i++, j--)<br/>            {<br/>                if (board[i][j] == 1) {<br/>                    return false;<br/>                }<br/>            }<br/><br/>            // if there's a queen on the lower right diagonal<br/>            for (i = row, j = column; i &lt; N &amp;&amp; j &lt; N; i++, j++)<br/>            {<br/>                if (board[i][j] == 1)<br/>                {<br/>                    return false;<br/>                }<br/>            }<br/><br/>            return true;<br/>        }<br/>    }<br/>}</span></pre><p id="611e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™äº›é—®é¢˜å¯èƒ½çœ‹èµ·æ¥æ˜¯å¤šä½™çš„ï¼Œå®ƒä»¬å¾ˆå¯èƒ½æ˜¯å¤šä½™çš„ï¼Œä½†æ˜¯è§£å†³èµ·æ¥å¾ˆæœ‰è¶£ï¼Œæ‰€ä»¥è°åœ¨ä¹å‘¢ğŸ¤·ã€‚ç›´åˆ°ä¸‹æ¬¡ğŸ¤˜ğŸ™</p></div></div>    
</body>
</html>