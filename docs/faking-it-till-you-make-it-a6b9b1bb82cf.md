# å¦‚ä½•åœ¨ Laravel ä¸­ä½¿ç”¨æ¨¡å‹å·¥å‚å’Œæ•°æ®åº“ Seeders

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/faking-it-till-you-make-it-a6b9b1bb82cf?source=collection_archive---------3----------------------->

![](img/d2f17471273c200fb355935d9c0b8e29.png)

åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†äº†è§£åˆ°:

*   ä»€ä¹ˆæ˜¯æ•°æ®åº“ç§å­
*   ä¸ºä»€ä¹ˆä½¿ç”¨æ•°æ®åº“ç§å­
*   å¦‚ä½•ä½¿ç”¨æ•°æ®åº“ç§å­

> å¦‚æœä½ æ­£åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œå‡è®¾ä½ çŸ¥é“åŸºæœ¬çš„ PHPã€‚è¿™å¾ˆå¯èƒ½æ˜¯æ‚¨çš„ç¬¬ä¸€ç¯‡ Laravel æ–‡ç« ï¼Œä½†æ˜¯ PHP çŸ¥è¯†ä¼šéå¸¸æœ‰ç”¨ã€‚

# å…¥é—¨æŒ‡å—

å¤§å¤šæ•°æ—¶å€™ï¼Œå½“æˆ‘ä»¬å¿…é¡»ç”¨è™šæ‹Ÿæ•°æ®å¼€å‘åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬è‡ªå·±é”®å…¥å®ƒä»¬æˆ–è€…ä½¿ç”¨ [Postman](https://www.postman.com/) to [POST](https://zubairidrisaweda.medium.com/routing-in-laravel-8-e8e373413b8f#7aa5) åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ã€‚è¿™ä¸ªæœ‰ç”¨ï¼Œä½†æ˜¯å¾ˆçƒ‚ã€‚ğŸ˜¢

å…¶ä»–æ—¶å€™ï¼Œåœ¨å®Œæˆæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåï¼Œæˆ‘ä»¬éœ€è¦å®ƒä»¬æœ‰ä¸€äº›æ•°æ®ä½œä¸ºå¼€å§‹ã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥è¾“å…¥è¿™äº›ï¼Œæˆ–è€…å†æ¬¡ä½¿ç”¨ Postmanã€‚å®ƒæœ‰æ•ˆï¼Œä½†ä»ç„¶å¾ˆç³Ÿç³•ã€‚ğŸ˜¢ ğŸ˜©

[Laravel](https://laravel.com/)â€”â€”ä¸“ä¸ºå¼€å‘äººå‘˜æ‰“é€ â€”â€”æä¾›æµ‹è¯•åº”ç”¨ç¨‹åºæˆ–å¯åŠ¨åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ•°æ®ã€‚Laravel ä¸ºæ‚¨æä¾›äº†æ•°æ®åº“ç§å­ï¼Œè¿™æ˜¯åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­è½»æ¾è·å–æ•°æ®çš„æ–¹æ³•ã€‚è¿™å¯èƒ½æ˜¯ä¸€äº›çœŸå®çš„æ•°æ®ï¼Œä½ ä¸æƒ³å¼ºè°ƒè‡ªå·±è¾“å…¥ï¼Œæˆ–è€…åªæ˜¯å‡æ•°æ®ï¼Œä»¥æµ‹è¯•ä½ çš„ APIã€‚

åœ¨æ·±å…¥ç ”ç©¶å¦‚ä½•ä½¿ç”¨ä¹‹å‰ï¼Œè¿™é‡Œæœ‰ä¸€äº›æ‚¨æƒ³è¦ä½¿ç”¨æ•°æ®åº“ç§å­çš„åŸå› :

*   Seeders éå¸¸å®¹æ˜“ä½¿ç”¨ï¼Œæ¯”ä½ è‡ªå·±è¾“å…¥æ•°æ®è¦å®¹æ˜“å¾—å¤š
*   Seeders è®©æ‚¨ä¸è´¹å¹ç°ä¹‹åŠ›å°±å¯ä»¥å¯åŠ¨å¹¶è¿è¡Œï¼Œåªéœ€å¯¹æ•°æ®åº“è¿›è¡Œä¸€æ¬¡æ’­ç§ï¼Œå°±å¯ä»¥åˆ›å»ºæ•°ç™¾è¡Œæ•°æ®
*   seeder å¯ä»¥åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šé‡ç”¨ï¼Œè¿™æ„å‘³ç€éƒ¨ç½²åˆ°ä¸€ä¸ªæ–°çš„æœåŠ¡å™¨åªæ„å‘³ç€å†æ¬¡è¿è¡Œ seeder å¹¶å†æ¬¡è·å–æ•°æ®åº“ä¸­çš„æ•°æ®

ä½¿ç”¨æ’­ç§æœºè¿˜æœ‰å¾ˆå¤šåŸå› ï¼Œä½†è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨å®ƒä»¬å§ã€‚ğŸ˜†

# è®©æˆ‘ä»¬å¼€å§‹å§

åƒè¿™æ ·è½»æ¾åœ°åˆ›å»ºä¸€ä¸ªæ–°çš„ Laravel é¡¹ç›®:

![](img/ecea9bd29e8997672a8d09f11fbbd65b.png)

# è®¾ç½®æ‚¨çš„æ•°æ®åº“

åˆ›å»ºåº”ç”¨ç¨‹åºåï¼Œæˆ‘ä»¬ç»§ç»­è®¾ç½®è¦ä½¿ç”¨çš„æ•°æ®åº“ã€‚æ‚¨åº”è¯¥åˆ›å»ºä¸€ä¸ª MySQL æ•°æ®åº“(æˆ–è€…æ‚¨å–œæ¬¢çš„ä»»ä½•å…¶ä»–æ•°æ®åº“)å¹¶æ›´æ–°*ã€‚env* æ–‡ä»¶æ¥åæ˜ è¿™ä¸ªå˜åŒ–ã€‚

![](img/db7a07e0e2f397b855020d2e891c79d0.png)

è¿™é‡Œï¼Œæˆ‘çš„æ•°æ®åº“åä¸æˆ‘çš„é¡¹ç›®åç›¸åŒã€‚æ›´æ–°`DB_USERNAME`å’Œ`DB_PASSWORD`ä»¥åŒ¹é…æ‚¨çš„æ•°æ®åº“å‡­è¯ã€‚

ç°åœ¨ï¼Œæ•°æ®åº“å·²ç»å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„æ•°æ®åˆ¶ä½œè¡¨æ ¼*å’Œæ¨¡å‹*ã€‚

# åˆ¶ä½œæ¨¡å‹å’Œè¿ç§»

æˆ‘ä»¬åˆ¶ä½œäº†ä¸€ä¸ª`Post`æ¨¡å‹å’Œä¸€ä¸ªä¸ä¹‹é…å¥—çš„è¿ç§»ã€‚

![](img/e56740b5a544b52d994c5d04cc02a24a.png)

è¿è¡Œæ­¤å‘½ä»¤å°†åˆ›å»ºä¸¤ä¸ªæ–°æ–‡ä»¶ï¼Œä¸€ä¸ªæ¨¡å‹æ–‡ä»¶å’Œä¸€ä¸ªè¿ç§»æ–‡ä»¶ã€‚

åœ¨`Post.php`æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿™ä¸ªç±»ä½¿ç”¨äº†`HasFactory`ç‰¹å¾ã€‚è¿™æ„å‘³ç€æ•°æ®åˆ›å»ºå¯ä»¥æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨å·¥å‚æ¥æ¨¡æ‹Ÿ(ç¨åå°†è¯¦ç»†ä»‹ç»)ã€‚

è®©æˆ‘ä»¬ç¼–è¾‘è¿ç§»æ–‡ä»¶ï¼Œé€šå¸¸å‘½åä¸º*2021 _ 04 _ 12 _ 235242 _ create _ posts _ table*ï¼Œä»¥å…·æœ‰*æ ‡é¢˜*ã€*æ­£æ–‡ã€*å’Œ*ä½œè€…*å­—æ®µã€‚

![](img/fe28da0a500aadf181a2c68c63ab415f.png)

æœ€åçš„æ•°æ®åº“è®¾ç½®æ˜¯è¿è¡Œè¿ç§»ï¼Œè¿™æ ·æˆ‘ä»¬çš„è¡¨å°±åˆ›å»ºå¥½äº†ï¼Œå¹¶å‡†å¤‡å¥½ä¿å­˜æˆ‘ä»¬çš„æ•°æ®ã€‚

![](img/4f645703925f8b2b16fa9933cc73f02a.png)

# åˆ›å»ºç§å­

å°±åƒæˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢æ‰€åšçš„å…¶ä»–äº‹æƒ…ä¸€æ ·ï¼Œåˆ›å»ºä¸€ä¸ªæ’­ç§å™¨ä¹Ÿä¸éš¾ã€‚

![](img/daabaa4cb6c94a1dcc4135e3e4e0da40.png)

è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¼šåœ¨æˆ‘ä»¬çš„`database`æ–‡ä»¶å¤¹çš„`seeders`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º:

![](img/66cf78c9e4e3973ec652bfd79142a387.png)

æˆ‘ä»¬çš„å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨ run æ–¹æ³•ä¸­ã€‚ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å¼•è¿›äº†`Post`æ¨¡å¼ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥åˆ›é€ ä¸€äº›èŒä½ã€‚

![](img/5e3553213bb8454f01ef608629b0f1ff.png)

ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€äº›å¸Œæœ›åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„æ•°æ®ã€‚é‚£ä¹ˆæˆ‘ä»¬å®é™…ä¸Šåœ¨å“ªé‡ŒæŠŠå®ƒæ·»åŠ åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ä¸­å‘¢ï¼Ÿ

æˆ‘ä»¬å‘Šè¯‰æˆ‘ä»¬çš„`DatabseSeeder`ä½¿ç”¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„`PostsTableSeeder`ã€‚

![](img/6a805f4e0b8f8ffaf9fe82a20439b45d.png)

> `DatabaseSeeder`æ–‡ä»¶ç”± Laravel è‡ªåŠ¨åˆ›å»ºã€‚

## ä½¿ç”¨æ¨¡å‹å·¥å‚

ç°åœ¨è®©æˆ‘ä»¬å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Laravel è·å¾—è™šæ‹Ÿæ•°æ®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå·¥å‚æ¥ç”Ÿæˆå‡æ•°æ®ã€‚

![](img/c1d70af8f905a1007e4534cd8667b203.png)

è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¼šåœ¨æˆ‘ä»¬çš„å·¥å‚æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª`PostFactory`æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ–‡ä»¶åº”è¯¥å’Œæˆ‘è¿™é‡Œçš„ä¸€æ ·ã€‚

æ­£æ˜¯åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†è¦åˆ›å»ºçš„æ•°æ®çš„ç»“æ„â€”â€”æˆ‘ä»¬è®¾ç½®äº†æˆ‘ä»¬æƒ³è¦çš„å­—æ®µã€‚

![](img/a70bdc4cfdb97fc4d9a63e4a2a35c0a7.png)

æ›´æ–°`PostFactory`çš„`definition`æ–¹æ³•ï¼Œåˆ›å»º*æ ‡é¢˜*ã€*æ­£æ–‡ã€*å’Œ*ä½œè€…*ç»“æœä¸º:

![](img/1d38ce3dd046f2e22492410c9586a466.png)

ä½¿ç”¨è¿™ä¸ªå·¥å‚éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åœ¨`PostsTableSeeder`æ–‡ä»¶ä¸­è°ƒç”¨æ¨¡å‹çš„å·¥å‚æ–¹æ³•ã€‚

![](img/1b541d3a973abdba810197a26ba95014.png)

å½“æ•°æ®åº“æœ€ç»ˆè¢«æ’­ç§æ—¶ï¼Œè¿™å°†åˆ›å»º 50 ä¸ªéšæœºçš„å¸–å­ã€‚

# è¿è¡Œæ’­ç§æœº

æˆ‘ä»¬ç¡®å®å†™äº†ç›¸å½“å¤šçš„ä»£ç ï¼Œä½†æˆ‘ä»¬ä»ç„¶æœ‰ä¸€ä¸ªç©ºçš„æ•°æ®åº“ã€‚å¥½äº†ï¼Œè¿™å³å°†æ”¹å˜ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥è¿è¡Œæˆ‘ä»¬çš„ seedersï¼Œå¹¶ç”¨æˆ‘ä»¬ä¸ Laravel ä¸€èµ·åˆ›å»ºçš„è¿™äº›å¸–å­å¡«å……æˆ‘ä»¬çš„æ•°æ®åº“ã€‚ğŸ˜„

![](img/6789564bfc37237865c9e5bf3554d674.png)

> è¿™ç¯‡æ–‡ç« çš„ä»£ç å¯ä»¥åœ¨[è¿™é‡Œ](https://github.com/Zubs/seedersArticle)æ‰¾åˆ°ã€‚

# ç»“æŸäº†

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–ç›¸å…³çš„å¥½å»ºè®®ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™ä¸‹ã€‚

è¦é˜…è¯»æ›´å¤šæˆ‘çš„æ–‡ç« æˆ–å…³æ³¨æˆ‘çš„ä½œå“ï¼Œæ‚¨å¯ä»¥åœ¨ [LinkedIn](https://www.linkedin.com/in/idris-aweda-zubair-5433121a3/) å’Œ [Twitter](https://twitter.com/AwedaIdris) ä¸Šä¸æˆ‘è”ç³»ã€‚åˆå¿«åˆç®€å•ï¼Œè¿˜å…è´¹ï¼

![](img/16afe11816a7b73933c941ef5109fc85.png)

è±ªä¼ŠÂ·R åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡