# Swift Leetcode ç³»åˆ—:è®¡ç®—ç´ æ•°

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/swift-leetcode-series-count-primes-f48b02e5351d?source=collection_archive---------21----------------------->

## å„æ‹‰å¤šå¡çš„ Swift +ç­›å­=ğŸ¤” ğŸ§ 

![](img/95c477f2b4e678fce2bb07b858741eeb.png)[](https://theswiftnerd.com/count-primes-leetcode/) [## è®¡ç®—è´¨æ•°-

### éš¾åº¦:é“¾æ¥:ç¬¬äºŒå¤©:LeetCode Challenge å¯ä»¥ç»Ÿè®¡å‡ºå°äºä¸€ä¸ªéè´Ÿæ•°çš„ç´ æ•°ä¸ªæ•°ï¼Œnâ€¦

theswiftnerd.com](https://theswiftnerd.com/count-primes-leetcode/) 

ä½ å¯ä»¥æŸ¥çœ‹ Swift Nerd åšå®¢ä¸Šçš„å®Œæ•´è§£é‡Šï¼Œä»¥åŠä¸Šé¢é“¾æ¥ä¸Šçš„å…¶ä»–é…·å¸–ã€‚

# é—®é¢˜æè¿°

è®¡ç®—å°äºéè´Ÿæ•°çš„ç´ æ•°çš„ä¸ªæ•°ï¼Œ`n`ã€‚

# ä¾‹å­

```
**Input:** n = 10
**Output:** 4
**Explanation:** There are 4 prime numbers less than 10, they are 2, 3, 5, 7.**Input:** n = 0
**Output:** 0**Input:** n = 1
**Output:** 0
```

# é™åˆ¶

*   `0 <= n <= 5 * 106`

# è§£å†³åŠæ³•

è¿™ä¸ªé—®é¢˜æ˜¯ä¸è¨€è€Œå–»çš„ï¼Œè§£å†³èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯ä¼˜åŒ–èµ·æ¥æœ‰ç‚¹æ£˜æ‰‹ã€‚è´¨æ•°æ˜¯åªèƒ½è¢« 1 å’Œå®ƒæœ¬èº«æ•´é™¤çš„æ•°ã€‚ä½ å¯ä»¥å¯¹ 0 åˆ° n ä¹‹é—´çš„æ•´æ•°è¿›è¡Œå¸ƒç‰¹åŠ›ç´ æ€§æ£€æŸ¥ï¼Œæ›´æ–°è®¡æ•°ã€‚ç„¶è€Œï¼Œå¤æ‚åº¦å°†æ˜¯ O(N2)çš„é˜¶ï¼Œå¹¶ä¸”å› ä¸º N è¢«ç»™å®šä¸º 106 çš„é˜¶ï¼Œæ‰€ä»¥ N2 å°†è¢« 1012 é™åˆ¶ï¼Œè¿™å°†è‚¯å®šå¯¼è‡´ **TLE** (æ—¶é™è¶…è¿‡è¯¯å·®)ã€‚

# å„æ‹‰å¤šå¡ç­›

è¿™æ˜¯ä¸€ä¸ªè®¡ç®—ä¸€å®šèŒƒå›´å†…çš„ç´ æ•°çš„å¤è€ç®—æ³•ï¼Œåœ¨ç«äº‰æ€§ç¼–ç¨‹ä¸­éå¸¸æµè¡Œ(é˜…è¯»å„æ‹‰å¤šå¡çš„[ç­›å­)ã€‚åœ¨è¿™ä¸ªç®—æ³•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¯èƒ½çš„æ•°å­—åˆ—è¡¨ï¼Œä»æœ€å°çš„å¯èƒ½æ•°å­—å¼€å§‹ï¼Œæˆ‘ä»¬ä¸¢å¼ƒè¯¥æ•°å­—èŒƒå›´å†…çš„æ‰€æœ‰å€æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚æˆ‘ä»¬å¯ä»¥ä»æœ€å°çš„è´¨æ•° 2 å¼€å§‹ï¼ŒæŠŠå®ƒçš„æ‰€æœ‰å€æ•°ä¸€ç›´æ ‡åˆ°â€œnâ€éƒ½æ ‡ä¸ºéè´¨æ•°ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯¹æ•°ç»„ä¸­æœªæ ‡è®°ä¸ºå¤åˆçš„ä¸‹ä¸€ä¸ªå¯ç”¨æ•°å­—é‡å¤ç›¸åŒçš„è¿‡ç¨‹ï¼Œä¾æ­¤ç±»æ¨ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥åˆ—å‡ºæ‰€æœ‰æ²¡æœ‰æ ‡è´¨æ•°çš„æ•°å­—ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„ç»“æœé›†ã€‚](https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes)

![](img/963fe6bb1b6bb5f84352ffd8ee9b8150.png)

ä¸ºäº†ç®€åŒ–æˆ‘ä»¬çš„é€»è¾‘ï¼Œæ¯å½“æˆ‘ä»¬æŠŠä¸€ä¸ªæŒ‡æ•°ä½œä¸ºéä¸»è¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä¿æŒä¸€ä¸ªéä¸»è¦å¸‚åœºæ•°å­—çš„è®¡æ•°å™¨ï¼Œå¹¶å¢åŠ å®ƒã€‚æœ€åˆ 1 è¢«æ ‡è®°ä¸ºéç´ æ•°ã€‚å› ä¸ºæˆ‘ä»¬åªæ£€æŸ¥åˆ° n-1

```
num_primes = n - 1 - no_non_primes
```

# å¤æ‚æ€§åˆ†æ

æ—¶é—´å¤æ‚åº¦ç”± loglogN é™å®šã€‚ç„¶è€Œï¼Œç”±äºå› å¼åˆ†è§£å®šç†ï¼Œå¤–éƒ¨å¾ªç¯è¿è¡Œ *âˆšn* ã€‚å› æ­¤æ€»å¤æ‚åº¦å˜æˆäº† *O(âˆšn* * Log(LogN))ã€‚æˆ‘ä»¬åªå­˜å‚¨ N + 1 ä¸ªå…ƒç´ æ¥ç”Ÿæˆéç´ æ•°ï¼Œå› æ­¤ç©ºé—´ä»¥ O(N)ä¸ºç•Œã€‚

**Time =*O(âˆšn** Log(LogN))**

**ç©ºæ ¼= O(N)**

å¤æ‚åº¦çš„è¯æ˜åœ¨è¿™é‡Œç»™å‡º[ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ leetcode è®ºå›ä¸ŠæŸ¥çœ‹](http://www.cs.umd.edu/~gasarch/BLOGPAPERS/sump.pdf)[è®¨è®º](https://leetcode.com/problems/count-primes/discuss/473021/Time-Complexity-O(log(log(n))-Explained)ã€‚

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¹¶å‘ç°å®ƒå¾ˆæœ‰ç”¨ï¼Œè¯·åˆ†äº«å¹¶åƒé‡ç«ä¸€æ ·ä¼ æ’­å®ƒï¼

ä½ å¯ä»¥åœ¨[swift ç½‘ç«™](https://theswiftnerd.com/)|[LinkedIn](https://www.linkedin.com/in/varunrathi28/)|[Github](https://github.com/varunrathi28)ä¸Šæ‰¾åˆ°æˆ‘