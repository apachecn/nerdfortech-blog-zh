<html>
<head>
<title>Using Next.js â–² with styled-components ğŸ’… easy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å°†Next.js â–²ç”¨äºæ ·å¼åŒ–ç»„ä»¶ğŸ’…å®¹æ˜“çš„</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/using-next-js-with-styled-components-easy-dfff3849e4f1?source=collection_archive---------0-----------------------#2021-07-27">https://medium.com/nerd-for-tech/using-next-js-with-styled-components-easy-dfff3849e4f1?source=collection_archive---------0-----------------------#2021-07-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7408" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">éœ€è¦æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„æ—¶å€™React appã€‚<a class="ae jd" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚å½“è°ˆåˆ°æ ·å¼reactç»„ä»¶æ—¶ï¼Œæˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯<a class="ae jd" href="https://www.styled-components.com/" rel="noopener ugc nofollow" target="_blank">æ ·å¼ç»„ä»¶</a>ã€‚è™½ç„¶è¿™å–å†³äºä½ çš„å–œå¥½ã€‚</p><p id="cdfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å‡è®¾æ‚¨æƒ³è¦å°†<a class="ae jd" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>ä¸<a class="ae jd" href="https://www.styled-components.com/" rel="noopener ugc nofollow" target="_blank">æ ·å¼åŒ–ç»„ä»¶</a>é…å¯¹ã€‚ä½†æ˜¯åœ¨Next.jsä¸­ä½¿ç”¨æ ·å¼åŒ–ç»„ä»¶å¹¶ä¸ç®€å•ã€‚è¿™æœ‰ç‚¹æ£˜æ‰‹ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å®ç°è¿™ä¸€ç‚¹ã€‚</p><ol class=""><li id="096c" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><a class="ae jd" href="https://app.contentful.com/spaces/x2hu75nfw600/entries/2VoqEfclBehJH5eZK6OrnW#1-setup-nextjs-project" rel="noopener ugc nofollow" target="_blank"> Setup Next.js </a></li><li id="a6be" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><a class="ae jd" href="https://app.contentful.com/spaces/x2hu75nfw600/entries/2VoqEfclBehJH5eZK6OrnW#2-create-our-first-nextjs-page" rel="noopener ugc nofollow" target="_blank">åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªNext.jsé¡µé¢</a></li><li id="23a2" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><a class="ae jd" href="https://app.contentful.com/spaces/x2hu75nfw600/entries/2VoqEfclBehJH5eZK6OrnW#3-install-styled-components" rel="noopener ugc nofollow" target="_blank">å®‰è£…æ ·å¼ç»„ä»¶</a></li><li id="509d" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><a class="ae jd" href="https://app.contentful.com/spaces/x2hu75nfw600/entries/2VoqEfclBehJH5eZK6OrnW#4-install-and-setup-styled-components-babel-plugin" rel="noopener ugc nofollow" target="_blank">å®‰è£…å¹¶è®¾ç½®æ ·å¼ç»„ä»¶å·´åˆ«æ’ä»¶</a></li><li id="3206" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><a class="ae jd" href="https://app.contentful.com/spaces/x2hu75nfw600/entries/2VoqEfclBehJH5eZK6OrnW#5-create-custom-_documentjs-file" rel="noopener ugc nofollow" target="_blank"> Create _document.jsæ–‡ä»¶</a></li><li id="4e0c" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><a class="ae jd" href="https://app.contentful.com/spaces/x2hu75nfw600/entries/2VoqEfclBehJH5eZK6OrnW#6-result" rel="noopener ugc nofollow" target="_blank">ç»“æœ</a></li></ol><h1 id="565b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">1.è®¾ç½®Next.jsé¡¹ç›®</h1><p id="9380" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ã€‚å’Œcdæ”¾å…¥è¯¥ç›®å½•ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="cdf3" class="le jt hi la b fi lf lg l lh li">mkdir next-with-styled-component &amp;amp;&amp;amp; cd next-with-styled-component</span></pre><p id="7954" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨æˆ‘ä»¬éœ€è¦åˆ›å»ºæˆ‘ä»¬çš„<code class="du lj lk ll la b">package.json</code>æ–‡ä»¶ã€‚ç„¶ååœ¨æ‚¨çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="cf40" class="le jt hi la b fi lf lg l lh li">npm init</span></pre><p id="caaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å®ƒå°†åˆ›å»ºä¸€ä¸ª<code class="du lj lk ll la b">package.json</code>æ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„é¡¹ç›®å®‰è£…æ‰€æœ‰ä¸Next.jsç›¸å…³çš„ä¾èµ–é¡¹ã€‚åœ¨cmd/ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="53fc" class="le jt hi la b fi lf lg l lh li">npm install --save next react react-dom</span></pre><p id="4f92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å®ƒå°†åˆ›å»ºä¸€ä¸ª<code class="du lj lk ll la b">node_module</code>æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­å®‰è£…æ‰€æœ‰Next.jsç›¸å…³çš„ä¾èµ–é¡¹ã€‚</p><p id="98f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ï¼Œåœ¨æ‚¨å–œæ¬¢çš„ç¼–è¾‘å™¨ä¸­æ‰“å¼€package.jsonæ–‡ä»¶ã€‚æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="5d0a" class="le jt hi la b fi lf lg l lh li">{<br/>  "scripts": {<br/>    "dev": "next",<br/>    "build": "next build",<br/>    "start": "next start"<br/>  }<br/>}</span></pre><h1 id="9a2d" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">2.åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªNext.jsé¡µé¢</h1><p id="962f" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">åˆ›å»ºpagesç›®å½•ï¼Œå¹¶åœ¨pagesç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å<code class="du lj lk ll la b">index.js</code>ã€‚ç°åœ¨æ‰“å¼€<code class="du lj lk ll la b">index.js</code>æ–‡ä»¶ï¼Œå°†ä»¥ä¸‹å†…å®¹ç²˜è´´è¿›å»ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="61d5" class="le jt hi la b fi lf lg l lh li">function Home() {<br/>  return &lt;div&gt;Hello world!&lt;/div&gt;;<br/>}</span><span id="6722" class="le jt hi la b fi lm lg l lh li">export default Home;</span></pre><p id="eedc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åœ¨æµè§ˆå™¨ä¸­è¿è¡Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªé¡µé¢ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="f143" class="le jt hi la b fi lf lg l lh li">npm run dev</span></pre><p id="8a5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å®ƒåœ¨<a class="ae jd" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚</p><h1 id="ef2b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">3.å®‰è£…æ ·å¼ç»„ä»¶</h1><p id="5833" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">ç°åœ¨æ˜¯æ—¶å€™å°†æ ·å¼ç»„ä»¶æ·»åŠ åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­äº†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ·»åŠ æ ·å¼åŒ–çš„ç»„ä»¶ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="30ca" class="le jt hi la b fi lf lg l lh li">npm install --save styled-components</span></pre><h1 id="28d5" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">4.å®‰è£…å’Œè®¾ç½®æ ·å¼ç»„ä»¶å·´åˆ«å¡”æ’ä»¶</h1><p id="5c8a" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">æˆ‘ä»¬è¿˜éœ€è¦<code class="du lj lk ll la b">babel-plugin-styled-components</code>ã€‚å®ƒæœ‰åŠ©äºåœ¨ä¸åŒçš„ç¯å¢ƒä¹‹é—´ä¿æŒä¸€è‡´çš„ç»„ä»¶ç±»åæ•£åˆ—(è¿™æ˜¯æœåŠ¡å™¨ç«¯å‘ˆç°æ‰€å¿…é¡»çš„)ã€‚</p><p id="5768" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°†<code class="du lj lk ll la b">babel-plugin-styled-components</code>å®‰è£…ä¸ºä¸€ä¸ªå¼€å‘ä¾èµ–é¡¹ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="50f4" class="le jt hi la b fi lf lg l lh li">npm install --save-dev babel-plugin-styled-components</span></pre><p id="2815" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç„¶ååœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code class="du lj lk ll la b">.babelrc</code>æ–‡ä»¶ã€‚</p><p id="f7cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‰“å¼€<code class="du lj lk ll la b">.babelrc</code>æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</p><ol class=""><li id="7db6" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">æ·»åŠ â€œä¸‹ä¸€ä¸ª/å·´åˆ«å¡”â€ä½œä¸ºé¢„è®¾</li><li id="7b52" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">æ·»åŠ ä¸€ä¸ªæ ·å¼åŒ–ç»„ä»¶æ’ä»¶ï¼Œå¹¶å°†SSRé€‰é¡¹è®¾ç½®ä¸ºtrue</li></ol><p id="72aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ä½ çš„<code class="du lj lk ll la b">.babelrc</code>æ–‡ä»¶çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="6c91" class="le jt hi la b fi lf lg l lh li">{ <br/>  "presets": ["next/babel"], <br/>  "plugins": [<br/>      ["styled-components", { "ssr": true }]<br/>   ]<br/>}</span></pre><h1 id="bac3" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">5.åˆ›å»ºcustom _document.jsæ–‡ä»¶</h1><p id="d57a" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">ä¸ºäº†åœ¨æœåŠ¡å™¨ç«¯å‘ˆç°æˆ‘ä»¬çš„æ ·å¼åŒ–ç»„ä»¶ï¼Œæˆ‘ä»¬éœ€è¦è¦†ç›–<code class="du lj lk ll la b">_document.js</code>ã€‚ä¸ºæ­¤ï¼Œåœ¨pagesæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª<code class="du lj lk ll la b">_document.js</code>æ–‡ä»¶ã€‚å¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="aeff" class="le jt hi la b fi lf lg l lh li">import Document from "next/document";<br/>//highlight-next-line<br/>import { ServerStyleSheet } from "styled-components";<br/>export default class MyDocument extends Document {<br/>  static async getInitialProps(ctx) {<br/>    //highlight-next-line<br/>    const sheet = new ServerStyleSheet();<br/>    const originalRenderPage = ctx.renderPage;<br/>    try {<br/>      ctx.renderPage = () =&amp;gt;<br/>        originalRenderPage({<br/>          //highlight-next-line<br/>          enhanceApp: App =&amp;gt; props =&amp;gt; sheet.collectStyles()<br/>        });<br/>      const initialProps = await Document.getInitialProps(ctx);</span><span id="5f5f" class="le jt hi la b fi lm lg l lh li">      return {<br/>        ...initialProps,<br/>        styles: (<br/>          &amp;lt;&amp;gt;<br/>            {initialProps.styles}<br/>            //highlight-next-line               <br/>            {sheet.getStyleElement()}<br/>          <br/>        )<br/>      };<br/>    } finally {<br/>      sheet.seal();<br/>    }<br/>  }<br/>}</span></pre><p id="9756" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™é‡Œçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œæ¯æ¬¡åœ¨æœåŠ¡å™¨ç«¯åŠ è½½é¡µé¢æ—¶ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å°†æ ·å¼è¡¨æ’å…¥åˆ°æ–‡æ¡£ä¸­ã€‚</p><h1 id="423f" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">6.ç»“æœ</h1><figure class="kv kw kx ky fd ln"><div class="bz dy l di"><div class="lo lp l"/></div></figure></div></div>    
</body>
</html>