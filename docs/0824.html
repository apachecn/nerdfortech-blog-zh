<html>
<head>
<title>JavaScript Proxy: What and Why?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScriptä»£ç†:ä»€ä¹ˆå’Œä¸ºä»€ä¹ˆï¼Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/javascript-proxy-what-and-why-fca16f6e0088?source=collection_archive---------11-----------------------#2021-02-16">https://medium.com/nerd-for-tech/javascript-proxy-what-and-why-fca16f6e0088?source=collection_archive---------11-----------------------#2021-02-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d23374af4c51d3c15a2e06609c223c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XjtXg3nNdpyi381S.png"/></div></div></figure><p id="bb46" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">EcmaScript 2015å¼•å…¥äº†å¦ä¸€ä¸ªå°šæœªå¹¿æ³›ä½¿ç”¨çš„ç‰¹æ€§ã€‚JavaScriptä»£ç†å…è®¸æˆ‘ä»¬ç”¨ä¸€ä¸ªå±‚æ¥åŒ…è£…ç°æœ‰çš„å¯¹è±¡ã€‚è¯¥å±‚å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›è¯¸å¦‚æ‹¦æˆªå±æ€§å’Œæ–¹æ³•ä¹‹ç±»çš„åŠŸèƒ½ã€‚å³ä½¿å±æ€§ä¸å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼</p><p id="2544" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">é‚£æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p><p id="197e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JavaScriptä»£ç†è®©æˆ‘ä»¬èƒ½å¤Ÿæ”¹å˜å¯¹è±¡å’Œå‡½æ•°çš„åº•å±‚è¡Œä¸ºã€‚å®ƒä»¬å¯ä»¥è¢«è®¤ä¸ºæ˜¯JavaScriptå¯¹è±¡çš„ä¸­é—´ä»¶ã€‚å®ƒå…è®¸æˆ‘ä»¬è¦†ç›–å†…éƒ¨æ“ä½œï¼Œæ¯”å¦‚å¯¹è±¡å±æ€§æŸ¥æ‰¾ã€èµ‹å€¼ã€æšä¸¾ã€å‡½æ•°è°ƒç”¨ã€ç”Ÿæˆå™¨è¡Œä¸ºã€è¿­ä»£ç­‰ç­‰ã€‚</p><p id="dd65" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨æˆ‘ä»¬å¼€å§‹å£°æ˜JavaScriptä»£ç†ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹æœ¯è¯­ã€‚</p><h1 id="e1a4" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">éšèº«è¡Œæ</h1><p id="c1a4" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">æˆ‘ä»¬å¯ä»¥è¦†ç›–çš„å†…éƒ¨æ–¹æ³•è¢«ç§°ä¸ºé™·é˜±ã€‚JavaScriptä»£ç†APIå…è®¸æˆ‘ä»¬è¦†ç›–ä»¥ä¸‹å†…å®¹:</p><h1 id="e216" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å¯¹è±¡æ–¹æ³•:</h1><p id="ab25" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">getPrototypeOf()<br/>setPrototypeOf()<br/>isExtensible()<br/>prevent extensions()<br/>getOwnPropertyDescriptor()<br/>ownKeys()</p><h1 id="f546" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å±æ€§è·å–å™¨/è®¾ç½®å™¨:</h1><p id="ad62" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">has()<br/>get()<br/>set()<br/>delete property()</p><h1 id="d280" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å‡½æ•°æ–¹æ³•:</h1><p id="7f6e" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">apply() <br/>æ„é€ ()</p><h1 id="b650" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">ç›®æ ‡</h1><p id="b1f1" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">éœ€è¦è¦†ç›–å…¶å±æ€§çš„å¯¹è±¡ç§°ä¸ºç›®æ ‡ã€‚å®ƒå¯ä»¥æ˜¯æˆ‘ä»¬æƒ³è¦çš„ä»»ä½•ç‰©ä½“ã€‚è¿™æ„å‘³ç€å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå¸¸è§„çš„JSå¯¹è±¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä»£ç†æœ¬èº«ã€‚</p><h1 id="409e" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å¤„ç†è€…</h1><p id="be71" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">ç”±äºä¸€ä¸ªå¯¹è±¡ä¸Šæœ‰å¤šä¸ªé™·é˜±ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ºå•ä¸ªå¯¹è±¡è®¾ç½®å¤šä¸ªé…ç½®ã€‚å› æ­¤ï¼Œä»£ç†é…ç½®è¢«ç§°ä¸ºå¤„ç†ç¨‹åºã€‚å®ƒå¯ä»¥æœ‰å¤šä¸ªé™·é˜±ã€‚è¯»å–ç›®æ ‡å±æ€§çš„geté™·é˜±ï¼Œå†™å…¥ç›®æ ‡å±æ€§çš„seté™·é˜±ï¼Œç­‰ç­‰ã€‚</p><h1 id="d65d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å®šä¹‰JavaScriptä»£ç†</h1><p id="5154" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†æœ¯è¯­ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªJavaScriptä»£ç†ï¼</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="6758" class="la jp hi kw b fi lb lc l ld le">let proxy = new Proxy(target, handler);</span></pre><p id="6358" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨ï¼Œæ¯å½“æˆ‘ä»¬åœ¨ä»£ç†ä¸Šæ‰§è¡Œæ“ä½œæ—¶ï¼ŒJavaScriptå°†åœ¨å†…éƒ¨å¼•ç”¨å¤„ç†ç¨‹åºã€‚å¦‚æœä»£ç†ä¸Šå­˜åœ¨ç›¸åº”çš„é™·é˜±ï¼Œå®ƒå°†è¢«è°ƒç”¨ã€‚å¦åˆ™å°†åœ¨ç›®æ ‡ä¸Šæ‰§è¡Œæ“ä½œã€‚</p><p id="25de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æœæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªåœ¨å¤„ç†ç¨‹åºä¸Šæ²¡æœ‰ä»»ä½•é™·é˜±çš„ä»£ç†ï¼Œ</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="b0e7" class="la jp hi kw b fi lb lc l ld le">let proxy = new Proxy(target, {});</span></pre><p id="bbf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä»£ç†æ˜¯ç›®æ ‡å¯¹è±¡å‘¨å›´çš„é€æ˜åŒ…è£…ã€‚</p><p id="ef4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä»£ç†æœ¬èº«æ²¡æœ‰ä»»ä½•å±æ€§ã€‚åœ¨æˆ‘ä»¬å¼€å§‹æ‹¦æˆªå¤„ç†ç¨‹åºä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¤„ç†ç¨‹åºæ–¹æ³•æ˜¯ä»€ä¹ˆæ—¶å€™è¢«è§¦å‘çš„ã€‚</p><p id="85cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> get: </strong>è¯»å–ä¸€ä¸ªå±æ€§<br/> <strong class="is hj"> set: </strong>å†™å…¥ä¸€ä¸ªå±æ€§<br/> <strong class="is hj"> has: </strong> inè¿ç®—ç¬¦<br/> <strong class="is hj"> deleteProperty: </strong>åˆ é™¤è¿ç®—ç¬¦<br/> <strong class="is hj"> apply: </strong>å‡½æ•°è°ƒç”¨<br/> <strong class="is hj"> construct: </strong> newè¿ç®—ç¬¦<br/><strong class="is hj">getPrototypeOf:</strong>object . getPrototypeOf<br/><strong class="is hj">set prototypeof:</strong>object . setPrototypeOf..åœ¨ï¼ŒObject.keys/values/entries<br/><strong class="is hj">ownKeys:</strong>object . getownpropertymanamesï¼Œobject . getownpropertymodalsï¼Œfor..åœ¨Object.keys/values/entries</p><p id="4405" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†JavaScriptä»£ç†çš„æ‰€æœ‰ç»†èŠ‚ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›ä¾‹å­å§ï¼</p><h1 id="a84f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">ä½¿ç”¨è·å–é™·é˜±åˆ†é…é»˜è®¤å€¼</h1><p id="729d" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">è®©æˆ‘ä»¬ä¸ºæœªå®šä¹‰çš„å±æ€§æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼ã€‚</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="55f3" class="la jp hi kw b fi lb lc l ld le">const handler = {<br/>	get: (obj, property) =&gt; <br/>  	property in obj ? obj[property] : 'you forgot to assign a value to this property bruh'<br/>}<br/><br/>const objectWithDefaultValue = new Proxy({}, handler);<br/><br/>objectWithDefaultValue.foo = 'bar';<br/><br/>console.log(objectWithDefaultValue.foo); // bar<br/>console.log(objectWithDefaultValue['hello there']); // you forgot to assign a value to this property bruh</span></pre><p id="a1eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬å®šä¹‰çš„geté™·é˜±ä¼šè¦†ç›–æŸ¥æ‰¾è¡Œä¸ºã€‚å¦‚æœå¯¹è±¡æœ‰å·²å®šä¹‰çš„å±æ€§ï¼Œæˆ‘ä»¬è¿”å›å€¼ã€‚å¦åˆ™æˆ‘ä»¬è¿”å›æˆ‘ä»¬çš„è‡ªå®šä¹‰æ¶ˆæ¯ã€‚</p><h1 id="c833" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">ä½¿ç”¨è®¾ç½®çš„é™·é˜±æ‰§è¡ŒéªŒè¯</h1><p id="a1c4" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">JavaScriptåœ¨é›†åˆé™·é˜±ä¸Šæœ‰ä¸€ä¸ªä¸å˜é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå†…éƒ¨æ–¹æ³•éœ€è¦æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ã€‚å¦‚æœå€¼å†™å…¥æˆåŠŸï¼Œå¤„ç†ç¨‹åºå¿…é¡»è¿”å›trueã€‚å¦åˆ™å®ƒä¼šè¿”å›falseæˆ–æŠ›å‡ºé”™è¯¯ã€‚</p><p id="89f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬åœ¨è®¾ç½®ageå±æ€§ä¹‹å‰åˆ›å»ºä¸€ä¸ªä»£ç†æ¥éªŒè¯å®ƒã€‚</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="cbd9" class="la jp hi kw b fi lb lc l ld le">let handler = {<br/>  set: function(obj, property, value) {<br/>    if (property === 'age') {<br/>      if (!Number.isInteger(value)) {<br/>        throw new TypeError('Age is not an integer');<br/>      }<br/>      if (value &gt; 200) {<br/>        throw new RangeError('Age is invalid, enter value less than 200');<br/>      }<br/>    }<br/><br/>    // Default behavior of storing the value<br/>    obj[prop] = value;<br/><br/>    return true;<br/>  }<br/>};<br/><br/>const person = new Proxy({}, handler);<br/><br/>person.age = 18;<br/>console.log(person.age); // 18<br/>person.age = 'old';    // Throws exception: Age is not an intege<br/>person.age = 250;        // Throws exception: Age is invalid, enter value less than 200</span></pre><h1 id="59b3" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">ä½¿ç”¨HASã€OWNKEYSã€SETã€GETå’ŒDELETEé™·é˜±çš„ç§æœ‰å±æ€§</h1><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="57d1" class="la jp hi kw b fi lb lc l ld le">const hidePrivateFields = (target, prefix = "_") {<br/>  return new Proxy(target, {<br/>    has: (target, prop) =&gt; {<br/>      if(typeof prop === "string" &amp;&amp; prop.startsWith(prefix)){<br/>        return false;<br/>      }<br/>      return prop in target<br/>    },<br/>    ownKeys: target =&gt; {<br/>      return Reflect.ownKeys(target).filter(<br/>        prop =&gt; typeof prop !== "string" || !prop.startsWith(prefix)<br/>      )<br/>    },<br/>    get: (target, prop) =&gt; {<br/>      if(typeof prop === "string" &amp;&amp; prop.startsWith(prefix)){<br/>        return undefined;<br/>      }<br/>      return target[prop];<br/>    },<br/>    deleteProperty(target, prop) { <br/>      if (prop.startsWith('_')) {<br/>        return true;<br/>      } else {<br/>        delete target[prop];<br/>        return true;<br/>    }<br/>  },<br/><br/>  });<br/>}<br/><br/>let userInfo = hidePrivateFields({<br/>  firstName: 'Saransh',<br/>  _password: 'password'<br/>})<br/><br/>userInfo._password           // undefined<br/>('_password' in userInfo)    // false<br/>Object.keys(userInfo)        // ['firstName']<br/>delete userInfo._password    // returns true, but does not delete the password</span></pre><h1 id="bb01" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">ç»“è®º</h1><p id="1205" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">æˆ‘ä»¬å…³äºJavaScriptä»£ç†çš„å¸–å­åˆ°æ­¤ç»“æŸï¼</p><p id="03d1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨æˆ‘ä»¬ç»“æŸè¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œæœ‰å‡ ä¸ªé—®é¢˜:</p><ul class=""><li id="a54d" class="lf lg hi is b it iu ix iy jb lh jf li jj lj jn lk ll lm ln bi translated">ç›®å‰ï¼ŒIEä¸­ä¸æ”¯æŒä»£ç†ã€‚<br/>å¹¶ä¸”æ²¡æœ‰å®Œæ•´çš„èšåˆå¡«å……å¯ç”¨ğŸ™</li><li id="176d" class="lf lg hi is b it lo ix lp jb lq jf lr jj ls jn lk ll lm ln bi translated">æ²¡æœ‰åŠæ³•ç¡®å®šä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä»£ç†ã€‚</li><li id="075d" class="lf lg hi is b it lo ix lp jb lq jf lr jj ls jn lk ll lm ln bi translated">ä¸€æ—¦å®šä¹‰ï¼Œå°±ä¸å¯èƒ½æ”¹å˜ç›®æ ‡æˆ–å¤„ç†ç¨‹åºå¯¹è±¡ã€‚</li><li id="32b2" class="lf lg hi is b it lo ix lp jb lq jf lr jj ls jn lk ll lm ln bi translated">ä»£ç†æ€§èƒ½ç›¸å¯¹è¾ƒæ…¢ã€‚</li><li id="38e6" class="lf lg hi is b it lo ix lp jb lq jf lr jj ls jn lk ll lm ln bi translated">ç›®æ ‡å¿…é¡»æ˜¯å¯¹è±¡ï¼Œä»£ç†ä¸èƒ½åº”ç”¨äºåŸºæœ¬ä½“ã€‚</li></ul><p id="2b3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬çŸ¥é“æ‚¨çš„ä½¿ç”¨ä½“éªŒï¼Œæˆ–è€…æ‚¨æ˜¯å¦é¢ä¸´ä»»ä½•é—®é¢˜ã€‚ä½ æ‰“ç®—åˆ›å»ºä»€ä¹ˆæ ·çš„ä»£ç†ï¼Ÿè¯·åœ¨ä¸‹é¢ç•™è¨€ï¼Œè®©æˆ‘ä»¬çŸ¥é“ã€‚</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="5832" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ma">åŸè½½äº2021å¹´2æœˆ16æ—¥https://www.wisdomgeek.com</em><em class="ma">T42</em><a class="ae mb" href="https://www.wisdomgeek.com/development/web-development/javascript/javascript-proxy-what-and-why/" rel="noopener ugc nofollow" target="_blank">ã€‚</a></p></div></div>    
</body>
</html>