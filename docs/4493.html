<html>
<head>
<title>Setting up path redirects in GatsbyJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨ GatsbyJS ä¸­è®¾ç½®è·¯å¾„é‡å®šå‘</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/nerd-for-tech/setting-up-path-redirects-in-gatsbyjs-6af3ca7f727b?source=collection_archive---------10-----------------------#2021-07-23">https://medium.com/nerd-for-tech/setting-up-path-redirects-in-gatsbyjs-6af3ca7f727b?source=collection_archive---------10-----------------------#2021-07-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="977a" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">é€šè¿‡åœ¨ _redirect æ–‡ä»¶ä¸­å®šä¹‰è§„åˆ™ï¼Œæ°¸ä¹…åœ°é‡å®šå‘ Gatsby å’Œ Netlify ä¸­çš„è·¯å¾„ã€‚</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/fd90dcf7574cab4eaee9e548fefeb61e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Mdsa_sDzmr8h0AIK.jpg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">"ç…§ç‰‡ç”±<a class="ae jn" href="https://unsplash.com/@julianhochgesang?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">æœ±åˆ©å®‰Â·éœæ ¼æ¡‘</a>åœ¨<a class="ae jn" href="https://unsplash.com/s/photos/move?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„"</figcaption></figure><p id="0ed8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ğŸ””è¿™ç¯‡æ–‡ç« æœ€åˆå‘å¸ƒåœ¨æˆ‘çš„ç½‘ç«™<a class="ae jn" href="https://MihaiBojin.com/personal-site/path-redirects-in-gatsbyjs?utm_source=external&amp;utm_medium=organic&amp;utm_campaign=rss" rel="noopener ugc nofollow" target="_blank">MihaiBojin.com</a>ä¸Šã€‚ğŸ””</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="a782" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">åœ¨ä»»ä½•ä¸€ä¸ªç½‘ç«™çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œéƒ½ä¼šæœ‰ä¸€æ®µæ—¶é—´ä¸ºäº†æ›´å¥½çš„ SEO è¯„çº§è€Œé‡æ–°ç»„ç»‡å†…å®¹ã€‚</p><p id="bde9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œæ‚¨éœ€è¦å°†æ—§è·¯å¾„é‡å®šå‘åˆ°æ–°è·¯å¾„ã€‚å¯¹äºå¸¸è§„ç½‘ç«™ï¼Œæ‚¨å¯ä»¥è½»æ¾å®šä¹‰ä»»ä½•å¿…è¦çš„é‡å®šå‘ã€‚æ¯”å¦‚<a class="ae jn" href="https://httpd.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache </a>æœ‰<a class="ae jn" href="https://httpd.apache.org/docs/2.4/rewrite/remapping.html" rel="noopener ugc nofollow" target="_blank">é‡å†™å¼•æ“</a>ï¼Œ<a class="ae jn" href="https://www.nginx.com/" rel="noopener ugc nofollow" target="_blank"> Nginx </a>æœ‰<a class="ae jn" href="https://www.nginx.com/blog/creating-nginx-rewrite-rules/" rel="noopener ugc nofollow" target="_blank">é‡å†™</a> sï¼Œç­‰ç­‰ï¼</p><p id="6292" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">è¿™é€šå¸¸å¦‚ä¸‹è¿›è¡Œ:</p><ul class=""><li id="fd05" class="kr ks hi jq b jr js ju jv jx kt kb ku kf kv kj kw kx ky kz bi translated">ç”¨æˆ·åœ¨å…¶æµè§ˆå™¨ä¸­è¯·æ±‚<code class="du la lb lc ld b">/path/a</code></li><li id="fefb" class="kr ks hi jq b jr le ju lf jx lg kb lh kf li kj kw kx ky kz bi translated">å“åº”çš„ web æœåŠ¡å™¨æ£€æŸ¥å…¶é‡å®šå‘è¡¨ï¼Œå¹¶ç¡®å®šå†…å®¹å·²ç»ç§»åŠ¨</li><li id="c1ae" class="kr ks hi jq b jr le ju lf jx lg kb lh kf li kj kw kx ky kz bi translated">ç„¶åï¼Œå®ƒç”¨ä¸€ä¸ª<code class="du la lb lc ld b">301 Moved Permanently</code>ã€<code class="du la lb lc ld b">Location: /path/b</code>æŠ¥å¤´æ¥å“åº”</li><li id="4eb9" class="kr ks hi jq b jr le ju lf jx lg kb lh kf li kj kw kx ky kz bi translated">é€šçŸ¥ç”¨æˆ·çš„æµè§ˆå™¨åŠ è½½<code class="du la lb lc ld b">/path/b</code></li></ul></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="802f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">å¯¹äºåƒ Gatsby è¿™æ ·é™æ€ç”Ÿæˆçš„ç«™ç‚¹ï¼Œå®ç°è¿™ç§æµé‡å¹¶ä¸å®¹æ˜“ã€‚é¦–å…ˆï¼ŒGatsby æ‰€åšçš„åªæ˜¯ç”Ÿæˆ HTMLã€‚å…¶æ¬¡ï¼Œweb æœåŠ¡å™¨(ä¸æ˜¯ HTML)å¤„ç†<a class="ae jn" href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header" rel="noopener ugc nofollow" target="_blank">å“åº”å¤´</a>ã€‚</p><p id="5f0a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ä¸€äº›ç ”ç©¶æ­ç¤ºäº†<a class="ae jn" href="https://support.gatsbyjs.com/hc/en-us/articles/1500003051241-Working-with-Redirects" rel="noopener ugc nofollow" target="_blank">ç›–èŒ¨æ¯”äº‘å¦‚ä½•å¤„ç†é‡å®šå‘</a>ã€‚</p><p id="962b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">è¿™ç§æ–¹æ³•æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯éœ€è¦æ‚¨å°†<code class="du la lb lc ld b">gatsby-node.js</code>ä¸­çš„æ‰€æœ‰é‡å®šå‘è§„åˆ™å®šä¹‰ä¸º javascriptã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿™å°±åƒæ˜¯ä¸€ç§ä»£ç çš„å‘³é“...</p><p id="a042" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ç»è¿‡è¿›ä¸€æ­¥çš„ç ”ç©¶ï¼Œæˆ‘å‘ç°äº†ã€Netlify å¦‚ä½•å¤„ç†é‡å®šå‘ã€‚åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­åˆ—å‡ºæˆ‘çš„é‡å®šå‘è§„åˆ™ä¼¼ä¹æ›´åˆé€‚ã€‚ä½œä¸ºä¸€ä¸ªé¢å¤–çš„å¥½å¤„ï¼Œå¦‚æœæˆ‘å†³å®šæŠŠæˆ‘çš„ç½‘ç«™ä»ç›–èŒ¨æ¯”çš„äº‘è½¬ç§»åˆ°<a class="ae jn" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank">çš„ç½‘ç»œï¼Œæˆ‘å·²ç»é¢†å…ˆä¸€æ­¥äº†ã€‚</a></p><p id="ac9e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">è¿™æ–¹é¢çš„ä»£ç éå¸¸ç®€å•ï¼›çœ‹çœ‹å§ï¼</p><h2 id="51ea" class="lj lk hi bd ll lm ln lo lp lq lr ls lt jx lu lv lw kb lx ly lz kf ma mb mc md bi translated">1.ä»æ–‡æœ¬æ–‡ä»¶ç”Ÿæˆé‡å®šå‘</h2><pre class="iy iz ja jb fd me ld mf mg aw mh bi"><span id="02d0" class="lj lk hi ld b fi mi mj l mk ml">async function processRedirects({ actions, reporter }) {<br/>  const lineReader = readline.createInterface({<br/>    // using the same file name as Netlify<br/>    input: fs.createReadStream('_redirects'),<br/>  });<br/><br/>  const { createRedirect } = actions;<br/><br/>  // process every line and define the path redirect<br/>  lineReader.on('line', (line) =&gt; {<br/>    const [fromPath, toPath] = line.split(/\s+/);<br/>    console.log(`Redirecting ${fromPath} to ${toPath}`);<br/>    createRedirect({ fromPath, toPath });<br/>  });<br/>}</span></pre><h2 id="5308" class="lj lk hi bd ll lm ln lo lp lq lr ls lt jx lu lv lw kb lx ly lz kf ma mb mc md bi translated">2.è°ƒç”¨ç›–èŒ¨æ¯”-node.js ä¸­çš„é€»è¾‘</h2><pre class="iy iz ja jb fd me ld mf mg aw mh bi"><span id="e912" class="lj lk hi ld b fi mi mj l mk ml">exports.createPages = async ({ graphql, actions, reporter }) =&gt; {<br/>  ...<br/>  await processRedirects({ actions, reporter });<br/>};</span></pre><h2 id="8a1e" class="lj lk hi bd ll lm ln lo lp lq lr ls lt jx lu lv lw kb lx ly lz kf ma mb mc md bi translated">3.å®šä¹‰æ‰€æœ‰é‡å®šå‘è§„åˆ™</h2><p id="bf11" class="pw-post-body-paragraph jo jp hi jq b jr mm ij jt ju mn im jw jx mo jz ka kb mp kd ke kf mq kh ki kj hb bi translated">ä¾‹å¦‚ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°†<code class="du la lb lc ld b">/tag</code>è·¯å¾„é‡å®šå‘åˆ°<code class="du la lb lc ld b">/tags</code>çš„å®šä¹‰ã€‚</p><pre class="iy iz ja jb fd me ld mf mg aw mh bi"><span id="537b" class="lj lk hi ld b fi mi mj l mk ml">/tag   /tags</span></pre><h2 id="ee08" class="lj lk hi bd ll lm ln lo lp lq lr ls lt jx lu lv lw kb lx ly lz kf ma mb mc md bi translated">å¥¹å°±å†™äº†è¿™ä¹ˆå¤šï¼Œå„ä½ã€‚</h2><p id="8cf7" class="pw-post-body-paragraph jo jp hi jq b jr mm ij jt ju mn im jw jx mo jz ka kb mp kd ke kf mq kh ki kj hb bi translated">æˆ‘åœ¨è¿™é‡Œæ²¡ä»€ä¹ˆå¯è¯´çš„äº†ã€‚å¸Œæœ›ä½ è§‰å¾—è¿™ä¸ªå°æ•™ç¨‹æœ‰ç”¨ï¼</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="4a62" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« å¹¶æƒ³é˜…è¯»æ›´å¤šç±»ä¼¼çš„æ–‡ç« ï¼Œè¯·è®¢é˜…æˆ‘çš„ç®€è®¯ã€‚æˆ‘æ¯éš”å‡ å‘¨å°±å‘ä¸€å°ï¼</p></div></div>    
</body>
</html>