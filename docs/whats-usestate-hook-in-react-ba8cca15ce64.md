# React ä¸­çŠ¶æ€é’©å­æœ‰ä»€ä¹ˆç”¨

> åŸæ–‡ï¼š<https://medium.com/nerd-for-tech/whats-usestate-hook-in-react-ba8cca15ce64?source=collection_archive---------13----------------------->

![](img/bebe05dc2588ebe46a682cfa8f7e7221.png)

ä½ å¥½ï¼Œç¨‹åºå‘˜ä»¬ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è§£é‡Šç½‘é¡µè®¾è®¡ä¸­ä½¿ç”¨çš„æ–°æŠ€æœ¯ã€‚ä½œä¸ºä¸€å web å¼€å‘äººå‘˜ï¼Œå¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ reactï¼Œè¿™æ˜¯æ‚¨å¿…é¡»å®Œæˆçš„ä»»åŠ¡ã€‚è®©æˆ‘ä»¬ä»å¤´å¼€å§‹â€¦â€¦

> ä½ åœ¨ react ä¸­ä½¿ç”¨è¿‡çŠ¶æ€ç‰¹æ€§å—ï¼Ÿ

åˆ«æ‹…å¿ƒã€‚è®©æˆ‘å±•ç¤ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¸ä½¿ç”¨ä»»ä½•ç‰¹æ®Šçš„ä¸œè¥¿ã€‚æœ‰æ—¶å€™ä½ ä¼šå¾ˆç†Ÿæ‚‰è¿™æ®µä»£ç ã€‚è¿™æ˜¯ä¸ºäº†è®©åº”ç”¨ç¨‹åºåœ¨å•å‡»ç›¸å…³æŒ‰é’®æ—¶å¢åŠ å’Œå‡å°‘åä¸º count çš„å˜é‡çš„å€¼ã€‚

å›¾ä¸€

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨ class base ä½¿ç”¨çŠ¶æ€æ¥æ›´æ”¹ count çš„å€¼ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸºç±»ç»„ä»¶ã€‚é€šå¸¸æˆ‘ä»¬ä¸å¾—ä¸åœ¨æ¸²æŸ“å’Œè¿”å›ä¸­ä½¿ç”¨ jsx ä»£ç æ®µã€‚

> ***ä»€ä¹ˆæ˜¯é’©å­ï¼Ÿ***

é’©å­æ˜¯ React 16.8 ç‰ˆæœ¬ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§ã€‚åœ¨ react ä¸­ï¼Œå®ƒå…è®¸åœ¨ä¸ä½¿ç”¨ç±»çš„æƒ…å†µä¸‹ä½¿ç”¨çŠ¶æ€ã€æ•ˆæœå’Œå…¶ä»– react ç‰¹æ€§ã€‚

é’©å­ä¸æ˜¯åŸºç±»ç»„ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäºåŠŸèƒ½çš„ç»„ä»¶ã€‚å½“æˆ‘ä»¬ä½¿ç”¨é’©å­æ—¶ï¼Œæœ‰ä¸€äº›è§„åˆ™è¦éµå®ˆã€‚

> *ä»¥åæƒ³çœ‹è¿™ä¸ªæ•…äº‹å—ï¼Ÿ* [*ä¿å­˜åœ¨æ—¥å¿—ä¸­ã€‚*](https://usejournal.com/?utm_source=medium.com&utm_medium=noteworthy_blog&utm_campaign=tech&utm_content=guest_post_read_later_text)

01) ***åªè°ƒç”¨é¡¶å±‚çš„é’©å­***â€”â€”ä¸è°ƒç”¨å¾ªç¯ã€æ¡ä»¶æˆ–åµŒå¥—å‡½æ•°å†…çš„é’©å­ã€‚

02) ***åªä» React å‡½æ•°*** è°ƒç”¨é’©å­â€”â€”ä¸èƒ½ä»å¸¸è§„ JavaScript å‡½æ•°è°ƒç”¨é’©å­ã€‚ç›¸åï¼Œä½ å¯ä»¥ä» React å‡½æ•°ç»„ä»¶è°ƒç”¨é’©å­ã€‚

å½“æˆ‘ä»¬å­¦ä¹  react æŒ‚é’©æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹  useStateã€useEffectã€UseRefï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥åœ¨ react ç»„ä»¶ä¸­æ„å»ºè‡ªå®šä¹‰æŒ‚é’©ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘åªè®¨è®º useState react é’©å­ã€‚

> ***useState é’©å­æœ‰ä»€ä¹ˆç”¨ï¼Ÿ***

é’©å­æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå¯ä»¥è®©ä½ â€œé’©å…¥â€React ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼ŒuseState æ˜¯ä¸€ä¸ªé’©å­ï¼Œå®ƒå…è®¸æ‚¨å‘å‡½æ•°ç»„ä»¶æ·»åŠ  React çŠ¶æ€ã€‚

ä¸ºäº†è®©ä½ æ›´æ¸…æ¥šï¼Œæˆ‘ç”¨ react useState react hook ç¼–å†™äº†ä¸Šé¢çš„ä¾‹å­ã€‚

å›¾äºŒ

è®©æˆ‘ä»¬é€ä¸€æ¯”è¾ƒè¿™å‡ æ®µä»£ç ã€‚ç„¶åä½ å¯ä»¥å¾—åˆ°æ›´å¤šçš„æ¾„æ¸…ï¼Œä»¥ååº”é’©ã€‚

# **ç±»** VS åŠŸèƒ½

è¿™æ˜¯æˆ‘åœ¨ç¬¬ä¸€æ®µä»£ç ä¸­ä½¿ç”¨çš„åŸºäºç±»çš„ react ç»„ä»¶çš„ä¸€ä¸ªä¾‹å­(å›¾ 1)ã€‚

```
class App extends React.Component {render() {
      return (
         //you can code what would you return
)
}
}
```

æ­£å¦‚æˆ‘å‰é¢æ‰€è¯´çš„ï¼Œæˆ‘ä»¬åœ¨ react é’©å­ä¸­ä½¿ç”¨äº†åŸºäºå‡½æ•°çš„ç»„ä»¶ã€‚åƒè¿™æ ·çš„å‡½æ•°åŸºç¡€ç»„ä»¶ã€‚

```
function App() { return (
           //you can code what would you return
     )
}
```

# å£°æ˜çŠ¶æ€å˜é‡

å½“æˆ‘ä»¬åœ¨ react ä¸­ä½¿ç”¨çŠ¶æ€ç‰¹æ€§æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å£°æ˜å˜é‡æ¥å­˜å‚¨çŠ¶æ€ã€‚

åœ¨ç±»ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡åœ¨æ„é€ å™¨ä¸­å°† **this.state** è®¾ç½®ä¸º **{count:0}** æ¥å£°æ˜ count å˜é‡å¹¶å­˜å‚¨ 0ã€‚

```
class Example extends React.Component {
  constructor(props) {
    super(props);
    this.state = {     
     count: 0    
};  
}
```

ç„¶åæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸€ä¸‹å‡½æ•°åº“ react hook ç»„ä»¶å’Œç±»åº“ react ç»„ä»¶çš„åŒºåˆ«ã€‚åœ¨æˆ‘ä»¬ä½¿ç”¨ **useState** é’©å­ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥åƒè¿™æ ·å¯¼å…¥ useState ä¾èµ–é¡¹ã€‚

```
import React, { useState } from 'react';

function Example() {
       [count, setCount] = useState(0);
}
```

# ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨ useState å‡½æ•°ä¸­ä¼ é€’ä¸€ä¸ªå‚æ•°

å®ƒæ˜¯å˜é‡å½“å‰å€¼çš„åˆå§‹å€¼ã€‚å¦‚æœæˆ‘ä»¬åƒè¿™æ ·ç¼–ç ï¼Œ

```
[count, setCount] = useState(0);
```

åˆå§‹å€¼ä¸º 0ï¼Œ(è®¡æ•°=0)ã€‚

å¦ä¸€ä¸ªä¾‹å­ï¼Œ

```
[name, setName] = useState("vickey");
```

å®ƒä¹Ÿæ˜¯ name å˜é‡çš„åˆå§‹å€¼ã€‚

â€œvickeyâ€æ˜¯åä¸º name çš„å˜é‡çš„åˆå§‹å€¼ã€‚

# **ä¸ºä»€ä¹ˆ count & setCount** æœ‰ä¸¤ä¸ªå˜é‡

é€šå¸¸å½“æˆ‘ä»¬è°ƒç”¨ useState å‡½æ•°æ—¶ï¼Œå®ƒè¿”å›ä¸€å¯¹å€¼*ã€‚*å› æ­¤ï¼Œæˆ‘ä»¬ä¸ºå­˜å‚¨å½“å‰å€¼(è®¡æ•°)å’Œæ›´æ–°å€¼(è®¾ç½®è®¡æ•°)å£°æ˜ä¸¤ä¸ªå˜é‡ã€‚

# æ›´æ–°çŠ¶æ€

åœ¨åŸºäºç±»çš„ç»„ä»¶ä¸­ï¼Œè¿™æ˜¯æ›´æ–°å˜é‡å€¼çš„æ–¹æ³•(å›¾ä¸€)ã€‚

```
count: this.state.count + 1,//it's like count=count + 1
```

æ¥ä¸‹æ¥æ˜¯å¦‚ä½•ä½¿ç”¨ react hook æ›´æ–°åŸºäºå‡½æ•°çš„ç»„ä»¶ä¸­çš„å€¼ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨è®¡æ•°ä¸ŠåŠ  1ã€‚é‚£ä¹ˆä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„(å›¾äºŒ)ã€‚

```
setCount(count + 1)
```

å¦‚æœè®¡æ•°å€¼çš„åˆå§‹å€¼æ˜¯ 0ï¼Œé‚£ä¹ˆåœ¨è¯¥ä»£ç æ®µä¹‹åï¼Œè®¡æ•°å€¼æ˜¯ 1ã€‚

å¦ä¸€ä¸ªä¾‹å­ï¼Œ

```
setName("john")
```

å¦‚æœåå­—çš„åˆå§‹å€¼æ˜¯â€œvickeyâ€ï¼Œé‚£ä¹ˆåœ¨ä»£ç æ®µä¹‹åï¼Œåå­—çš„å€¼å°±æ˜¯â€œjohnâ€ã€‚

ä¸ºäº†å®ç°å®Œç¾å’Œå¯è¯»çš„ç¼–ç ï¼Œåœ¨æˆ‘çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘é€šè¿‡å•ç‹¬çš„å‡½æ•°**increment handler**å’Œ**increment handler**æ¥å‡å°‘å’Œå¢åŠ  count å˜é‡çš„å€¼ã€‚

æˆ‘è®¤ä¸ºä½ å¯¹è®¨è®ºçš„å†…å®¹æœ‰æ›´å¥½çš„ç†è§£ã€‚

> æˆ‘ä»¬è®¨è®ºè¿‡çš„å¸½å­ã€‚

â†’åœ¨ä¸ä½¿ç”¨ä»»ä½•ç‰¹æ®ŠæŠ€æœ¯çš„æƒ…å†µä¸‹ç¼–å†™ç®€å•çš„ familer ç¤ºä¾‹ã€‚

â†’ä½¿ç”¨ react useState æŒ‚é’©å¼€å‘ç›¸åŒçš„ä»£ç 

â†’æ¯”è¾ƒä¸»ä¹‰

React ä¸­çš„ç±»ä¸å‡½æ•°

2)å£°æ˜ä¸¤ä¸ªå›¾çš„çŠ¶æ€å˜é‡

3)ä½¿ç”¨ä½¿ç”¨çŠ¶æ€åˆå§‹åŒ–å˜é‡

4)ä½¿ç”¨é’©å­æ›´æ–° react ä¸­çš„å˜é‡

åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡åšå®¢ä¸­ï¼Œæˆ‘å°†è®²è¿°å¦ä¸€ä¸ªå«åšâ€œuseEffectâ€çš„ react é’©å­ã€‚ä¸æˆ‘çš„åšå®¢ä¿æŒè”ç³»ã€‚å¿«ä¹è®°å½•â€¦â€¦!ï¼ï¼ï¼ï¼

ğŸ“å°†è¿™ä¸ªæ•…äº‹ä¿å­˜åœ¨[æ—¥å¿—](https://usejournal.com/?utm_source=medium.com&utm_medium=noteworthy_blog&utm_campaign=tech&utm_content=guest_post_read_later_text)ä¸­ã€‚